<div> 
    <div>
        <div class="m-333">
          <!-- <span fxFlex></span> -->
          <button mat-raised-button class="mb-05" color="primary" (click)="requestAgent({}, true)"  >Ask an Agent to Sell Stock</button>
          <span fxFlex="8px"></span>
          <button mat-raised-button class="mb-05" color="warn" routerLink="/invoice/home" >Make Transaction</button>
      </div>
    </div>

  
    <mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}">
      <mat-card-content class="p-0">
        <ngx-datatable
              class="material ml-0 mr-0"
              [rows]="partners"
              [columnMode]="'force'"
              [headerHeight]="50" 
              [footerHeight]="50"
              [scrollbarH]="true"
              [limit]="10"
              [rowHeight]="50">
              <ngx-datatable-column name="Name" [flexGrow]="1">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row?.name }}
                </ng-template>
              </ngx-datatable-column>
  
              <ngx-datatable-column name="Status" [flexGrow]="1">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <button  *ngIf="row?.status === 'approved'" mat-icon-button mat-sm-button color="success" class="mr-1"><mat-icon>verified_user</mat-icon></button>
                  <button  *ngIf="row?.by == user.role && row?.status === 'pending'" mat-icon-button mat-sm-button color="success" class="mr-1"><mat-icon>arrow_forward</mat-icon></button>
                  <button  *ngIf="row?.by != user.role && row?.status === 'pending'" mat-icon-button mat-sm-button color="success" class="mr-1"><mat-icon>arrow_back</mat-icon></button>
                </ng-template>
              </ngx-datatable-column>
              
              <ngx-datatable-column name="Actions" [flexGrow]="1">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <button  *ngIf="row?.status == 'pending' && row?.by !== user.role" mat-icon-button mat-sm-button color="accent" class="mr-1" (click)="respondRequest(row)"><mat-icon>group_add</mat-icon></button>
                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable> 
      </mat-card-content>
    </mat-card>
</div>

<div>
    <div class="m-333">
      <!-- <span fxFlex></span> -->
      <button mat-raised-button class="mb-05" color="primary" routerLink="/invoice/newitem">Add New Item</button>
      <span fxFlex="8px"></span>
      <!-- <button mat-raised-button class="mb-05" color="accent" (click)="openAddStock({}, true)">Add Stock</button> -->
    </div>
    <mat-card class="p-0" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}">
      <mat-card-content class="p-0">
        <ngx-datatable
              class="material ml-0 mr-0"
              [rows]="item"
              [columnMode]="'force'"
              [headerHeight]="50"
              [footerHeight]="50"
              [scrollbarH]="true"
              [limit]="10"
              [rowHeight]="50">
              <ngx-datatable-column name="Name" [flexGrow]="1">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row?.name }}
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="Class" [flexGrow]="1">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  {{ row?.class }}
                </ng-template>
              </ngx-datatable-column>
                <ngx-datatable-column name="Subject" [flexGrow]="1">
                  <ng-template let-row="row" ngx-datatable-cell-template>
                    {{ row?.subject_name }}
                  </ng-template>
                </ngx-datatable-column>
                  <ngx-datatable-column name="Price" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                      {{ row?.price }}
                    </ng-template>
                  </ngx-datatable-column>
                  <ngx-datatable-column name="Stock" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                      {{ row?.remaining_stock }}
                    </ng-template>
                  </ngx-datatable-column>
            </ngx-datatable>
      </mat-card-content>
    </mat-card>
</div>
