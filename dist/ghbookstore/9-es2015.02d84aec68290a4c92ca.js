(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"8r/t":function(t,e,c){"use strict";c.r(e);var a=c("ofXK"),i=c("tyNb"),s=c("3Pt+"),r=c("YUcS"),n=c("lDzL"),o=c("LPYB"),l=c("7pIB"),b=c("aYsj"),d=c("diwN"),u=c("FHx2"),m=c("fXoL"),h=c("XiUz"),p=c("Wp6s"),f=c("bTqV"),g=c("MutI"),v=c("NFeN");function P(t,e){1&t&&(m.bc(0,"div",17),m.Pc(1,"In charge of publishing house, Manages Publishing house inventories and sells to Agents that sells for publishing house"),m.ac())}function x(t,e){1&t&&(m.bc(0,"div",17),m.Pc(1,"Buys stock from publishing houses and sells to retailers."),m.ac())}let w=(()=>{class t{constructor(t,e,c){this.router=t,this.profile=e,this.data=c,this.activeView="overview",this.doughnutChartColors=[{backgroundColor:["#fff","rgba(0, 0, 0, .24)"]}],this.total1=500,this.data1=200,this.doughnutChartData1=[this.data1,this.total1-this.data1],this.total2=1e3,this.data2=400,this.doughnutChartData2=[this.data2,this.total2-this.data2],this.doughnutChartType="doughnut",this.doughnutOptions={cutoutPercentage:85,responsive:!0,maintainAspectRatio:!0,legend:{display:!1,position:"bottom"},elements:{arc:{borderWidth:0}},tooltips:{enabled:!1}}}ngOnInit(){this.activeView=this.router.snapshot.params.view,this.user=this.profile.user,this.userdetails=this.data.userdetails}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(i.a),m.Vb(d.a),m.Vb(u.a))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-profile"]],decls:41,vars:7,consts:[["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","50"],[1,"profile-sidebar","mb-1","pb-0"],[1,"propic","text-center"],["src","assets/images/sq-face-220.jpg","alt",""],[1,"profile-title","text-center","mb-1"],[1,"main-title"],[1,"subtitle","mb-05"],["class","text-muted",4,"ngIf"],["fxLayoutAlign","center center",1,"profile-actions","mb-1"],["mat-raised-button","","color","primary"],["fxFlex","8px"],["mat-raised-button","","color","accent"],[1,"default"],[1,"pt-0"],[1,"mr-1"],["fxFlex","100","fxFlex.gt-sm","50","fxFlex.gt-md","calc(100% - 300px)"],[1,"text-muted"]],template:function(t,e){1&t&&(m.bc(0,"div",0),m.bc(1,"div",1),m.bc(2,"mat-card",2),m.bc(3,"div",3),m.Wb(4,"img",4),m.ac(),m.bc(5,"div",5),m.bc(6,"div",6),m.Pc(7),m.ac(),m.bc(8,"div",7),m.Pc(9),m.ac(),m.Nc(10,P,2,0,"div",8),m.Nc(11,x,2,0,"div",8),m.ac(),m.bc(12,"div",9),m.bc(13,"button",10),m.Pc(14,"Message"),m.ac(),m.Wb(15,"span",11),m.bc(16,"button",12),m.Pc(17,"Follow"),m.ac(),m.ac(),m.ac(),m.bc(18,"mat-card",13),m.bc(19,"mat-card-title"),m.Pc(20,"Summary"),m.ac(),m.Wb(21,"mat-card-content"),m.ac(),m.bc(22,"mat-card",13),m.bc(23,"mat-card-title"),m.Pc(24,"Contact Information"),m.ac(),m.bc(25,"mat-card-content",14),m.bc(26,"mat-list"),m.bc(27,"mat-list-item"),m.bc(28,"mat-icon",15),m.Pc(29,"email"),m.ac(),m.Pc(30),m.ac(),m.bc(31,"mat-list-item"),m.bc(32,"mat-icon",15),m.Pc(33,"phone"),m.ac(),m.Pc(34),m.ac(),m.bc(35,"mat-list-item"),m.bc(36,"mat-icon",15),m.Pc(37,"add_location"),m.ac(),m.Pc(38),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(39,"div",16),m.Wb(40,"router-outlet"),m.ac(),m.ac()),2&t&&(m.Gb(7),m.Qc(e.user.name),m.Gb(2),m.Qc(e.user.role),m.Gb(1),m.tc("ngIf","publisher"===e.user.role),m.Gb(1),m.tc("ngIf","agent"===e.user.role),m.Gb(19),m.Rc(" ",e.user.email,""),m.Gb(4),m.Rc(" ",e.user.phone,""),m.Gb(4),m.Rc(" ",e.user.location,""))},directives:[h.c,h.a,p.a,a.m,h.b,f.b,p.e,p.b,g.a,g.c,v.a,i.l],encapsulation:2}),t})();var G=c("3kSh"),y=c("3sEA"),S=c("GmJt"),k=c("0IaG"),F=c("kmnG"),I=c("qFsG"),N=c("d3UM"),j=c("FKr1");function C(t,e){if(1&t&&(m.bc(0,"mat-option",18),m.Pc(1),m.ac()),2&t){const t=e.$implicit;m.tc("value",t.id),m.Gb(1),m.Rc(" ",t.name," ")}}function R(t,e){if(1&t&&(m.bc(0,"mat-option",18),m.Pc(1),m.ac()),2&t){const t=e.$implicit;m.tc("value",t.id),m.Gb(1),m.Rc(" ",t.name," ")}}let A=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.subjects=this.data.subjects,this.learnerstages=this.data.learnerstages,this.itemForm=this.fb.group({name:["",s.s.required],subject_id:["",s.s.required],learner_stage_id:["",s.s.required],edition:["",s.s.required],price:["",s.s.required],stock:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.a),m.Vb(k.f),m.Vb(s.d))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-new-inventory-popup"]],decls:42,vars:8,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["formControlName","learner_stage_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["formControlName","subject_id","required",""],["fxFlex","50",1,"pr-1"],["matInput","","name","edition","placeholder","Edition",3,"formControl"],["matInput","","name","price","placeholder","Price",3,"formControl"],["matInput","","name","stock","placeholder","Stock",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add A New Item"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.Wb(6,"input",5),m.ac(),m.ac(),m.bc(7,"div",3),m.bc(8,"mat-form-field",4),m.bc(9,"mat-label"),m.Pc(10,"Class"),m.ac(),m.bc(11,"mat-select",6),m.Nc(12,C,2,2,"mat-option",7),m.ac(),m.bc(13,"mat-icon",8),m.Pc(14,"outlined_flag"),m.ac(),m.bc(15,"mat-error"),m.Pc(16,"Class is required!"),m.ac(),m.ac(),m.ac(),m.bc(17,"div",3),m.bc(18,"mat-form-field",4),m.bc(19,"mat-label"),m.Pc(20,"Subject"),m.ac(),m.bc(21,"mat-select",9),m.Nc(22,R,2,2,"mat-option",7),m.ac(),m.bc(23,"mat-icon",8),m.Pc(24,"outlined_flag"),m.ac(),m.bc(25,"mat-error"),m.Pc(26,"Subject is required!"),m.ac(),m.ac(),m.ac(),m.bc(27,"div",10),m.bc(28,"mat-form-field",4),m.Wb(29,"input",11),m.ac(),m.ac(),m.bc(30,"div",10),m.bc(31,"mat-form-field",4),m.Wb(32,"input",12),m.ac(),m.ac(),m.bc(33,"div",10),m.bc(34,"mat-form-field",4),m.Wb(35,"input",13),m.ac(),m.ac(),m.bc(36,"div",14),m.bc(37,"button",15),m.Pc(38,"Save"),m.ac(),m.Wb(39,"span",16),m.bc(40,"button",17),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(41,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.tc("formControl",e.itemForm.controls.name),m.Gb(6),m.tc("ngForOf",e.learnerstages),m.Gb(10),m.tc("ngForOf",e.subjects),m.Gb(7),m.tc("formControl",e.itemForm.controls.edition),m.Gb(3),m.tc("formControl",e.itemForm.controls.price),m.Gb(3),m.tc("formControl",e.itemForm.controls.stock),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[k.g,s.t,s.n,s.h,h.c,h.a,F.b,I.b,s.b,s.m,s.f,F.e,N.a,s.g,s.r,a.l,v.a,F.f,F.a,f.b,j.p],encapsulation:2}),t})();function q(t,e){if(1&t&&(m.bc(0,"mat-option",13),m.Pc(1),m.ac()),2&t){const t=e.$implicit;m.tc("value",t.id),m.Gb(1),m.Uc(" ",t.name," - ",t.class," - ",t.subject_name," - ",t.edition," Edition ")}}let V=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.items=this.data.items,this.itemForm=this.fb.group({item_id:["",s.s.required],added:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.a),m.Vb(k.f),m.Vb(s.d))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-add-stock-popup"]],decls:23,vars:4,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["formControlName","item_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["matInput","","name","added","placeholder","Quantity",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add Stock"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.bc(6,"mat-label"),m.Pc(7,"Item"),m.ac(),m.bc(8,"mat-select",5),m.Nc(9,q,2,5,"mat-option",6),m.ac(),m.bc(10,"mat-icon",7),m.Pc(11,"outlined_flag"),m.ac(),m.bc(12,"mat-error"),m.Pc(13,"Item is required!"),m.ac(),m.ac(),m.ac(),m.bc(14,"div",3),m.bc(15,"mat-form-field",4),m.Wb(16,"input",8),m.ac(),m.ac(),m.bc(17,"div",9),m.bc(18,"button",10),m.Pc(19,"Save"),m.ac(),m.Wb(20,"span",11),m.bc(21,"button",12),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(22,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(7),m.tc("ngForOf",e.items),m.Gb(7),m.tc("formControl",e.itemForm.controls.added),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[k.g,s.t,s.n,s.h,h.c,h.a,F.b,F.e,N.a,s.m,s.g,s.r,a.l,v.a,F.f,F.a,I.b,s.b,s.f,f.b,j.p],encapsulation:2}),t})(),H=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.itemForm=this.fb.group({name:["",s.s.required]})}submit(){console.log(this.itemForm.value),this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.a),m.Vb(k.f),m.Vb(s.d))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-add-class-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add New Class"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.Wb(6,"input",5),m.ac(),m.ac(),m.bc(7,"div",6),m.bc(8,"button",7),m.Pc(9,"Save"),m.ac(),m.Wb(10,"span",8),m.bc(11,"button",9),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.tc("formControl",e.itemForm.controls.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[k.g,s.t,s.n,s.h,h.c,h.a,F.b,I.b,s.b,s.m,s.f,f.b],encapsulation:2}),t})(),O=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.itemForm=this.fb.group({name:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.a),m.Vb(k.f),m.Vb(s.d))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-add-subject-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add New Subject"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.Wb(6,"input",5),m.ac(),m.ac(),m.bc(7,"div",6),m.bc(8,"button",7),m.Pc(9,"Save"),m.ac(),m.Wb(10,"span",8),m.bc(11,"button",9),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.tc("formControl",e.itemForm.controls.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[k.g,s.t,s.n,s.h,h.c,h.a,F.b,I.b,s.b,s.m,s.f,f.b],encapsulation:2}),t})();var M=c("+nCT"),L=c("qP9D");let _=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.user=this.data.user,this.itemForm=this.fb.group({id:[this.user.id]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.a),m.Vb(k.f),m.Vb(s.d))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-respond-request-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Respond to Request"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"div",4),m.Pc(6),m.ac(),m.ac(),m.bc(7,"div",5),m.bc(8,"button",6),m.Pc(9,"Accept"),m.ac(),m.Wb(10,"span",7),m.bc(11,"button",8),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.Qc(e.user.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[k.g,s.t,s.n,s.h,h.c,h.a,f.b],encapsulation:2}),t})();var W=c("nm5K");function D(t,e){if(1&t&&(m.bc(0,"mat-option",12),m.Pc(1),m.ac()),2&t){const t=e.$implicit;m.tc("value",t.id),m.Gb(1),m.Rc(" ",t.name," ")}}let K=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.publishers=this.data.publishers,this.user=this.data.user,this.itemForm=this.fb.group({id:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.a),m.Vb(k.f),m.Vb(s.d))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-request-publisher-popup"]],decls:20,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["formControlName","id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Request to Sell Stock for Publisher"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.bc(6,"mat-label"),m.Pc(7,"Publishers"),m.ac(),m.bc(8,"mat-select",5),m.Nc(9,D,2,2,"mat-option",6),m.ac(),m.bc(10,"mat-icon",7),m.Pc(11,"outlined_flag"),m.ac(),m.bc(12,"mat-error"),m.Pc(13,"You must select a publisher"),m.ac(),m.ac(),m.ac(),m.bc(14,"div",8),m.bc(15,"button",9),m.Pc(16,"Apply"),m.ac(),m.Wb(17,"span",10),m.bc(18,"button",11),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(19,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(7),m.tc("ngForOf",e.publishers),m.Gb(6),m.tc("disabled",e.itemForm.invalid))},directives:[k.g,s.t,s.n,s.h,h.c,h.a,F.b,F.e,N.a,s.m,s.g,s.r,a.l,v.a,F.f,F.a,f.b,j.p],encapsulation:2}),t})(),U=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.user=this.data.user,this.itemForm=this.fb.group({publisher_id:[this.user.id]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.a),m.Vb(k.f),m.Vb(s.d))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-respond-publisher"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Respond to Request"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"div",4),m.Pc(6),m.ac(),m.ac(),m.bc(7,"div",5),m.bc(8,"button",6),m.Pc(9,"Accept"),m.ac(),m.Wb(10,"span",7),m.bc(11,"button",8),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.Qc(e.user.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[k.g,s.t,s.n,s.h,h.c,h.a,f.b],encapsulation:2}),t})(),T=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.itemForm=this.fb.group({name:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.a),m.Vb(k.f),m.Vb(s.d))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-addpayment-method-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add New Payment Method"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.Wb(6,"input",5),m.ac(),m.ac(),m.bc(7,"div",6),m.bc(8,"button",7),m.Pc(9,"Save"),m.ac(),m.Wb(10,"span",8),m.bc(11,"button",9),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.tc("formControl",e.itemForm.controls.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[k.g,s.t,s.n,s.h,h.c,h.a,F.b,I.b,s.b,s.m,s.f,f.b],styles:[""]}),t})();var Q=c("qsxP"),E=c("dNgK"),$=c("5eHb"),z=c("A5z7");function Y(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.name," ")}}function B(t,e){if(1&t&&(m.bc(0,"mat-chip",9),m.Pc(1),m.ac()),2&t){const t=e.row;m.tc("color","primary")("selected",t.isActive),m.Gb(1),m.Qc(t.isActive?"active":"inactive")}}function J(t,e){1&t&&(m.bc(0,"button",10),m.bc(1,"mat-icon"),m.Pc(2,"edit"),m.ac(),m.ac(),m.bc(3,"button",11),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac())}const X=function(){return{y:"50px",delay:"300ms"}},Z=function(t){return{value:"*",params:t}};function tt(t,e){if(1&t&&(m.bc(0,"div"),m.bc(1,"mat-card",3),m.bc(2,"mat-card-content",3),m.bc(3,"ngx-datatable",4),m.bc(4,"ngx-datatable-column",5),m.Nc(5,Y,1,1,"ng-template",6),m.ac(),m.bc(6,"ngx-datatable-column",7),m.Nc(7,B,2,3,"ng-template",6),m.ac(),m.bc(8,"ngx-datatable-column",8),m.Nc(9,J,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()),2&t){const t=m.nc(2);m.Gb(1),m.tc("@animate",m.yc(12,Z,m.xc(11,X))),m.Gb(2),m.tc("rows",t.learnerstages)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function et(t,e){if(1&t){const t=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(e){return m.Gc(t),m.nc().openAddClass({},!0)})),m.Pc(3,"Add New Class"),m.ac(),m.ac(),m.Nc(4,tt,10,14,"div",0),m.ac()}if(2&t){const t=m.nc();m.Gb(4),m.tc("ngIf",t.role.admin)}}function ct(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.name," ")}}function at(t,e){if(1&t&&(m.bc(0,"mat-chip",9),m.Pc(1),m.ac()),2&t){const t=e.row;m.tc("color","primary")("selected",t.isActive),m.Gb(1),m.Qc(t.isActive?"active":"inactive")}}function it(t,e){1&t&&(m.bc(0,"button",10),m.bc(1,"mat-icon"),m.Pc(2,"edit"),m.ac(),m.ac(),m.bc(3,"button",11),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac())}function st(t,e){if(1&t){const t=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(e){return m.Gc(t),m.nc().openAddSubject({},!0)})),m.Pc(3,"Add New Subject"),m.ac(),m.ac(),m.bc(4,"mat-card",3),m.bc(5,"mat-card-content",3),m.bc(6,"ngx-datatable",4),m.bc(7,"ngx-datatable-column",5),m.Nc(8,ct,1,1,"ng-template",6),m.ac(),m.bc(9,"ngx-datatable-column",7),m.Nc(10,at,2,3,"ng-template",6),m.ac(),m.bc(11,"ngx-datatable-column",8),m.Nc(12,it,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()}if(2&t){const t=m.nc();m.Gb(4),m.tc("@animate",m.yc(12,Z,m.xc(11,X))),m.Gb(2),m.tc("rows",t.subjects)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function rt(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.name," ")}}function nt(t,e){if(1&t&&(m.bc(0,"mat-chip",9),m.Pc(1),m.ac()),2&t){const t=e.row;m.tc("color","primary")("selected",t.isActive),m.Gb(1),m.Qc(t.isActive?"active":"inactive")}}function ot(t,e){1&t&&(m.bc(0,"button",10),m.bc(1,"mat-icon"),m.Pc(2,"edit"),m.ac(),m.ac(),m.bc(3,"button",11),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac())}function lt(t,e){if(1&t){const t=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(e){return m.Gc(t),m.nc().openAddPaymentMethod({},!0)})),m.Pc(3,"Add New Payment Method"),m.ac(),m.ac(),m.bc(4,"mat-card",3),m.bc(5,"mat-card-content",3),m.bc(6,"ngx-datatable",4),m.bc(7,"ngx-datatable-column",5),m.Nc(8,rt,1,1,"ng-template",6),m.ac(),m.bc(9,"ngx-datatable-column",7),m.Nc(10,nt,2,3,"ng-template",6),m.ac(),m.bc(11,"ngx-datatable-column",8),m.Nc(12,ot,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()}if(2&t){const t=m.nc();m.Gb(4),m.tc("@animate",m.yc(12,Z,m.xc(11,X))),m.Gb(2),m.tc("rows",t.paymentmethods)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function bt(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.name," ")}}function dt(t,e){if(1&t){const t=m.cc();m.bc(0,"button",13),m.jc("click",(function(c){m.Gc(t);const a=e.row;return m.nc(2).respondPublisher(a)})),m.bc(1,"mat-icon"),m.Pc(2,"group_add"),m.ac(),m.ac(),m.bc(3,"button",14),m.jc("click",(function(c){m.Gc(t);const a=e.row;return m.nc(2).deleteItem(a)})),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac()}}function ut(t,e){if(1&t&&(m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",12),m.Pc(3,"Pending Publishers"),m.ac(),m.ac(),m.bc(4,"mat-card",3),m.bc(5,"mat-card-content",3),m.bc(6,"ngx-datatable",4),m.bc(7,"ngx-datatable-column",5),m.Nc(8,bt,1,1,"ng-template",6),m.ac(),m.bc(9,"ngx-datatable-column",8),m.Nc(10,dt,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()),2&t){const t=m.nc();m.Gb(4),m.tc("@animate",m.yc(11,Z,m.xc(10,X))),m.Gb(2),m.tc("rows",t.pendingpublishers)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function mt(t,e){if(1&t){const t=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(e){return m.Gc(t),m.nc(2).requestAgent({},!0)})),m.Pc(3,"Ask an Agent to Sell Stock"),m.ac(),m.Wb(4,"span",15),m.bc(5,"button",16),m.Pc(6,"Make Transaction"),m.ac(),m.ac(),m.ac()}}function ht(t,e){if(1&t){const t=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(e){return m.Gc(t),m.nc(2).requestPublisher({},!0)})),m.Pc(3,"Request to Sell for Publisher"),m.ac(),m.ac(),m.ac()}}function pt(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.name," ")}}function ft(t,e){1&t&&(m.bc(0,"button",18),m.bc(1,"mat-icon"),m.Pc(2,"verified_user"),m.ac(),m.ac())}function gt(t,e){1&t&&(m.bc(0,"button",18),m.bc(1,"mat-icon"),m.Pc(2,"arrow_forward"),m.ac(),m.ac())}function vt(t,e){1&t&&(m.bc(0,"button",18),m.bc(1,"mat-icon"),m.Pc(2,"arrow_back"),m.ac(),m.ac())}function Pt(t,e){if(1&t&&(m.Nc(0,ft,3,0,"button",17),m.Nc(1,gt,3,0,"button",17),m.Nc(2,vt,3,0,"button",17)),2&t){const t=e.row,c=m.nc(2);m.tc("ngIf","approved"===(null==t?null:t.status)),m.Gb(1),m.tc("ngIf",(null==t?null:t.by)==c.user.role&&"pending"===(null==t?null:t.status)),m.Gb(1),m.tc("ngIf",(null==t?null:t.by)!=c.user.role&&"pending"===(null==t?null:t.status))}}function xt(t,e){if(1&t){const t=m.cc();m.bc(0,"button",13),m.jc("click",(function(e){m.Gc(t);const c=m.nc().row;return m.nc(2).respondRequest(c)})),m.bc(1,"mat-icon"),m.Pc(2,"group_add"),m.ac(),m.ac()}}function wt(t,e){if(1&t){const t=m.cc();m.Nc(0,xt,3,0,"button",19),m.bc(1,"button",14),m.jc("click",(function(c){m.Gc(t);const a=e.row;return m.nc(2).deleteItem(a)})),m.bc(2,"mat-icon"),m.Pc(3,"delete"),m.ac(),m.ac()}if(2&t){const t=e.row,c=m.nc(2);m.tc("ngIf","pending"===(null==t?null:t.status)&&(null==t?null:t.by)!=c.user.role)}}function Gt(t,e){if(1&t&&(m.bc(0,"div"),m.Nc(1,mt,7,0,"div",0),m.Nc(2,ht,4,0,"div",0),m.bc(3,"mat-card",3),m.bc(4,"mat-card-content",3),m.bc(5,"ngx-datatable",4),m.bc(6,"ngx-datatable-column",5),m.Nc(7,pt,1,1,"ng-template",6),m.ac(),m.bc(8,"ngx-datatable-column",7),m.Nc(9,Pt,3,3,"ng-template",6),m.ac(),m.bc(10,"ngx-datatable-column",8),m.Nc(11,wt,4,1,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()),2&t){const t=m.nc();m.Gb(1),m.tc("ngIf",t.role.publisher),m.Gb(1),m.tc("ngIf",t.role.agent),m.Gb(1),m.tc("@animate",m.yc(14,Z,m.xc(13,X))),m.Gb(2),m.tc("rows",t.partners)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function yt(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.name," ")}}function St(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.class," ")}}function kt(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.subject_name," ")}}function Ft(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.price," ")}}function It(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.remaining_stock," ")}}function Nt(t,e){if(1&t){const t=m.cc();m.bc(0,"button",25),m.jc("click",(function(c){m.Gc(t);const a=e.row;return m.nc(2).openPopUp(a)})),m.bc(1,"mat-icon"),m.Pc(2,"edit"),m.ac(),m.ac(),m.bc(3,"button",14),m.jc("click",(function(c){m.Gc(t);const a=e.row;return m.nc(2).deleteItem(a)})),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac()}}function jt(t,e){if(1&t){const t=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(e){return m.Gc(t),m.nc().openAddInventory({},!0)})),m.Pc(3,"Add New Item"),m.ac(),m.Wb(4,"span",15),m.bc(5,"button",20),m.jc("click",(function(e){return m.Gc(t),m.nc().openAddStock({},!0)})),m.Pc(6,"Add Stock"),m.ac(),m.ac(),m.bc(7,"mat-card",3),m.bc(8,"mat-card-content",3),m.bc(9,"ngx-datatable",4),m.bc(10,"ngx-datatable-column",5),m.Nc(11,yt,1,1,"ng-template",6),m.ac(),m.bc(12,"ngx-datatable-column",21),m.Nc(13,St,1,1,"ng-template",6),m.ac(),m.bc(14,"ngx-datatable-column",22),m.Nc(15,kt,1,1,"ng-template",6),m.ac(),m.bc(16,"ngx-datatable-column",23),m.Nc(17,Ft,1,1,"ng-template",6),m.ac(),m.bc(18,"ngx-datatable-column",24),m.Nc(19,It,1,1,"ng-template",6),m.ac(),m.bc(20,"ngx-datatable-column",8),m.Nc(21,Nt,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()}if(2&t){const t=m.nc();m.Gb(7),m.tc("@animate",m.yc(15,Z,m.xc(14,X))),m.Gb(2),m.tc("rows",t.items)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function Ct(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Tc(" ",null==t?null:t.name," - ",null==t?null:t.class," - Edition - ",null==t?null:t.edition," ")}}function Rt(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.price," ")}}function At(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.remaining_stock," ")}}function qt(t,e){if(1&t&&(m.bc(0,"mat-card",3),m.bc(1,"mat-card-content",3),m.bc(2,"ngx-datatable",4),m.bc(3,"ngx-datatable-column",5),m.Nc(4,Ct,1,3,"ng-template",6),m.ac(),m.bc(5,"ngx-datatable-column",28),m.Nc(6,Rt,1,1,"ng-template",6),m.ac(),m.bc(7,"ngx-datatable-column",24),m.Nc(8,At,1,1,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac()),2&t){const t=m.nc(2);m.tc("@animate",m.yc(12,Z,m.xc(11,X))),m.Gb(2),m.tc("rows",t.stocks)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function Vt(t,e){if(1&t&&(m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",26),m.Pc(3,"Available Stock"),m.ac(),m.ac(),m.Nc(4,qt,9,14,"mat-card",27),m.ac()),2&t){const t=m.nc();m.Gb(4),m.tc("ngIf",t.role.agent)}}function Ht(t,e){if(1&t){const t=m.cc();m.bc(0,"button",2),m.jc("click",(function(e){return m.Gc(t),m.nc(2).addRetailer({},!0)})),m.Pc(1,"Add A new Retailer"),m.ac()}}function Ot(t,e){1&t&&(m.bc(0,"button",31),m.Pc(1,"Make Transaction"),m.ac())}function Mt(t,e){if(1&t&&m.Pc(0),2&t){const t=e.row;m.Rc(" ",null==t?null:t.name," ")}}function Lt(t,e){}function _t(t,e){if(1&t&&(m.bc(0,"mat-card",3),m.bc(1,"mat-card-content",3),m.bc(2,"ngx-datatable",4),m.bc(3,"ngx-datatable-column",5),m.Nc(4,Mt,1,1,"ng-template",6),m.ac(),m.bc(5,"ngx-datatable-column",32),m.Nc(6,Lt,0,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac()),2&t){const t=m.nc(2);m.tc("@animate",m.yc(11,Z,m.xc(10,X))),m.Gb(2),m.tc("rows",t.retailers)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function Wt(t,e){if(1&t&&(m.bc(0,"div"),m.bc(1,"div",1),m.Nc(2,Ht,2,0,"button",29),m.Wb(3,"span",15),m.Nc(4,Ot,2,0,"button",30),m.ac(),m.Nc(5,_t,7,13,"mat-card",27),m.ac()),2&t){const t=m.nc();m.Gb(2),m.tc("ngIf",t.role.agent),m.Gb(2),m.tc("ngIf",t.role.agent),m.Gb(1),m.tc("ngIf",t.role.agent)}}const Dt=[{path:"",component:w,children:[{path:"overview",component:(()=>{class t{constructor(t,e,c,a,i,s,r,n){this.dialog=t,this.snack=e,this.crudService=c,this.confirmService=a,this.loader=i,this.toastr=s,this.state=r,this.data=n,this.role=this.state.role,this.state.user.subscribe(t=>{this.user=t}),this.userdetails=this.data.userdetails}ngOnInit(){this.getLearnerstage(),this.getSubject(),this.getItems(),this.getPublishers(),this.getPartners(),this.getAgents(),this.getPendingPublishers(),this.getPaymentMethods(),this.getRetailers(),this.getStocks()}ngOnDestroy(){}getStocks(){this.stocks=this.data.stocks}getRetailers(){this.retailers=this.data.retailers}getPartners(){this.partners=this.data.partners}getPaymentMethods(){this.paymentmethods=this.data.paymentmethods}getPendingPublishers(){this.pendingpublishers=this.data.pendingPublishers}getSubject(){this.subjects=this.data.subjects}getLearnerstage(){this.learnerstages=this.data.learnerstages}getItems(){this.items=this.data.items}getPublishers(){this.publishers=this.data.publishers}getAgents(){this.agents=this.data.agents}openAddClass(t={},e){this.dialog.open(H,{width:"720px",disableClose:!0}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addClass(c).subscribe(t=>{this.learnerstages=this.learnerstages.concat([t]),this.data.learnerstages=this.learnerstages,this.loader.close(),this.snack.open("New Class Added!","OK",{duration:4e3})}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}openAddPaymentMethod(t={},e){this.dialog.open(T,{width:"720px",disableClose:!0}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addPaymentMethod(c).subscribe(t=>{this.paymentmethods=this.paymentmethods.concat([t]),this.data.paymentmethods=this.paymentmethods,this.loader.close(),this.snack.open("New Payment Method Added!","OK",{duration:4e3})}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}addRetailer(t={},e){this.dialog.open(Q.a,{width:"720px",disableClose:!0}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addRetailer(c).subscribe(t=>{this.retailers=this.retailers.concat([t]),this.data.retailers=this.retailers,this.loader.close(),this.snack.open("New Retailer Added!","OK",{duration:4e3})}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}openAddSubject(t={},e){this.dialog.open(O,{width:"720px",disableClose:!0}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addSubject(c).subscribe(t=>{this.subjects=this.subjects.concat([t]),this.data.subjects=this.subjects,this.loader.close(),this.snack.open("New Subject Added!","OK",{duration:4e3})}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}openAddInventory(t={},e){this.dialog.open(A,{width:"720px",disableClose:!0,data:{subjects:this.subjects,learnerstages:this.learnerstages}}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addItem(c).subscribe(t=>{this.items=this.items.concat([t]),this.data.items=this.items,this.loader.close(),this.snack.open("New Item Added","OK",{duration:4e3})},t=>{this.loader.close(),this.toastr.error("sorry",t.error)}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}openAddStock(t={},e){this.dialog.open(V,{width:"720px",disableClose:!0,data:{items:this.items}}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addStock(c).subscribe(t=>{this.items=this.items.filter((function(e){return e.id!==t.id})),this.items=this.items.concat([t]),this.data.items=this.items,this.loader.close(),this.snack.open("Stock Added","OK",{duration:4e3})},t=>{this.loader.close(),this.toastr.error("Sorry",t.error)}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}requestAgent(t={},e){this.dialog.open(M.a,{width:"720px",disableClose:!0,data:{agents:this.agents}}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.userRequest(c).subscribe(t=>{this.loader.close(),this.partners=this.partners.concat([t.partner]),this.data.partners=this.partners,this.toastr.success("Success",t.message)},t=>{this.loader.close(),this.toastr.error("Sorry",t.error)}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}requestPublisher(t={},e){this.dialog.open(K,{width:"720px",disableClose:!0,data:{publishers:this.publishers}}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.userRequest(c).subscribe(t=>{this.loader.close(),this.partners=this.partners.concat([t.partner]),this.data.partners=this.partners,this.toastr.success("Success",t.message)},t=>{this.loader.close(),this.toastr.error("Sorry",t.error)}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}respondRequest(t){this.dialog.open(_,{width:"720px",disableClose:!0,data:{user:t}}).afterClosed().subscribe(e=>{e&&(this.loader.open(),this.crudService.respondRequest(e).subscribe(t=>{this.loader.close(),this.partners=this.partners.filter((function(e){return e.id!==t.id})),this.partners=this.partners.concat([t]),this.data.partners=this.partners,this.data.approvedpartners=this.data.approvedpartners.concat([t])},e=>{this.loader.close(),console.log(t)}))})}deleteItem(t){this.confirmService.confirm({message:`Delete ${t.name}?`}).subscribe(e=>{e&&(this.loader.open(),this.crudService.removeItem(t).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member deleted!","OK",{duration:4e3})}))})}respondPublisher(t){this.dialog.open(U,{width:"480px",disableClose:!0,data:{user:t}}).afterClosed().subscribe(t=>{t&&(this.loader.open(),this.crudService.respondPendingPublisher(t).subscribe(t=>{this.loader.close(),this.pendingpublishers=this.pendingpublishers.filter((function(e){return e.id!==t.id})),this.data.pendingPublishers=this.pendingpublishers,this.toastr.success("success","Publisher has been Approved")},t=>{this.loader.close()}))})}}return t.\u0275fac=function(e){return new(e||t)(m.Vb(k.b),m.Vb(E.a),m.Vb(W.a),m.Vb(G.a),m.Vb(y.a),m.Vb($.b),m.Vb(L.a),m.Vb(u.a))},t.\u0275cmp=m.Pb({type:t,selectors:[["app-publisher"]],decls:8,vars:8,consts:[[4,"ngIf"],[1,"m-333"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","limit","rowHeight"],["name","Name",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","Status",3,"flexGrow"],["name","Actions",3,"flexGrow"],["mat-sm-chip","",3,"color","selected"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1"],["mat-icon-button","","mat-sm-button","","color","warn"],["mat-raised-button","","color","warn",1,"mb-05"],["mat-icon-button","","mat-sm-button","","color","accent",1,"mr-1",3,"click"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],["fxFlex","8px"],["mat-raised-button","","color","warn","routerLink","/invoice/home",1,"mb-05"],["mat-icon-button","","mat-sm-button","","color","success","class","mr-1",4,"ngIf"],["mat-icon-button","","mat-sm-button","","color","success",1,"mr-1"],["mat-icon-button","","mat-sm-button","","color","accent","class","mr-1",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",1,"mb-05",3,"click"],["name","Class",3,"flexGrow"],["name","Subject",3,"flexGrow"],["name","Price",3,"flexGrow"],["name","Stock",3,"flexGrow"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1",3,"click"],["mat-raised-button","","color","primary",1,"mb-05"],["class","p-0",4,"ngIf"],["name","price",3,"flexGrow"],["mat-raised-button","","class","mb-05","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","class","mb-05","color","warn","routerLink","/invoice/retail",4,"ngIf"],["mat-raised-button","","color","warn","routerLink","/invoice/retail",1,"mb-05"],["name","status",3,"flexGrow"]],template:function(t,e){1&t&&(m.Nc(0,et,5,1,"div",0),m.Nc(1,st,13,14,"div",0),m.Nc(2,lt,13,14,"div",0),m.Nc(3,ut,11,13,"div",0),m.Nc(4,Gt,12,16,"div",0),m.Nc(5,jt,22,17,"div",0),m.Nc(6,Vt,5,1,"div",0),m.Nc(7,Wt,6,3,"div",0)),2&t&&(m.tc("ngIf",e.role.admin),m.Gb(1),m.tc("ngIf",e.role.admin),m.Gb(1),m.tc("ngIf",e.role.admin),m.Gb(1),m.tc("ngIf",e.role.admin),m.Gb(1),m.tc("ngIf",e.role.publisher||e.role.agent),m.Gb(1),m.tc("ngIf",e.role.publisher),m.Gb(1),m.tc("ngIf",e.role.agent),m.Gb(1),m.tc("ngIf",e.role.agent))},directives:[a.m,f.b,p.a,p.b,n.c,n.b,n.a,z.a,v.a,h.a,i.h],styles:[""],data:{animation:S.a}}),t})(),data:{title:"Overview",breadcrumb:"OVERVIEW"},resolve:{publisher:(()=>{class t{constructor(t,e,c,a){this.router=t,this.crudeService=e,this.data=c,this.state=a}resolve(t,e){return new Promise((t,e)=>{this.state.role.admin||this.state.role.publisher||!this.state.role.agent||Promise.all([this.getPublishers(),this.getPartners(),this.getAgents(),this.getRetailers(),this.getStocks(),this.getUserDetails()]).then(()=>{t()},e),this.state.role.admin&&this.state.role.publisher&&!this.state.role.agent&&Promise.all([this.getLearnerstages(),this.getSubjects(),this.getItems(),this.getPublishers(),this.getPartners(),this.getAgents(),this.getpendingPublishers(),this.getpaymentmethods(),this.getUserDetails()]).then(()=>{t()},e),!this.state.role.admin||this.state.role.publisher||this.state.role.agent||Promise.all([this.getLearnerstages(),this.getSubjects(),this.getpendingPublishers(),this.getpaymentmethods()]).then(()=>{t()},e),this.state.role.admin||!this.state.role.publisher||this.state.role.agent||Promise.all([this.getItems(),this.getPublishers(),this.getPartners(),this.getAgents(),this.getLearnerstages(),this.getSubjects(),this.getApprovedPartners(),this.getUserDetails()]).then(()=>{t()},e)})}getApprovedPartners(){return new Promise((t,e)=>{this.data.approvedpartners?(this.approvedpartners=this.data.approvedpartners,t(this.approvedpartners)):this.crudeService.getApprovedPartners().subscribe(e=>{this.approvedpartners=e.data,this.data.approvedpartners=e.data,console.log(this.data.approvedpartners),t(this.approvedpartners)},e)})}getStocks(){return new Promise((t,e)=>{this.data.stocks?(this.stocks=this.data.stocks,t(this.stocks)):this.crudeService.getStocks().subscribe(e=>{this.stocks=e.data,this.data.stocks=e.data,t(this.stocks)},e)})}getRetailers(){return new Promise((t,e)=>{this.data.retailers?(this.retailers=this.data.retailers,t(this.retailers)):this.crudeService.getRetailer().subscribe(e=>{this.retailers=e.data,this.data.retailers=e.data,t(this.retailers)},e)})}getLearnerstages(){return new Promise((t,e)=>{this.data.learnerstages?(this.learnerstages=this.data.learnerstages,t(this.learnerstages)):this.crudeService.getLearnerStages().subscribe(e=>{this.learnerstages=e.data,this.data.learnerstages=e.data,t(this.learnerstages)},e)})}getpendingPublishers(){return new Promise((t,e)=>{this.data.pendingPublishers?(this.pendingPublishers=this.data.pendingPublishers,t(this.pendingPublishers)):this.crudeService.getPendingPublishers().subscribe(e=>{this.pendingPublishers=e,this.data.pendingPublishers=e,t(this.pendingPublishers)},e)})}getpaymentmethods(){return new Promise((t,e)=>{this.data.paymentmethods?(this.paymentmethods=this.data.paymentmethods,t(this.paymentmethods)):this.crudeService.getPaymentMethod().subscribe(e=>{this.paymentmethods=e.data,this.data.paymentmethods=e.data,t(this.paymentmethods)},e)})}getSubjects(){return new Promise((t,e)=>{this.data.subjects?(this.subjects=this.data.learnerstages,t(this.subjects)):this.crudeService.getSubjects().subscribe(e=>{this.subjects=e.data,this.data.subjects=e.data,t(this.subjects)},e)})}getItems(){return new Promise((t,e)=>{this.data.items?(this.items=this.data.items,t(this.items)):this.crudeService.getItems().subscribe(e=>{this.items=e.data,this.data.items=e.data,t(this.items)},e)})}getPublishers(){return new Promise((t,e)=>{this.data.publishers?(this.publishers=this.data.publishers,t(this.publishers)):this.crudeService.getPublishers().subscribe(e=>{this.publishers=e,this.data.publishers=e,t(this.publishers)},e)})}getPartners(){return new Promise((t,e)=>{this.data.partners?(this.partners=this.data.partners,t(this.partners)):this.crudeService.getPartners().subscribe(e=>{this.partners=e.data,this.data.partners=e.data,t(this.partners)},e)})}getAgents(){return new Promise((t,e)=>{this.data.agents?(this.agents=this.data.agents,t(this.agents)):this.crudeService.getAgents().subscribe(e=>{this.agents=e.data,this.data.agents=e,t(this.agents)},e)})}getUserDetails(){return new Promise((t,e)=>{this.data.userdetails?(this.userdetails=this.data.userdetails,t(this.userdetails)):this.crudeService.getUserDetails().subscribe(e=>{this.userdetails=e,this.data.userdetails=e,console.log(this.userdetails),t(this.userdetails)},e)})}}return t.\u0275fac=function(e){return new(e||t)(m.fc(i.g),m.fc(W.a),m.fc(u.a),m.fc(L.a))},t.\u0275prov=m.Rb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]}];var Kt=c("0Lhs"),Ut=c("PCNd"),Tt=c("zMWy");c.d(e,"ProfileModule",(function(){return Qt}));let Qt=(()=>{class t{}return t.\u0275mod=m.Tb({type:t}),t.\u0275inj=m.Sb({factory:function(e){return new(e||t)},providers:[],imports:[[a.c,s.i,s.q,r.a,n.d,o.a,l.a,b.a,Tt.a,I.c,p.d,f.c,g.d,r.a,Kt.b,Ut.a,i.k.forChild(Dt)]]}),t})()}}]);