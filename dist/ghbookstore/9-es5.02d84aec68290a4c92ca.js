function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var c=0;c<e.length;c++){var a=e[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,c){return e&&_defineProperties(t.prototype,e),c&&_defineProperties(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"8r/t":function(t,e,c){"use strict";c.r(e);var a=c("ofXK"),n=c("tyNb"),i=c("3Pt+"),r=c("YUcS"),o=c("lDzL"),s=c("LPYB"),l=c("7pIB"),u=c("aYsj"),b=c("diwN"),d=c("FHx2"),m=c("fXoL"),f=c("XiUz"),p=c("Wp6s"),h=c("bTqV"),g=c("MutI"),v=c("NFeN");function P(t,e){1&t&&(m.bc(0,"div",17),m.Pc(1,"In charge of publishing house, Manages Publishing house inventories and sells to Agents that sells for publishing house"),m.ac())}function w(t,e){1&t&&(m.bc(0,"div",17),m.Pc(1,"Buys stock from publishing houses and sells to retailers."),m.ac())}var x,y=((x=function(){function t(e,c,a){_classCallCheck(this,t),this.router=e,this.profile=c,this.data=a,this.activeView="overview",this.doughnutChartColors=[{backgroundColor:["#fff","rgba(0, 0, 0, .24)"]}],this.total1=500,this.data1=200,this.doughnutChartData1=[this.data1,this.total1-this.data1],this.total2=1e3,this.data2=400,this.doughnutChartData2=[this.data2,this.total2-this.data2],this.doughnutChartType="doughnut",this.doughnutOptions={cutoutPercentage:85,responsive:!0,maintainAspectRatio:!0,legend:{display:!1,position:"bottom"},elements:{arc:{borderWidth:0}},tooltips:{enabled:!1}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.activeView=this.router.snapshot.params.view,this.user=this.profile.user,this.userdetails=this.data.userdetails}}]),t}()).\u0275fac=function(t){return new(t||x)(m.Vb(n.a),m.Vb(b.a),m.Vb(d.a))},x.\u0275cmp=m.Pb({type:x,selectors:[["app-profile"]],decls:41,vars:7,consts:[["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","50"],[1,"profile-sidebar","mb-1","pb-0"],[1,"propic","text-center"],["src","assets/images/sq-face-220.jpg","alt",""],[1,"profile-title","text-center","mb-1"],[1,"main-title"],[1,"subtitle","mb-05"],["class","text-muted",4,"ngIf"],["fxLayoutAlign","center center",1,"profile-actions","mb-1"],["mat-raised-button","","color","primary"],["fxFlex","8px"],["mat-raised-button","","color","accent"],[1,"default"],[1,"pt-0"],[1,"mr-1"],["fxFlex","100","fxFlex.gt-sm","50","fxFlex.gt-md","calc(100% - 300px)"],[1,"text-muted"]],template:function(t,e){1&t&&(m.bc(0,"div",0),m.bc(1,"div",1),m.bc(2,"mat-card",2),m.bc(3,"div",3),m.Wb(4,"img",4),m.ac(),m.bc(5,"div",5),m.bc(6,"div",6),m.Pc(7),m.ac(),m.bc(8,"div",7),m.Pc(9),m.ac(),m.Nc(10,P,2,0,"div",8),m.Nc(11,w,2,0,"div",8),m.ac(),m.bc(12,"div",9),m.bc(13,"button",10),m.Pc(14,"Message"),m.ac(),m.Wb(15,"span",11),m.bc(16,"button",12),m.Pc(17,"Follow"),m.ac(),m.ac(),m.ac(),m.bc(18,"mat-card",13),m.bc(19,"mat-card-title"),m.Pc(20,"Summary"),m.ac(),m.Wb(21,"mat-card-content"),m.ac(),m.bc(22,"mat-card",13),m.bc(23,"mat-card-title"),m.Pc(24,"Contact Information"),m.ac(),m.bc(25,"mat-card-content",14),m.bc(26,"mat-list"),m.bc(27,"mat-list-item"),m.bc(28,"mat-icon",15),m.Pc(29,"email"),m.ac(),m.Pc(30),m.ac(),m.bc(31,"mat-list-item"),m.bc(32,"mat-icon",15),m.Pc(33,"phone"),m.ac(),m.Pc(34),m.ac(),m.bc(35,"mat-list-item"),m.bc(36,"mat-icon",15),m.Pc(37,"add_location"),m.ac(),m.Pc(38),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(39,"div",16),m.Wb(40,"router-outlet"),m.ac(),m.ac()),2&t&&(m.Gb(7),m.Qc(e.user.name),m.Gb(2),m.Qc(e.user.role),m.Gb(1),m.tc("ngIf","publisher"===e.user.role),m.Gb(1),m.tc("ngIf","agent"===e.user.role),m.Gb(19),m.Rc(" ",e.user.email,""),m.Gb(4),m.Rc(" ",e.user.phone,""),m.Gb(4),m.Rc(" ",e.user.location,""))},directives:[f.c,f.a,p.a,a.m,f.b,h.b,p.e,p.b,g.a,g.c,v.a,n.l],encapsulation:2}),x),k=c("3kSh"),G=c("3sEA"),C=c("GmJt"),S=c("0IaG"),F=c("kmnG"),I=c("qFsG"),N=c("d3UM"),j=c("FKr1");function R(t,e){if(1&t&&(m.bc(0,"mat-option",18),m.Pc(1),m.ac()),2&t){var c=e.$implicit;m.tc("value",c.id),m.Gb(1),m.Rc(" ",c.name," ")}}function A(t,e){if(1&t&&(m.bc(0,"mat-option",18),m.Pc(1),m.ac()),2&t){var c=e.$implicit;m.tc("value",c.id),m.Gb(1),m.Rc(" ",c.name," ")}}var _,q=((_=function(){function t(e,c,a){_classCallCheck(this,t),this.data=e,this.dialogRef=c,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.subjects=this.data.subjects,this.learnerstages=this.data.learnerstages,this.itemForm=this.fb.group({name:["",i.s.required],subject_id:["",i.s.required],learner_stage_id:["",i.s.required],edition:["",i.s.required],price:["",i.s.required],stock:["",i.s.required]})}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value)}}]),t}()).\u0275fac=function(t){return new(t||_)(m.Vb(S.a),m.Vb(S.f),m.Vb(i.d))},_.\u0275cmp=m.Pb({type:_,selectors:[["app-new-inventory-popup"]],decls:42,vars:8,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["formControlName","learner_stage_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["formControlName","subject_id","required",""],["fxFlex","50",1,"pr-1"],["matInput","","name","edition","placeholder","Edition",3,"formControl"],["matInput","","name","price","placeholder","Price",3,"formControl"],["matInput","","name","stock","placeholder","Stock",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add A New Item"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.Wb(6,"input",5),m.ac(),m.ac(),m.bc(7,"div",3),m.bc(8,"mat-form-field",4),m.bc(9,"mat-label"),m.Pc(10,"Class"),m.ac(),m.bc(11,"mat-select",6),m.Nc(12,R,2,2,"mat-option",7),m.ac(),m.bc(13,"mat-icon",8),m.Pc(14,"outlined_flag"),m.ac(),m.bc(15,"mat-error"),m.Pc(16,"Class is required!"),m.ac(),m.ac(),m.ac(),m.bc(17,"div",3),m.bc(18,"mat-form-field",4),m.bc(19,"mat-label"),m.Pc(20,"Subject"),m.ac(),m.bc(21,"mat-select",9),m.Nc(22,A,2,2,"mat-option",7),m.ac(),m.bc(23,"mat-icon",8),m.Pc(24,"outlined_flag"),m.ac(),m.bc(25,"mat-error"),m.Pc(26,"Subject is required!"),m.ac(),m.ac(),m.ac(),m.bc(27,"div",10),m.bc(28,"mat-form-field",4),m.Wb(29,"input",11),m.ac(),m.ac(),m.bc(30,"div",10),m.bc(31,"mat-form-field",4),m.Wb(32,"input",12),m.ac(),m.ac(),m.bc(33,"div",10),m.bc(34,"mat-form-field",4),m.Wb(35,"input",13),m.ac(),m.ac(),m.bc(36,"div",14),m.bc(37,"button",15),m.Pc(38,"Save"),m.ac(),m.Wb(39,"span",16),m.bc(40,"button",17),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(41,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.tc("formControl",e.itemForm.controls.name),m.Gb(6),m.tc("ngForOf",e.learnerstages),m.Gb(10),m.tc("ngForOf",e.subjects),m.Gb(7),m.tc("formControl",e.itemForm.controls.edition),m.Gb(3),m.tc("formControl",e.itemForm.controls.price),m.Gb(3),m.tc("formControl",e.itemForm.controls.stock),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[S.g,i.t,i.n,i.h,f.c,f.a,F.b,I.b,i.b,i.m,i.f,F.e,N.a,i.g,i.r,a.l,v.a,F.f,F.a,h.b,j.p],encapsulation:2}),_);function V(t,e){if(1&t&&(m.bc(0,"mat-option",13),m.Pc(1),m.ac()),2&t){var c=e.$implicit;m.tc("value",c.id),m.Gb(1),m.Uc(" ",c.name," - ",c.class," - ",c.subject_name," - ",c.edition," Edition ")}}var H,O,M,L,W=((M=function(){function t(e,c,a){_classCallCheck(this,t),this.data=e,this.dialogRef=c,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.items=this.data.items,this.itemForm=this.fb.group({item_id:["",i.s.required],added:["",i.s.required]})}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value)}}]),t}()).\u0275fac=function(t){return new(t||M)(m.Vb(S.a),m.Vb(S.f),m.Vb(i.d))},M.\u0275cmp=m.Pb({type:M,selectors:[["app-add-stock-popup"]],decls:23,vars:4,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["formControlName","item_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["matInput","","name","added","placeholder","Quantity",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add Stock"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.bc(6,"mat-label"),m.Pc(7,"Item"),m.ac(),m.bc(8,"mat-select",5),m.Nc(9,V,2,5,"mat-option",6),m.ac(),m.bc(10,"mat-icon",7),m.Pc(11,"outlined_flag"),m.ac(),m.bc(12,"mat-error"),m.Pc(13,"Item is required!"),m.ac(),m.ac(),m.ac(),m.bc(14,"div",3),m.bc(15,"mat-form-field",4),m.Wb(16,"input",8),m.ac(),m.ac(),m.bc(17,"div",9),m.bc(18,"button",10),m.Pc(19,"Save"),m.ac(),m.Wb(20,"span",11),m.bc(21,"button",12),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(22,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(7),m.tc("ngForOf",e.items),m.Gb(7),m.tc("formControl",e.itemForm.controls.added),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[S.g,i.t,i.n,i.h,f.c,f.a,F.b,F.e,N.a,i.m,i.g,i.r,a.l,v.a,F.f,F.a,I.b,i.b,i.f,h.b,j.p],encapsulation:2}),M),D=((O=function(){function t(e,c,a){_classCallCheck(this,t),this.data=e,this.dialogRef=c,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.itemForm=this.fb.group({name:["",i.s.required]})}},{key:"submit",value:function(){console.log(this.itemForm.value),this.dialogRef.close(this.itemForm.value)}}]),t}()).\u0275fac=function(t){return new(t||O)(m.Vb(S.a),m.Vb(S.f),m.Vb(i.d))},O.\u0275cmp=m.Pb({type:O,selectors:[["app-add-class-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add New Class"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.Wb(6,"input",5),m.ac(),m.ac(),m.bc(7,"div",6),m.bc(8,"button",7),m.Pc(9,"Save"),m.ac(),m.Wb(10,"span",8),m.bc(11,"button",9),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.tc("formControl",e.itemForm.controls.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[S.g,i.t,i.n,i.h,f.c,f.a,F.b,I.b,i.b,i.m,i.f,h.b],encapsulation:2}),O),K=((H=function(){function t(e,c,a){_classCallCheck(this,t),this.data=e,this.dialogRef=c,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.itemForm=this.fb.group({name:["",i.s.required]})}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value)}}]),t}()).\u0275fac=function(t){return new(t||H)(m.Vb(S.a),m.Vb(S.f),m.Vb(i.d))},H.\u0275cmp=m.Pb({type:H,selectors:[["app-add-subject-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add New Subject"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.Wb(6,"input",5),m.ac(),m.ac(),m.bc(7,"div",6),m.bc(8,"button",7),m.Pc(9,"Save"),m.ac(),m.Wb(10,"span",8),m.bc(11,"button",9),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.tc("formControl",e.itemForm.controls.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[S.g,i.t,i.n,i.h,f.c,f.a,F.b,I.b,i.b,i.m,i.f,h.b],encapsulation:2}),H),U=c("+nCT"),T=c("qP9D"),Q=((L=function(){function t(e,c,a){_classCallCheck(this,t),this.data=e,this.dialogRef=c,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.user=this.data.user,this.itemForm=this.fb.group({id:[this.user.id]})}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value)}}]),t}()).\u0275fac=function(t){return new(t||L)(m.Vb(S.a),m.Vb(S.f),m.Vb(i.d))},L.\u0275cmp=m.Pb({type:L,selectors:[["app-respond-request-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Respond to Request"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"div",4),m.Pc(6),m.ac(),m.ac(),m.bc(7,"div",5),m.bc(8,"button",6),m.Pc(9,"Accept"),m.ac(),m.Wb(10,"span",7),m.bc(11,"button",8),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.Qc(e.user.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[S.g,i.t,i.n,i.h,f.c,f.a,h.b],encapsulation:2}),L),E=c("nm5K");function z(t,e){if(1&t&&(m.bc(0,"mat-option",12),m.Pc(1),m.ac()),2&t){var c=e.$implicit;m.tc("value",c.id),m.Gb(1),m.Rc(" ",c.name," ")}}var Y,$,B,J=((B=function(){function t(e,c,a){_classCallCheck(this,t),this.data=e,this.dialogRef=c,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.publishers=this.data.publishers,this.user=this.data.user,this.itemForm=this.fb.group({id:["",i.s.required]})}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value)}}]),t}()).\u0275fac=function(t){return new(t||B)(m.Vb(S.a),m.Vb(S.f),m.Vb(i.d))},B.\u0275cmp=m.Pb({type:B,selectors:[["app-request-publisher-popup"]],decls:20,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["formControlName","id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Request to Sell Stock for Publisher"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.bc(6,"mat-label"),m.Pc(7,"Publishers"),m.ac(),m.bc(8,"mat-select",5),m.Nc(9,z,2,2,"mat-option",6),m.ac(),m.bc(10,"mat-icon",7),m.Pc(11,"outlined_flag"),m.ac(),m.bc(12,"mat-error"),m.Pc(13,"You must select a publisher"),m.ac(),m.ac(),m.ac(),m.bc(14,"div",8),m.bc(15,"button",9),m.Pc(16,"Apply"),m.ac(),m.Wb(17,"span",10),m.bc(18,"button",11),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(19,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(7),m.tc("ngForOf",e.publishers),m.Gb(6),m.tc("disabled",e.itemForm.invalid))},directives:[S.g,i.t,i.n,i.h,f.c,f.a,F.b,F.e,N.a,i.m,i.g,i.r,a.l,v.a,F.f,F.a,h.b,j.p],encapsulation:2}),B),X=(($=function(){function t(e,c,a){_classCallCheck(this,t),this.data=e,this.dialogRef=c,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.user=this.data.user,this.itemForm=this.fb.group({publisher_id:[this.user.id]})}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value)}}]),t}()).\u0275fac=function(t){return new(t||$)(m.Vb(S.a),m.Vb(S.f),m.Vb(i.d))},$.\u0275cmp=m.Pb({type:$,selectors:[["app-respond-publisher"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Respond to Request"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"div",4),m.Pc(6),m.ac(),m.ac(),m.bc(7,"div",5),m.bc(8,"button",6),m.Pc(9,"Accept"),m.ac(),m.Wb(10,"span",7),m.bc(11,"button",8),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.Qc(e.user.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[S.g,i.t,i.n,i.h,f.c,f.a,h.b],encapsulation:2}),$),Z=((Y=function(){function t(e,c,a){_classCallCheck(this,t),this.data=e,this.dialogRef=c,this.fb=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.itemForm=this.fb.group({name:["",i.s.required]})}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value)}}]),t}()).\u0275fac=function(t){return new(t||Y)(m.Vb(S.a),m.Vb(S.f),m.Vb(i.d))},Y.\u0275cmp=m.Pb({type:Y,selectors:[["app-addpayment-method-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(m.bc(0,"h1",0),m.Pc(1,"Add New Payment Method"),m.ac(),m.bc(2,"form",1),m.jc("ngSubmit",(function(t){return e.submit()})),m.bc(3,"div",2),m.bc(4,"div",3),m.bc(5,"mat-form-field",4),m.Wb(6,"input",5),m.ac(),m.ac(),m.bc(7,"div",6),m.bc(8,"button",7),m.Pc(9,"Save"),m.ac(),m.Wb(10,"span",8),m.bc(11,"button",9),m.jc("click",(function(t){return e.dialogRef.close(!1)})),m.Pc(12,"Cancel"),m.ac(),m.ac(),m.ac(),m.ac()),2&t&&(m.Gb(2),m.tc("formGroup",e.itemForm),m.Gb(4),m.tc("formControl",e.itemForm.controls.name),m.Gb(2),m.tc("disabled",e.itemForm.invalid))},directives:[S.g,i.t,i.n,i.h,f.c,f.a,F.b,I.b,i.b,i.m,i.f,h.b],styles:[""]}),Y),tt=c("qsxP"),et=c("dNgK"),ct=c("5eHb"),at=c("A5z7");function nt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.name," ")}}function it(t,e){if(1&t&&(m.bc(0,"mat-chip",9),m.Pc(1),m.ac()),2&t){var c=e.row;m.tc("color","primary")("selected",c.isActive),m.Gb(1),m.Qc(c.isActive?"active":"inactive")}}function rt(t,e){1&t&&(m.bc(0,"button",10),m.bc(1,"mat-icon"),m.Pc(2,"edit"),m.ac(),m.ac(),m.bc(3,"button",11),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac())}var ot=function(){return{y:"50px",delay:"300ms"}},st=function(t){return{value:"*",params:t}};function lt(t,e){if(1&t&&(m.bc(0,"div"),m.bc(1,"mat-card",3),m.bc(2,"mat-card-content",3),m.bc(3,"ngx-datatable",4),m.bc(4,"ngx-datatable-column",5),m.Nc(5,nt,1,1,"ng-template",6),m.ac(),m.bc(6,"ngx-datatable-column",7),m.Nc(7,it,2,3,"ng-template",6),m.ac(),m.bc(8,"ngx-datatable-column",8),m.Nc(9,rt,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()),2&t){var c=m.nc(2);m.Gb(1),m.tc("@animate",m.yc(12,st,m.xc(11,ot))),m.Gb(2),m.tc("rows",c.learnerstages)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function ut(t,e){if(1&t){var c=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(t){return m.Gc(c),m.nc().openAddClass({},!0)})),m.Pc(3,"Add New Class"),m.ac(),m.ac(),m.Nc(4,lt,10,14,"div",0),m.ac()}if(2&t){var a=m.nc();m.Gb(4),m.tc("ngIf",a.role.admin)}}function bt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.name," ")}}function dt(t,e){if(1&t&&(m.bc(0,"mat-chip",9),m.Pc(1),m.ac()),2&t){var c=e.row;m.tc("color","primary")("selected",c.isActive),m.Gb(1),m.Qc(c.isActive?"active":"inactive")}}function mt(t,e){1&t&&(m.bc(0,"button",10),m.bc(1,"mat-icon"),m.Pc(2,"edit"),m.ac(),m.ac(),m.bc(3,"button",11),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac())}function ft(t,e){if(1&t){var c=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(t){return m.Gc(c),m.nc().openAddSubject({},!0)})),m.Pc(3,"Add New Subject"),m.ac(),m.ac(),m.bc(4,"mat-card",3),m.bc(5,"mat-card-content",3),m.bc(6,"ngx-datatable",4),m.bc(7,"ngx-datatable-column",5),m.Nc(8,bt,1,1,"ng-template",6),m.ac(),m.bc(9,"ngx-datatable-column",7),m.Nc(10,dt,2,3,"ng-template",6),m.ac(),m.bc(11,"ngx-datatable-column",8),m.Nc(12,mt,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()}if(2&t){var a=m.nc();m.Gb(4),m.tc("@animate",m.yc(12,st,m.xc(11,ot))),m.Gb(2),m.tc("rows",a.subjects)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function pt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.name," ")}}function ht(t,e){if(1&t&&(m.bc(0,"mat-chip",9),m.Pc(1),m.ac()),2&t){var c=e.row;m.tc("color","primary")("selected",c.isActive),m.Gb(1),m.Qc(c.isActive?"active":"inactive")}}function gt(t,e){1&t&&(m.bc(0,"button",10),m.bc(1,"mat-icon"),m.Pc(2,"edit"),m.ac(),m.ac(),m.bc(3,"button",11),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac())}function vt(t,e){if(1&t){var c=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(t){return m.Gc(c),m.nc().openAddPaymentMethod({},!0)})),m.Pc(3,"Add New Payment Method"),m.ac(),m.ac(),m.bc(4,"mat-card",3),m.bc(5,"mat-card-content",3),m.bc(6,"ngx-datatable",4),m.bc(7,"ngx-datatable-column",5),m.Nc(8,pt,1,1,"ng-template",6),m.ac(),m.bc(9,"ngx-datatable-column",7),m.Nc(10,ht,2,3,"ng-template",6),m.ac(),m.bc(11,"ngx-datatable-column",8),m.Nc(12,gt,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()}if(2&t){var a=m.nc();m.Gb(4),m.tc("@animate",m.yc(12,st,m.xc(11,ot))),m.Gb(2),m.tc("rows",a.paymentmethods)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function Pt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.name," ")}}function wt(t,e){if(1&t){var c=m.cc();m.bc(0,"button",13),m.jc("click",(function(t){m.Gc(c);var a=e.row;return m.nc(2).respondPublisher(a)})),m.bc(1,"mat-icon"),m.Pc(2,"group_add"),m.ac(),m.ac(),m.bc(3,"button",14),m.jc("click",(function(t){m.Gc(c);var a=e.row;return m.nc(2).deleteItem(a)})),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac()}}function xt(t,e){if(1&t&&(m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",12),m.Pc(3,"Pending Publishers"),m.ac(),m.ac(),m.bc(4,"mat-card",3),m.bc(5,"mat-card-content",3),m.bc(6,"ngx-datatable",4),m.bc(7,"ngx-datatable-column",5),m.Nc(8,Pt,1,1,"ng-template",6),m.ac(),m.bc(9,"ngx-datatable-column",8),m.Nc(10,wt,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()),2&t){var c=m.nc();m.Gb(4),m.tc("@animate",m.yc(11,st,m.xc(10,ot))),m.Gb(2),m.tc("rows",c.pendingpublishers)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function yt(t,e){if(1&t){var c=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(t){return m.Gc(c),m.nc(2).requestAgent({},!0)})),m.Pc(3,"Ask an Agent to Sell Stock"),m.ac(),m.Wb(4,"span",15),m.bc(5,"button",16),m.Pc(6,"Make Transaction"),m.ac(),m.ac(),m.ac()}}function kt(t,e){if(1&t){var c=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(t){return m.Gc(c),m.nc(2).requestPublisher({},!0)})),m.Pc(3,"Request to Sell for Publisher"),m.ac(),m.ac(),m.ac()}}function Gt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.name," ")}}function Ct(t,e){1&t&&(m.bc(0,"button",18),m.bc(1,"mat-icon"),m.Pc(2,"verified_user"),m.ac(),m.ac())}function St(t,e){1&t&&(m.bc(0,"button",18),m.bc(1,"mat-icon"),m.Pc(2,"arrow_forward"),m.ac(),m.ac())}function Ft(t,e){1&t&&(m.bc(0,"button",18),m.bc(1,"mat-icon"),m.Pc(2,"arrow_back"),m.ac(),m.ac())}function It(t,e){if(1&t&&(m.Nc(0,Ct,3,0,"button",17),m.Nc(1,St,3,0,"button",17),m.Nc(2,Ft,3,0,"button",17)),2&t){var c=e.row,a=m.nc(2);m.tc("ngIf","approved"===(null==c?null:c.status)),m.Gb(1),m.tc("ngIf",(null==c?null:c.by)==a.user.role&&"pending"===(null==c?null:c.status)),m.Gb(1),m.tc("ngIf",(null==c?null:c.by)!=a.user.role&&"pending"===(null==c?null:c.status))}}function Nt(t,e){if(1&t){var c=m.cc();m.bc(0,"button",13),m.jc("click",(function(t){m.Gc(c);var e=m.nc().row;return m.nc(2).respondRequest(e)})),m.bc(1,"mat-icon"),m.Pc(2,"group_add"),m.ac(),m.ac()}}function jt(t,e){if(1&t){var c=m.cc();m.Nc(0,Nt,3,0,"button",19),m.bc(1,"button",14),m.jc("click",(function(t){m.Gc(c);var a=e.row;return m.nc(2).deleteItem(a)})),m.bc(2,"mat-icon"),m.Pc(3,"delete"),m.ac(),m.ac()}if(2&t){var a=e.row,n=m.nc(2);m.tc("ngIf","pending"===(null==a?null:a.status)&&(null==a?null:a.by)!=n.user.role)}}function Rt(t,e){if(1&t&&(m.bc(0,"div"),m.Nc(1,yt,7,0,"div",0),m.Nc(2,kt,4,0,"div",0),m.bc(3,"mat-card",3),m.bc(4,"mat-card-content",3),m.bc(5,"ngx-datatable",4),m.bc(6,"ngx-datatable-column",5),m.Nc(7,Gt,1,1,"ng-template",6),m.ac(),m.bc(8,"ngx-datatable-column",7),m.Nc(9,It,3,3,"ng-template",6),m.ac(),m.bc(10,"ngx-datatable-column",8),m.Nc(11,jt,4,1,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()),2&t){var c=m.nc();m.Gb(1),m.tc("ngIf",c.role.publisher),m.Gb(1),m.tc("ngIf",c.role.agent),m.Gb(1),m.tc("@animate",m.yc(14,st,m.xc(13,ot))),m.Gb(2),m.tc("rows",c.partners)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function At(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.name," ")}}function _t(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.class," ")}}function qt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.subject_name," ")}}function Vt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.price," ")}}function Ht(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.remaining_stock," ")}}function Ot(t,e){if(1&t){var c=m.cc();m.bc(0,"button",25),m.jc("click",(function(t){m.Gc(c);var a=e.row;return m.nc(2).openPopUp(a)})),m.bc(1,"mat-icon"),m.Pc(2,"edit"),m.ac(),m.ac(),m.bc(3,"button",14),m.jc("click",(function(t){m.Gc(c);var a=e.row;return m.nc(2).deleteItem(a)})),m.bc(4,"mat-icon"),m.Pc(5,"delete"),m.ac(),m.ac()}}function Mt(t,e){if(1&t){var c=m.cc();m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",2),m.jc("click",(function(t){return m.Gc(c),m.nc().openAddInventory({},!0)})),m.Pc(3,"Add New Item"),m.ac(),m.Wb(4,"span",15),m.bc(5,"button",20),m.jc("click",(function(t){return m.Gc(c),m.nc().openAddStock({},!0)})),m.Pc(6,"Add Stock"),m.ac(),m.ac(),m.bc(7,"mat-card",3),m.bc(8,"mat-card-content",3),m.bc(9,"ngx-datatable",4),m.bc(10,"ngx-datatable-column",5),m.Nc(11,At,1,1,"ng-template",6),m.ac(),m.bc(12,"ngx-datatable-column",21),m.Nc(13,_t,1,1,"ng-template",6),m.ac(),m.bc(14,"ngx-datatable-column",22),m.Nc(15,qt,1,1,"ng-template",6),m.ac(),m.bc(16,"ngx-datatable-column",23),m.Nc(17,Vt,1,1,"ng-template",6),m.ac(),m.bc(18,"ngx-datatable-column",24),m.Nc(19,Ht,1,1,"ng-template",6),m.ac(),m.bc(20,"ngx-datatable-column",8),m.Nc(21,Ot,6,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()}if(2&t){var a=m.nc();m.Gb(7),m.tc("@animate",m.yc(15,st,m.xc(14,ot))),m.Gb(2),m.tc("rows",a.items)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function Lt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Tc(" ",null==c?null:c.name," - ",null==c?null:c.class," - Edition - ",null==c?null:c.edition," ")}}function Wt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.price," ")}}function Dt(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.remaining_stock," ")}}function Kt(t,e){if(1&t&&(m.bc(0,"mat-card",3),m.bc(1,"mat-card-content",3),m.bc(2,"ngx-datatable",4),m.bc(3,"ngx-datatable-column",5),m.Nc(4,Lt,1,3,"ng-template",6),m.ac(),m.bc(5,"ngx-datatable-column",28),m.Nc(6,Wt,1,1,"ng-template",6),m.ac(),m.bc(7,"ngx-datatable-column",24),m.Nc(8,Dt,1,1,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac()),2&t){var c=m.nc(2);m.tc("@animate",m.yc(12,st,m.xc(11,ot))),m.Gb(2),m.tc("rows",c.stocks)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function Ut(t,e){if(1&t&&(m.bc(0,"div"),m.bc(1,"div",1),m.bc(2,"button",26),m.Pc(3,"Available Stock"),m.ac(),m.ac(),m.Nc(4,Kt,9,14,"mat-card",27),m.ac()),2&t){var c=m.nc();m.Gb(4),m.tc("ngIf",c.role.agent)}}function Tt(t,e){if(1&t){var c=m.cc();m.bc(0,"button",2),m.jc("click",(function(t){return m.Gc(c),m.nc(2).addRetailer({},!0)})),m.Pc(1,"Add A new Retailer"),m.ac()}}function Qt(t,e){1&t&&(m.bc(0,"button",31),m.Pc(1,"Make Transaction"),m.ac())}function Et(t,e){if(1&t&&m.Pc(0),2&t){var c=e.row;m.Rc(" ",null==c?null:c.name," ")}}function zt(t,e){}function Yt(t,e){if(1&t&&(m.bc(0,"mat-card",3),m.bc(1,"mat-card-content",3),m.bc(2,"ngx-datatable",4),m.bc(3,"ngx-datatable-column",5),m.Nc(4,Et,1,1,"ng-template",6),m.ac(),m.bc(5,"ngx-datatable-column",32),m.Nc(6,zt,0,0,"ng-template",6),m.ac(),m.ac(),m.ac(),m.ac()),2&t){var c=m.nc(2);m.tc("@animate",m.yc(11,st,m.xc(10,ot))),m.Gb(2),m.tc("rows",c.retailers)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),m.Gb(1),m.tc("flexGrow",1),m.Gb(2),m.tc("flexGrow",1)}}function $t(t,e){if(1&t&&(m.bc(0,"div"),m.bc(1,"div",1),m.Nc(2,Tt,2,0,"button",29),m.Wb(3,"span",15),m.Nc(4,Qt,2,0,"button",30),m.ac(),m.Nc(5,Yt,7,13,"mat-card",27),m.ac()),2&t){var c=m.nc();m.Gb(2),m.tc("ngIf",c.role.agent),m.Gb(2),m.tc("ngIf",c.role.agent),m.Gb(1),m.tc("ngIf",c.role.agent)}}var Bt,Jt,Xt=[{path:"",component:y,children:[{path:"overview",component:(Jt=function(){function t(e,c,a,n,i,r,o,s){var l=this;_classCallCheck(this,t),this.dialog=e,this.snack=c,this.crudService=a,this.confirmService=n,this.loader=i,this.toastr=r,this.state=o,this.data=s,this.role=this.state.role,this.state.user.subscribe((function(t){l.user=t})),this.userdetails=this.data.userdetails}return _createClass(t,[{key:"ngOnInit",value:function(){this.getLearnerstage(),this.getSubject(),this.getItems(),this.getPublishers(),this.getPartners(),this.getAgents(),this.getPendingPublishers(),this.getPaymentMethods(),this.getRetailers(),this.getStocks()}},{key:"ngOnDestroy",value:function(){}},{key:"getStocks",value:function(){this.stocks=this.data.stocks}},{key:"getRetailers",value:function(){this.retailers=this.data.retailers}},{key:"getPartners",value:function(){this.partners=this.data.partners}},{key:"getPaymentMethods",value:function(){this.paymentmethods=this.data.paymentmethods}},{key:"getPendingPublishers",value:function(){this.pendingpublishers=this.data.pendingPublishers}},{key:"getSubject",value:function(){this.subjects=this.data.subjects}},{key:"getLearnerstage",value:function(){this.learnerstages=this.data.learnerstages}},{key:"getItems",value:function(){this.items=this.data.items}},{key:"getPublishers",value:function(){this.publishers=this.data.publishers}},{key:"getAgents",value:function(){this.agents=this.data.agents}},{key:"openAddClass",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.dialog.open(D,{width:"720px",disableClose:!0}).afterClosed().subscribe((function(a){a&&(t.loader.open(),c?t.crudService.addClass(a).subscribe((function(e){t.learnerstages=t.learnerstages.concat([e]),t.data.learnerstages=t.learnerstages,t.loader.close(),t.snack.open("New Class Added!","OK",{duration:4e3})})):t.crudService.updateItem(e._id,a).subscribe((function(e){t.items=e,t.loader.close(),t.snack.open("Member Updated!","OK",{duration:4e3})})))}))}},{key:"openAddPaymentMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.dialog.open(Z,{width:"720px",disableClose:!0}).afterClosed().subscribe((function(a){a&&(t.loader.open(),c?t.crudService.addPaymentMethod(a).subscribe((function(e){t.paymentmethods=t.paymentmethods.concat([e]),t.data.paymentmethods=t.paymentmethods,t.loader.close(),t.snack.open("New Payment Method Added!","OK",{duration:4e3})})):t.crudService.updateItem(e._id,a).subscribe((function(e){t.items=e,t.loader.close(),t.snack.open("Member Updated!","OK",{duration:4e3})})))}))}},{key:"addRetailer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.dialog.open(tt.a,{width:"720px",disableClose:!0}).afterClosed().subscribe((function(a){a&&(t.loader.open(),c?t.crudService.addRetailer(a).subscribe((function(e){t.retailers=t.retailers.concat([e]),t.data.retailers=t.retailers,t.loader.close(),t.snack.open("New Retailer Added!","OK",{duration:4e3})})):t.crudService.updateItem(e._id,a).subscribe((function(e){t.items=e,t.loader.close(),t.snack.open("Member Updated!","OK",{duration:4e3})})))}))}},{key:"openAddSubject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.dialog.open(K,{width:"720px",disableClose:!0}).afterClosed().subscribe((function(a){a&&(t.loader.open(),c?t.crudService.addSubject(a).subscribe((function(e){t.subjects=t.subjects.concat([e]),t.data.subjects=t.subjects,t.loader.close(),t.snack.open("New Subject Added!","OK",{duration:4e3})})):t.crudService.updateItem(e._id,a).subscribe((function(e){t.items=e,t.loader.close(),t.snack.open("Member Updated!","OK",{duration:4e3})})))}))}},{key:"openAddInventory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.dialog.open(q,{width:"720px",disableClose:!0,data:{subjects:this.subjects,learnerstages:this.learnerstages}}).afterClosed().subscribe((function(a){a&&(t.loader.open(),c?t.crudService.addItem(a).subscribe((function(e){t.items=t.items.concat([e]),t.data.items=t.items,t.loader.close(),t.snack.open("New Item Added","OK",{duration:4e3})}),(function(e){t.loader.close(),t.toastr.error("sorry",e.error)})):t.crudService.updateItem(e._id,a).subscribe((function(e){t.items=e,t.loader.close(),t.snack.open("Member Updated!","OK",{duration:4e3})})))}))}},{key:"openAddStock",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.dialog.open(W,{width:"720px",disableClose:!0,data:{items:this.items}}).afterClosed().subscribe((function(a){a&&(t.loader.open(),c?t.crudService.addStock(a).subscribe((function(e){t.items=t.items.filter((function(t){return t.id!==e.id})),t.items=t.items.concat([e]),t.data.items=t.items,t.loader.close(),t.snack.open("Stock Added","OK",{duration:4e3})}),(function(e){t.loader.close(),t.toastr.error("Sorry",e.error)})):t.crudService.updateItem(e._id,a).subscribe((function(e){t.items=e,t.loader.close(),t.snack.open("Member Updated!","OK",{duration:4e3})})))}))}},{key:"requestAgent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.dialog.open(U.a,{width:"720px",disableClose:!0,data:{agents:this.agents}}).afterClosed().subscribe((function(a){a&&(t.loader.open(),c?t.crudService.userRequest(a).subscribe((function(e){t.loader.close(),t.partners=t.partners.concat([e.partner]),t.data.partners=t.partners,t.toastr.success("Success",e.message)}),(function(e){t.loader.close(),t.toastr.error("Sorry",e.error)})):t.crudService.updateItem(e._id,a).subscribe((function(e){t.items=e,t.loader.close(),t.snack.open("Member Updated!","OK",{duration:4e3})})))}))}},{key:"requestPublisher",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;this.dialog.open(J,{width:"720px",disableClose:!0,data:{publishers:this.publishers}}).afterClosed().subscribe((function(a){a&&(t.loader.open(),c?t.crudService.userRequest(a).subscribe((function(e){t.loader.close(),t.partners=t.partners.concat([e.partner]),t.data.partners=t.partners,t.toastr.success("Success",e.message)}),(function(e){t.loader.close(),t.toastr.error("Sorry",e.error)})):t.crudService.updateItem(e._id,a).subscribe((function(e){t.items=e,t.loader.close(),t.snack.open("Member Updated!","OK",{duration:4e3})})))}))}},{key:"respondRequest",value:function(t){var e=this;this.dialog.open(Q,{width:"720px",disableClose:!0,data:{user:t}}).afterClosed().subscribe((function(c){c&&(e.loader.open(),e.crudService.respondRequest(c).subscribe((function(t){e.loader.close(),e.partners=e.partners.filter((function(e){return e.id!==t.id})),e.partners=e.partners.concat([t]),e.data.partners=e.partners,e.data.approvedpartners=e.data.approvedpartners.concat([t])}),(function(c){e.loader.close(),console.log(t)})))}))}},{key:"deleteItem",value:function(t){var e=this;this.confirmService.confirm({message:"Delete ".concat(t.name,"?")}).subscribe((function(c){c&&(e.loader.open(),e.crudService.removeItem(t).subscribe((function(t){e.items=t,e.loader.close(),e.snack.open("Member deleted!","OK",{duration:4e3})})))}))}},{key:"respondPublisher",value:function(t){var e=this;this.dialog.open(X,{width:"480px",disableClose:!0,data:{user:t}}).afterClosed().subscribe((function(t){t&&(e.loader.open(),e.crudService.respondPendingPublisher(t).subscribe((function(t){e.loader.close(),e.pendingpublishers=e.pendingpublishers.filter((function(e){return e.id!==t.id})),e.data.pendingPublishers=e.pendingpublishers,e.toastr.success("success","Publisher has been Approved")}),(function(t){e.loader.close()})))}))}}]),t}(),Jt.\u0275fac=function(t){return new(t||Jt)(m.Vb(S.b),m.Vb(et.a),m.Vb(E.a),m.Vb(k.a),m.Vb(G.a),m.Vb(ct.b),m.Vb(T.a),m.Vb(d.a))},Jt.\u0275cmp=m.Pb({type:Jt,selectors:[["app-publisher"]],decls:8,vars:8,consts:[[4,"ngIf"],[1,"m-333"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","limit","rowHeight"],["name","Name",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","Status",3,"flexGrow"],["name","Actions",3,"flexGrow"],["mat-sm-chip","",3,"color","selected"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1"],["mat-icon-button","","mat-sm-button","","color","warn"],["mat-raised-button","","color","warn",1,"mb-05"],["mat-icon-button","","mat-sm-button","","color","accent",1,"mr-1",3,"click"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],["fxFlex","8px"],["mat-raised-button","","color","warn","routerLink","/invoice/home",1,"mb-05"],["mat-icon-button","","mat-sm-button","","color","success","class","mr-1",4,"ngIf"],["mat-icon-button","","mat-sm-button","","color","success",1,"mr-1"],["mat-icon-button","","mat-sm-button","","color","accent","class","mr-1",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",1,"mb-05",3,"click"],["name","Class",3,"flexGrow"],["name","Subject",3,"flexGrow"],["name","Price",3,"flexGrow"],["name","Stock",3,"flexGrow"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1",3,"click"],["mat-raised-button","","color","primary",1,"mb-05"],["class","p-0",4,"ngIf"],["name","price",3,"flexGrow"],["mat-raised-button","","class","mb-05","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","class","mb-05","color","warn","routerLink","/invoice/retail",4,"ngIf"],["mat-raised-button","","color","warn","routerLink","/invoice/retail",1,"mb-05"],["name","status",3,"flexGrow"]],template:function(t,e){1&t&&(m.Nc(0,ut,5,1,"div",0),m.Nc(1,ft,13,14,"div",0),m.Nc(2,vt,13,14,"div",0),m.Nc(3,xt,11,13,"div",0),m.Nc(4,Rt,12,16,"div",0),m.Nc(5,Mt,22,17,"div",0),m.Nc(6,Ut,5,1,"div",0),m.Nc(7,$t,6,3,"div",0)),2&t&&(m.tc("ngIf",e.role.admin),m.Gb(1),m.tc("ngIf",e.role.admin),m.Gb(1),m.tc("ngIf",e.role.admin),m.Gb(1),m.tc("ngIf",e.role.admin),m.Gb(1),m.tc("ngIf",e.role.publisher||e.role.agent),m.Gb(1),m.tc("ngIf",e.role.publisher),m.Gb(1),m.tc("ngIf",e.role.agent),m.Gb(1),m.tc("ngIf",e.role.agent))},directives:[a.m,h.b,p.a,p.b,o.c,o.b,o.a,at.a,v.a,f.a,n.h],styles:[""],data:{animation:C.a}}),Jt),data:{title:"Overview",breadcrumb:"OVERVIEW"},resolve:{publisher:(Bt=function(){function t(e,c,a,n){_classCallCheck(this,t),this.router=e,this.crudeService=c,this.data=a,this.state=n}return _createClass(t,[{key:"resolve",value:function(t,e){var c=this;return new Promise((function(t,e){c.state.role.admin||c.state.role.publisher||!c.state.role.agent||Promise.all([c.getPublishers(),c.getPartners(),c.getAgents(),c.getRetailers(),c.getStocks(),c.getUserDetails()]).then((function(){t()}),e),c.state.role.admin&&c.state.role.publisher&&!c.state.role.agent&&Promise.all([c.getLearnerstages(),c.getSubjects(),c.getItems(),c.getPublishers(),c.getPartners(),c.getAgents(),c.getpendingPublishers(),c.getpaymentmethods(),c.getUserDetails()]).then((function(){t()}),e),!c.state.role.admin||c.state.role.publisher||c.state.role.agent||Promise.all([c.getLearnerstages(),c.getSubjects(),c.getpendingPublishers(),c.getpaymentmethods()]).then((function(){t()}),e),c.state.role.admin||!c.state.role.publisher||c.state.role.agent||Promise.all([c.getItems(),c.getPublishers(),c.getPartners(),c.getAgents(),c.getLearnerstages(),c.getSubjects(),c.getApprovedPartners(),c.getUserDetails()]).then((function(){t()}),e)}))}},{key:"getApprovedPartners",value:function(){var t=this;return new Promise((function(e,c){t.data.approvedpartners?(t.approvedpartners=t.data.approvedpartners,e(t.approvedpartners)):t.crudeService.getApprovedPartners().subscribe((function(c){t.approvedpartners=c.data,t.data.approvedpartners=c.data,console.log(t.data.approvedpartners),e(t.approvedpartners)}),c)}))}},{key:"getStocks",value:function(){var t=this;return new Promise((function(e,c){t.data.stocks?(t.stocks=t.data.stocks,e(t.stocks)):t.crudeService.getStocks().subscribe((function(c){t.stocks=c.data,t.data.stocks=c.data,e(t.stocks)}),c)}))}},{key:"getRetailers",value:function(){var t=this;return new Promise((function(e,c){t.data.retailers?(t.retailers=t.data.retailers,e(t.retailers)):t.crudeService.getRetailer().subscribe((function(c){t.retailers=c.data,t.data.retailers=c.data,e(t.retailers)}),c)}))}},{key:"getLearnerstages",value:function(){var t=this;return new Promise((function(e,c){t.data.learnerstages?(t.learnerstages=t.data.learnerstages,e(t.learnerstages)):t.crudeService.getLearnerStages().subscribe((function(c){t.learnerstages=c.data,t.data.learnerstages=c.data,e(t.learnerstages)}),c)}))}},{key:"getpendingPublishers",value:function(){var t=this;return new Promise((function(e,c){t.data.pendingPublishers?(t.pendingPublishers=t.data.pendingPublishers,e(t.pendingPublishers)):t.crudeService.getPendingPublishers().subscribe((function(c){t.pendingPublishers=c,t.data.pendingPublishers=c,e(t.pendingPublishers)}),c)}))}},{key:"getpaymentmethods",value:function(){var t=this;return new Promise((function(e,c){t.data.paymentmethods?(t.paymentmethods=t.data.paymentmethods,e(t.paymentmethods)):t.crudeService.getPaymentMethod().subscribe((function(c){t.paymentmethods=c.data,t.data.paymentmethods=c.data,e(t.paymentmethods)}),c)}))}},{key:"getSubjects",value:function(){var t=this;return new Promise((function(e,c){t.data.subjects?(t.subjects=t.data.learnerstages,e(t.subjects)):t.crudeService.getSubjects().subscribe((function(c){t.subjects=c.data,t.data.subjects=c.data,e(t.subjects)}),c)}))}},{key:"getItems",value:function(){var t=this;return new Promise((function(e,c){t.data.items?(t.items=t.data.items,e(t.items)):t.crudeService.getItems().subscribe((function(c){t.items=c.data,t.data.items=c.data,e(t.items)}),c)}))}},{key:"getPublishers",value:function(){var t=this;return new Promise((function(e,c){t.data.publishers?(t.publishers=t.data.publishers,e(t.publishers)):t.crudeService.getPublishers().subscribe((function(c){t.publishers=c,t.data.publishers=c,e(t.publishers)}),c)}))}},{key:"getPartners",value:function(){var t=this;return new Promise((function(e,c){t.data.partners?(t.partners=t.data.partners,e(t.partners)):t.crudeService.getPartners().subscribe((function(c){t.partners=c.data,t.data.partners=c.data,e(t.partners)}),c)}))}},{key:"getAgents",value:function(){var t=this;return new Promise((function(e,c){t.data.agents?(t.agents=t.data.agents,e(t.agents)):t.crudeService.getAgents().subscribe((function(c){t.agents=c.data,t.data.agents=c,e(t.agents)}),c)}))}},{key:"getUserDetails",value:function(){var t=this;return new Promise((function(e,c){t.data.userdetails?(t.userdetails=t.data.userdetails,e(t.userdetails)):t.crudeService.getUserDetails().subscribe((function(c){t.userdetails=c,t.data.userdetails=c,console.log(t.userdetails),e(t.userdetails)}),c)}))}}]),t}(),Bt.\u0275fac=function(t){return new(t||Bt)(m.fc(n.g),m.fc(E.a),m.fc(d.a),m.fc(T.a))},Bt.\u0275prov=m.Rb({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt)}}]}],Zt=c("0Lhs"),te=c("PCNd"),ee=c("zMWy");c.d(e,"ProfileModule",(function(){return ae}));var ce,ae=((ce=function t(){_classCallCheck(this,t)}).\u0275mod=m.Tb({type:ce}),ce.\u0275inj=m.Sb({factory:function(t){return new(t||ce)},providers:[],imports:[[a.c,i.i,i.q,r.a,o.d,s.a,l.a,u.a,ee.a,I.c,p.d,h.c,g.d,r.a,Zt.b,te.a,n.k.forChild(Xt)]]}),ce)}}]);