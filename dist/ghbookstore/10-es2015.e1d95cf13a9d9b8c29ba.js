(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{jEVh:function(e,t,a){"use strict";a.r(t);var c=a("ofXK"),n=a("tyNb"),i=a("3Pt+"),r=a("YUcS"),o=a("lDzL"),s=a("LPYB"),l=a("7pIB"),m=a("aYsj"),d=a("0Lhs"),b=a("PCNd"),u=a("zMWy"),g=a("qP9D"),h=a("GmJt"),p=a("+nCT"),f=a("fXoL");let y=(()=>{class e{constructor(){}getDataConf(){return[{prop:"id"},{prop:"name",name:"Name"}]}getAll(){return[{id:0,age:40,name:"Mclean Brady",gender:"male",company:"JAMNATION",email:"mcleanbrady@jamnation.com",phone:"+1 (875) 472-2061",registered:"2014-10-20T04:54:00 -06:00"},{id:1,age:39,name:"Dillon Ruiz",gender:"male",company:"ACRODANCE",email:"dillonruiz@acrodance.com",phone:"+1 (858) 562-2261",registered:"2016-08-07T12:15:31 -06:00"},{id:2,age:39,name:"Robyn Knox",gender:"female",company:"GLUID",email:"robynknox@gluid.com",phone:"+1 (826) 491-3098",registered:"2017-02-12T02:43:39 -06:00"},{id:3,age:32,name:"Santana Wagner",gender:"male",company:"INTRADISK",email:"santanawagner@intradisk.com",phone:"+1 (841) 550-2276",registered:"2016-03-28T11:22:15 -06:00"},{id:4,age:34,name:"Jennie Branch",gender:"female",company:"VERAQ",email:"jenniebranch@veraq.com",phone:"+1 (895) 483-3982",registered:"2015-03-16T01:30:06 -06:00"},{id:5,age:39,name:"Farrell Preston",gender:"male",company:"HONOTRON",email:"farrellpreston@honotron.com",phone:"+1 (993) 534-2843",registered:"2015-08-14T09:07:47 -06:00"},{id:6,age:38,name:"Garner Reyes",gender:"male",company:"VIOCULAR",email:"garnerreyes@viocular.com",phone:"+1 (973) 495-3873",registered:"2016-03-23T03:47:23 -06:00"},{id:7,age:32,name:"Ella Boone",gender:"female",company:"ARCHITAX",email:"ellaboone@architax.com",phone:"+1 (945) 491-2580",registered:"2015-07-01T09:35:10 -06:00"},{id:8,age:30,name:"Kathryn Owens",gender:"female",company:"CYCLONICA",email:"kathrynowens@cyclonica.com",phone:"+1 (978) 598-2767",registered:"2014-03-11T11:38:12 -06:00"},{id:9,age:22,name:"Byers Santana",gender:"male",company:"KAGGLE",email:"byerssantana@kaggle.com",phone:"+1 (984) 546-3400",registered:"2015-08-17T02:48:09 -06:00"},{id:10,age:30,name:"Nina Middleton",gender:"female",company:"ZINCA",email:"ninamiddleton@zinca.com",phone:"+1 (829) 553-2060",registered:"2014-12-20T09:53:27 -06:00"},{id:11,age:38,name:"Nixon Morrow",gender:"male",company:"CUBIX",email:"nixonmorrow@cubix.com",phone:"+1 (825) 501-3712",registered:"2014-09-10T10:23:34 -06:00"},{id:12,age:28,name:"Bonita Pate",gender:"female",company:"MAGNEATO",email:"bonitapate@magneato.com",phone:"+1 (808) 497-3968",registered:"2016-01-20T02:45:43 -06:00"},{id:13,age:30,name:"Amy Hyde",gender:"female",company:"UNDERTAP",email:"amyhyde@undertap.com",phone:"+1 (867) 555-2669",registered:"2015-04-12T08:39:31 -06:00"},{id:14,age:20,name:"Cortez Camacho",gender:"male",company:"IDEGO",email:"cortezcamacho@idego.com",phone:"+1 (986) 546-3364",registered:"2014-08-21T11:00:20 -06:00"},{id:15,age:29,name:"Castaneda Armstrong",gender:"male",company:"INTERFIND",email:"castanedaarmstrong@interfind.com",phone:"+1 (975) 557-2651",registered:"2014-11-15T10:38:24 -06:00"},{id:16,age:37,name:"Liza West",gender:"female",company:"COWTOWN",email:"lizawest@cowtown.com",phone:"+1 (852) 415-2358",registered:"2017-05-06T09:46:03 -06:00"},{id:17,age:37,name:"Roth Baird",gender:"male",company:"RODEMCO",email:"rothbaird@rodemco.com",phone:"+1 (840) 417-3313",registered:"2015-04-18T10:58:50 -06:00"},{id:18,age:26,name:"Alexis Blackburn",gender:"female",company:"PREMIANT",email:"alexisblackburn@premiant.com",phone:"+1 (957) 576-2362",registered:"2014-08-08T12:59:38 -06:00"},{id:19,age:35,name:"Sadie Tillman",gender:"female",company:"DUOFLEX",email:"sadietillman@duoflex.com",phone:"+1 (843) 499-3330",registered:"2016-02-21T09:25:03 -06:00"},{id:20,age:27,name:"Sharron Conley",gender:"female",company:"QUARMONY",email:"sharronconley@quarmony.com",phone:"+1 (951) 459-2465",registered:"2014-10-19T06:04:36 -06:00"},{id:21,age:27,name:"Jordan Mccoy",gender:"male",company:"ACCUSAGE",email:"jordanmccoy@accusage.com",phone:"+1 (825) 568-3296",registered:"2017-01-27T01:53:02 -06:00"},{id:22,age:35,name:"Rene House",gender:"female",company:"INSURETY",email:"renehouse@insurety.com",phone:"+1 (838) 578-3190",registered:"2015-11-07T10:07:58 -06:00"},{id:23,age:38,name:"Bernice Berry",gender:"female",company:"ROCKYARD",email:"berniceberry@rockyard.com",phone:"+1 (885) 466-2145",registered:"2014-04-17T07:43:02 -06:00"},{id:24,age:30,name:"Bowen Beach",gender:"male",company:"TETRATREX",email:"bowenbeach@tetratrex.com",phone:"+1 (843) 493-3197",registered:"2015-07-27T03:38:33 -06:00"},{id:25,age:31,name:"Monica Leblanc",gender:"female",company:"TALENDULA",email:"monicaleblanc@talendula.com",phone:"+1 (911) 524-2349",registered:"2016-04-10T08:33:17 -06:00"},{id:26,age:36,name:"Lina Rivas",gender:"female",company:"BOINK",email:"linarivas@boink.com",phone:"+1 (983) 572-2470",registered:"2014-08-28T09:44:32 -06:00"},{id:27,age:25,name:"Joyce Yang",gender:"female",company:"SPORTAN",email:"joyceyang@sportan.com",phone:"+1 (807) 491-3917",registered:"2015-07-22T12:58:31 -06:00"},{id:28,age:20,name:"Lana Joseph",gender:"female",company:"BOLAX",email:"lanajoseph@bolax.com",phone:"+1 (942) 467-2363",registered:"2016-10-30T06:13:50 -06:00"},{id:29,age:20,name:"Jimenez Guerrero",gender:"male",company:"INSURON",email:"jimenezguerrero@insuron.com",phone:"+1 (991) 585-3706",registered:"2016-09-15T01:35:16 -06:00"},{id:30,age:35,name:"Williams Bentley",gender:"male",company:"ZEAM",email:"williamsbentley@zeam.com",phone:"+1 (837) 490-2610",registered:"2014-01-06T01:04:11 -06:00"},{id:31,age:27,name:"Doreen Garrett",gender:"female",company:"ENERSAVE",email:"doreengarrett@enersave.com",phone:"+1 (920) 522-2847",registered:"2017-01-25T03:24:47 -06:00"},{id:32,age:34,name:"Shaw Cannon",gender:"male",company:"EBIDCO",email:"shawcannon@ebidco.com",phone:"+1 (903) 530-2676",registered:"2014-04-11T04:49:08 -06:00"},{id:33,age:25,name:"Sonya Skinner",gender:"female",company:"EXOSWITCH",email:"sonyaskinner@exoswitch.com",phone:"+1 (923) 428-3014",registered:"2014-02-09T11:59:54 -06:00"},{id:34,age:27,name:"Todd Potter",gender:"male",company:"MUSIX",email:"toddpotter@musix.com",phone:"+1 (817) 491-2268",registered:"2015-04-06T11:10:47 -06:00"},{id:35,age:21,name:"Celina Rose",gender:"female",company:"TWIIST",email:"celinarose@twiist.com",phone:"+1 (863) 599-2063",registered:"2015-09-04T07:59:29 -06:00"},{id:36,age:40,name:"Ingrid Day",gender:"female",company:"ZBOO",email:"ingridday@zboo.com",phone:"+1 (921) 447-2312",registered:"2016-10-01T08:26:07 -06:00"},{id:37,age:24,name:"Lynch Stark",gender:"male",company:"PYRAMIA",email:"lynchstark@pyramia.com",phone:"+1 (995) 431-2354",registered:"2014-01-26T11:38:48 -06:00"},{id:38,age:29,name:"Helga Mendez",gender:"female",company:"COMVEYER",email:"helgamendez@comveyer.com",phone:"+1 (897) 418-3815",registered:"2015-10-03T08:58:45 -06:00"},{id:39,age:30,name:"Corinne Calhoun",gender:"female",company:"ADORNICA",email:"corinnecalhoun@adornica.com",phone:"+1 (841) 564-3617",registered:"2016-05-24T10:42:36 -06:00"},{id:40,age:40,name:"Winifred Conrad",gender:"female",company:"SATIANCE",email:"winifredconrad@satiance.com",phone:"+1 (885) 533-2416",registered:"2017-03-01T06:12:08 -06:00"},{id:41,age:27,name:"Lawanda Stevenson",gender:"female",company:"ZILLACTIC",email:"lawandastevenson@zillactic.com",phone:"+1 (823) 535-3187",registered:"2014-07-07T05:26:22 -06:00"},{id:42,age:30,name:"Kirsten Long",gender:"female",company:"IMAGEFLOW",email:"kirstenlong@imageflow.com",phone:"+1 (809) 592-2264",registered:"2014-05-08T07:41:56 -06:00"},{id:43,age:39,name:"Summer Farley",gender:"female",company:"ENTOGROK",email:"summerfarley@entogrok.com",phone:"+1 (814) 490-3578",registered:"2016-10-28T10:02:34 -06:00"},{id:44,age:31,name:"Mendoza Randall",gender:"male",company:"COREPAN",email:"mendozarandall@corepan.com",phone:"+1 (846) 501-2860",registered:"2015-12-14T12:58:18 -06:00"},{id:45,age:27,name:"Marcy Doyle",gender:"female",company:"VORATAK",email:"marcydoyle@voratak.com",phone:"+1 (848) 411-2728",registered:"2014-02-12T10:46:27 -06:00"},{id:46,age:30,name:"Burch Walker",gender:"male",company:"COMVEYOR",email:"burchwalker@comveyor.com",phone:"+1 (968) 445-2104",registered:"2014-01-07T05:16:30 -06:00"},{id:47,age:31,name:"Solis Lester",gender:"male",company:"MACRONAUT",email:"solislester@macronaut.com",phone:"+1 (857) 422-3242",registered:"2016-10-20T09:40:51 -06:00"},{id:48,age:20,name:"Lorene Mooney",gender:"female",company:"ORGANICA",email:"lorenemooney@organica.com",phone:"+1 (853) 406-2716",registered:"2015-09-17T03:54:41 -06:00"},{id:49,age:34,name:"Rhodes Vega",gender:"male",company:"CHILLIUM",email:"rhodesvega@chillium.com",phone:"+1 (863) 577-3562",registered:"2016-06-15T05:36:10 -06:00"},{id:50,age:28,name:"Pruitt Merrill",gender:"male",company:"KYAGURU",email:"pruittmerrill@kyaguru.com",phone:"+1 (910) 585-3659",registered:"2017-04-02T09:36:00 -06:00"},{id:51,age:33,name:"Bernadine Hart",gender:"female",company:"BITTOR",email:"bernadinehart@bittor.com",phone:"+1 (906) 446-3518",registered:"2015-11-10T07:45:59 -06:00"},{id:52,age:22,name:"Carver Mckenzie",gender:"male",company:"LOCAZONE",email:"carvermckenzie@locazone.com",phone:"+1 (803) 407-3142",registered:"2015-06-24T07:16:02 -06:00"},{id:53,age:27,name:"Dean Cobb",gender:"male",company:"ASSISTIA",email:"deancobb@assistia.com",phone:"+1 (877) 539-3346",registered:"2016-12-02T01:14:47 -06:00"},{id:54,age:32,name:"Camacho Robinson",gender:"male",company:"INSURITY",email:"camachorobinson@insurity.com",phone:"+1 (929) 430-3079",registered:"2016-12-14T08:59:33 -06:00"},{id:55,age:36,name:"Nancy Rodgers",gender:"female",company:"COSMOSIS",email:"nancyrodgers@cosmosis.com",phone:"+1 (873) 489-2643",registered:"2014-08-21T02:19:28 -06:00"},{id:56,age:27,name:"June Henry",gender:"female",company:"PETIGEMS",email:"junehenry@petigems.com",phone:"+1 (808) 536-2445",registered:"2014-03-28T08:36:27 -06:00"},{id:57,age:26,name:"Rochelle Simmons",gender:"female",company:"DANJA",email:"rochellesimmons@danja.com",phone:"+1 (936) 563-3886",registered:"2015-12-07T08:01:18 -06:00"},{id:58,age:32,name:"Alice Thornton",gender:"female",company:"ISOSURE",email:"alicethornton@isosure.com",phone:"+1 (962) 560-2318",registered:"2015-06-07T08:09:50 -06:00"},{id:59,age:39,name:"Clara Downs",gender:"female",company:"ZANILLA",email:"claradowns@zanilla.com",phone:"+1 (977) 595-2657",registered:"2015-06-14T02:33:33 -06:00"}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=f.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=a("FHx2"),x=a("nm5K");let P=(()=>{class e{constructor(e,t,a){this.router=e,this.crudeService=t,this.data=a,this.data.selectedagent=this.selectedagent}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getPaymentMethods(),this.getPayments(),this.getAgentDetails()]).then(()=>{e()},t)})}getPaymentMethods(){return new Promise((e,t)=>{this.data.paymentmethods?(this.paymentmethods=this.data.paymentmethods,e(this.paymentmethods)):this.crudeService.getPaymentMethod().subscribe(t=>{this.paymentmethods=t.data,this.data.paymentmethods=t.data,e(this.paymentmethods)},t)})}getPayments(){return new Promise((e,t)=>{this.crudeService.getPayments(this.selectedagent.id).subscribe(t=>{this.payments=t.data,e(this.payments)},t)})}getAgentDetails(){return new Promise((e,t)=>{this.crudeService.getAgentDetails(this.selectedagent).subscribe(t=>{this.agentdetails=t,e(this.agentdetails)},t)})}}return e.\u0275fac=function(t){return new(t||e)(f.fc(n.g),f.fc(x.a),f.fc(v.a))},e.\u0275prov=f.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=a("3sEA"),G=a("0IaG"),T=a("5eHb"),I=a("bTqV"),A=a("NFeN"),C=a("Wp6s"),R=a("XiUz"),S=a("kmnG"),N=a("qFsG"),k=a("7EHt");function O(e,t){if(1&e){const e=f.cc();f.bc(0,"div"),f.bc(1,"a"),f.bc(2,"ngx-datatable",26),f.jc("activate",(function(t){return f.Gc(e),f.nc().onActivate(t)})),f.ac(),f.ac(),f.ac()}if(2&e){const e=f.nc();f.Gb(2),f.tc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight",50)("limit",8)("rows",e.rows)("columns",e.columns)}}const F=function(){return{scale:".9",delay:"200ms"}},M=function(e){return{value:"*",params:e}},L=function(){return{delay:"400ms",scale:".9"}};let _=(()=>{class e{constructor(e,t,a,c,n,i,r,o,s){this.dialog=e,this.data=t,this.state=a,this.service=c,this.agent=n,this.router=i,this.crudService=r,this.loader=o,this.toastr=s,this.rows=[],this.columns=[],this.temp=[],this.role=this.state.role,this.state.user.subscribe(e=>{this.user=e}),this.userdetails=this.data.userdetails}ngOnInit(){this.approvedpartners=this.rows=this.temp=this.data.approvedpartners,this.agents=this.data.agents,this.columns=this.service.getDataConf()}ngOnDestroy(){}onActivate(e){"click"==e.type&&(this.agent.selectedagent=e.row,this.router.navigate(["/invoice/agentsummary"]))}updateFilter(e){const t=e.target.value.toLowerCase();var a=Object.keys(this.temp[0]);if(a.splice(a.length-1),!a.length)return;const c=this.temp.filter((function(e){for(let c=0;c<=a.length;c++){let n=a[c];if(e[n]&&e[n].toString().toLowerCase().indexOf(t)>-1)return!0}}));this.rows=c}requestAgent(e={},t){this.dialog.open(p.a,{width:"720px",disableClose:!0,data:{agents:this.agents}}).afterClosed().subscribe(a=>{a&&(this.loader.open(),t?this.crudService.userRequest(a).subscribe(e=>{this.loader.close(),this.approvedpartners=this.approvedpartners.concat([e.approvedpartners]),this.data.approvedpartners=this.approvedpartners,this.toastr.success("Success",e.message)},e=>{this.loader.close(),this.toastr.error("Sorry",e.error)}):this.crudService.updateItem(e._id,a).subscribe(e=>{this.loader.close()}))})}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(G.b),f.Vb(v.a),f.Vb(g.a),f.Vb(y),f.Vb(P),f.Vb(n.g),f.Vb(x.a),f.Vb(w.a),f.Vb(T.b))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-sale-overview"]],decls:98,vars:18,consts:[[1,"handle"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[1,"p-0"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-sm","20","fxFlex.sm","50"],[1,"text-center","pt-1","pb-1","border-right-light"],[1,"text-blue"],[1,"m-0"],[1,"m-0","text-muted"],[1,"text-orange"],[1,"text-center","pt-1","pb-1"],["fxFlex","100","fxFlex.gt-sm","66.67","fxFlex.sm","50"],[1,"margin-333",2,"width","100%"],["matInput","","placeholder","Search for an Agent","value","",3,"keyup"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-sm","33.3","fxFlex.sm","50"],[1,"m-333"],["multi","false"],["expanded","true"],[1,"border-bottom","pb-1","mb-1"],["fxLyout","row wrap",1,"text-blue","font-weight-bold"],["fxFlex",""],["fxLyout","row wrap",1,"text-muted"],[1,"text-green"],[1,"text-red"],[1,""],[1,"material","bg-white",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","columns","activate"]],template:function(e,t){1&e&&(f.bc(0,"div",0),f.bc(1,"button",1),f.jc("click",(function(e){return t.requestAgent({},!0)})),f.Pc(2," Request for Agent "),f.bc(3,"mat-icon"),f.Pc(4," group_add"),f.ac(),f.ac(),f.ac(),f.bc(5,"mat-card",2),f.bc(6,"div",3),f.bc(7,"div",4),f.bc(8,"div",5),f.bc(9,"mat-icon",6),f.Pc(10,"account_balance_wallet"),f.ac(),f.bc(11,"h4",7),f.Pc(12),f.ac(),f.bc(13,"small",8),f.Pc(14,"Sold To Agents"),f.ac(),f.ac(),f.ac(),f.bc(15,"div",4),f.bc(16,"div",5),f.bc(17,"mat-icon",9),f.Pc(18,"attach_money"),f.ac(),f.bc(19,"h4",7),f.Pc(20),f.ac(),f.bc(21,"small",8),f.Pc(22,"Sold By Agents"),f.ac(),f.ac(),f.ac(),f.bc(23,"div",4),f.bc(24,"div",5),f.bc(25,"mat-icon",6),f.Pc(26,"business_center"),f.ac(),f.bc(27,"h4",7),f.Pc(28),f.ac(),f.bc(29,"small",8),f.Pc(30,"Received from Agents"),f.ac(),f.ac(),f.ac(),f.bc(31,"div",4),f.bc(32,"div",5),f.bc(33,"mat-icon",6),f.Pc(34,"add"),f.ac(),f.bc(35,"h4",7),f.Pc(36),f.ac(),f.bc(37,"small",8),f.Pc(38,"Received but with Agents"),f.ac(),f.ac(),f.ac(),f.bc(39,"div",4),f.bc(40,"div",10),f.bc(41,"mat-icon",9),f.Pc(42,"compare_arrows"),f.ac(),f.bc(43,"h4",7),f.Pc(44),f.ac(),f.bc(45,"small",8),f.Pc(46,"In debt with Retailers"),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(47,"div",3),f.bc(48,"div",11),f.bc(49,"mat-form-field",12),f.bc(50,"input",13),f.jc("keyup",(function(e){return t.updateFilter(e)})),f.ac(),f.ac(),f.Nc(51,O,3,7,"div",14),f.ac(),f.bc(52,"div",15),f.bc(53,"div",16),f.bc(54,"mat-accordion",17),f.bc(55,"mat-expansion-panel",18),f.bc(56,"mat-expansion-panel-header"),f.bc(57,"mat-panel-title"),f.Pc(58," Year: 2020/2021 "),f.ac(),f.ac(),f.bc(59,"div",19),f.bc(60,"div",20),f.bc(61,"span"),f.Pc(62,"Total Sale"),f.ac(),f.Wb(63,"span",21),f.bc(64,"span"),f.Pc(65,"8897.45"),f.ac(),f.ac(),f.bc(66,"div",22),f.bc(67,"small"),f.Pc(68,"As At"),f.ac(),f.Wb(69,"span",21),f.bc(70,"small",23),f.Pc(71,"530(+3.73%)"),f.ac(),f.ac(),f.ac(),f.bc(72,"div",19),f.bc(73,"div",20),f.bc(74,"span"),f.Pc(75,"Total Received"),f.ac(),f.Wb(76,"span",21),f.bc(77,"span"),f.Pc(78,"3829.23"),f.ac(),f.ac(),f.bc(79,"div",22),f.bc(80,"small"),f.Pc(81,"As At"),f.ac(),f.Wb(82,"span",21),f.bc(83,"small",24),f.Pc(84,"430(-1.43%)"),f.ac(),f.ac(),f.ac(),f.bc(85,"div",25),f.bc(86,"div",20),f.bc(87,"span"),f.Pc(88,"Total Indebt"),f.ac(),f.Wb(89,"span",21),f.bc(90,"span"),f.Pc(91,"5836.79"),f.ac(),f.ac(),f.bc(92,"div",22),f.bc(93,"small"),f.Pc(94,"As At"),f.ac(),f.Wb(95,"span",21),f.bc(96,"small",23),f.Pc(97,"210(+2.23%)"),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()),2&e&&(f.Gb(5),f.tc("@animate",f.yc(10,M,f.xc(9,F))),f.Gb(7),f.Qc(t.userdetails.sold_to_agents),f.Gb(8),f.Qc(t.userdetails.sold_by_agents),f.Gb(8),f.Qc(t.userdetails.received_from_agents),f.Gb(8),f.Qc(t.userdetails.received_but_with_agents),f.Gb(8),f.Qc(t.userdetails.indebt_with_retailers),f.Gb(4),f.tc("@animate",f.yc(13,M,f.xc(12,L))),f.Gb(3),f.tc("ngIf",t.approvedpartners),f.Gb(1),f.tc("@animate",f.yc(16,M,f.xc(15,L))))},directives:[I.b,A.a,C.a,R.c,R.a,S.b,N.b,c.m,k.a,k.c,k.d,k.e,o.c],styles:[".handle[_ngcontent-%COMP%]{bottom:30px}.handle[_ngcontent-%COMP%], .second[_ngcontent-%COMP%]{position:fixed;right:30px;z-index:99}.second[_ngcontent-%COMP%]{bottom:80px}.third[_ngcontent-%COMP%]{position:fixed;bottom:120px;right:30px;z-index:99}"],data:{animation:h.a}}),e})();var W=a("3kSh"),E=a("d3UM"),D=a("FKr1");function V(e,t){if(1&e&&(f.bc(0,"mat-option",13),f.Pc(1),f.ac()),2&e){const e=t.$implicit;f.tc("value",e.id),f.Gb(1),f.Rc(" ",e.name," ")}}let H=(()=>{class e{constructor(e,t,a){this.data=e,this.dialogRef=t,this.fb=a}ngOnInit(){this.paymentmethods=this.data.paymentmethods,this.selectedagent=this.data.selectedagent,this.itemForm=this.fb.group({amount:["",i.s.required],payment_method_id:["",i.s.required],agent_id:this.selectedagent.id})}submit(){this.dialogRef.close(this.itemForm.value)}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(G.a),f.Vb(G.f),f.Vb(i.d))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-makepayment-popup"]],decls:23,vars:4,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","amount","placeholder","Amount",3,"formControl"],["formControlName","payment_method_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(e,t){1&e&&(f.bc(0,"h1",0),f.Pc(1,"Add A New Item"),f.ac(),f.bc(2,"form",1),f.jc("ngSubmit",(function(e){return t.submit()})),f.bc(3,"div",2),f.bc(4,"div",3),f.bc(5,"mat-form-field",4),f.Wb(6,"input",5),f.ac(),f.ac(),f.bc(7,"div",3),f.bc(8,"mat-form-field",4),f.bc(9,"mat-label"),f.Pc(10,"Payment Was Made Through"),f.ac(),f.bc(11,"mat-select",6),f.Nc(12,V,2,2,"mat-option",7),f.ac(),f.bc(13,"mat-icon",8),f.Pc(14,"outlined_flag"),f.ac(),f.bc(15,"mat-error"),f.Pc(16,"payment type is required!"),f.ac(),f.ac(),f.ac(),f.bc(17,"div",9),f.bc(18,"button",10),f.Pc(19,"Save"),f.ac(),f.Wb(20,"span",11),f.bc(21,"button",12),f.jc("click",(function(e){return t.dialogRef.close(!1)})),f.Pc(22,"Cancel"),f.ac(),f.ac(),f.ac(),f.ac()),2&e&&(f.Gb(2),f.tc("formGroup",t.itemForm),f.Gb(4),f.tc("formControl",t.itemForm.controls.amount),f.Gb(6),f.tc("ngForOf",t.paymentmethods),f.Gb(6),f.tc("disabled",t.itemForm.invalid))},directives:[G.g,i.t,i.n,i.h,R.c,R.a,S.b,N.b,i.b,i.m,i.f,S.e,E.a,i.g,i.r,c.l,A.a,S.f,S.a,I.b,D.p],styles:[""]}),e})();var q=a("dNgK"),j=a("STbY"),U=a("f0Cb");function z(e,t){if(1&e&&(f.bc(0,"div",37),f.bc(1,"mat-card",38),f.Wb(2,"img",46),f.Wb(3,"span",40),f.bc(4,"div"),f.bc(5,"p",41),f.Pc(6,"Current Balance"),f.ac(),f.bc(7,"span",42),f.Pc(8),f.bc(9,"span",43),f.Pc(10,"arrow_drop_down"),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()),2&e){const e=f.nc(2);f.Gb(8),f.Qc(e.agentdetails.ledger.cbalance)}}function B(e,t){if(1&e&&(f.bc(0,"div",37),f.bc(1,"mat-card",38),f.Wb(2,"img",47),f.Wb(3,"span",40),f.bc(4,"div"),f.bc(5,"p",41),f.Pc(6,"Last Payment"),f.ac(),f.bc(7,"span",48),f.Pc(8),f.Wb(9,"span",43),f.ac(),f.ac(),f.ac(),f.ac()),2&e){const e=f.nc(2);f.Gb(8),f.Rc("GHC ",e.lastpayment.amount,"")}}const K=function(){return{delay:"600ms",scale:".9"}},Y=function(e){return{value:"*",params:e}};function Q(e,t){if(1&e&&(f.bc(0,"div",6),f.Nc(1,z,11,1,"div",36),f.Nc(2,B,10,1,"div",36),f.bc(3,"div",37),f.bc(4,"mat-card",38),f.Wb(5,"img",39),f.Wb(6,"span",40),f.bc(7,"div"),f.bc(8,"p",41),f.Pc(9,"Last Invoice"),f.ac(),f.bc(10,"span",42),f.Pc(11),f.Wb(12,"span",43),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(13,"div",37),f.bc(14,"mat-card",38),f.Wb(15,"img",44),f.Wb(16,"span",40),f.bc(17,"div"),f.bc(18,"p",41),f.Pc(19,"Unpaid Invoice"),f.ac(),f.bc(20,"span",42),f.Pc(21,"$10 "),f.Wb(22,"span",43),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(23,"div",37),f.bc(24,"mat-card",38),f.Wb(25,"img",45),f.Wb(26,"span",40),f.bc(27,"div"),f.bc(28,"p",41),f.Pc(29,"Unpaid Invoice"),f.ac(),f.bc(30,"span",42),f.Pc(31,"$80 "),f.Wb(32,"span",43),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()),2&e){const e=f.nc();f.tc("@animate",f.yc(4,Y,f.xc(3,K))),f.Gb(1),f.tc("ngIf",e.agentdetails.ledger.cbalance),f.Gb(10),f.Rc("GHC ",e.lastinvoice.after_discount," ")}}function J(e,t){if(1&e&&(f.bc(0,"div",49),f.Wb(1,"img",50),f.Pc(2),f.ac()),2&e){const e=t.row;f.Gb(1),f.tc("src",e.icon,f.Ic),f.Gb(1),f.Rc(" ",null==e?null:e.total_sale," ")}}function X(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.discount," ")}}function $(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.after_discount," ")}}function Z(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.amount_paid," ")}}function ee(e,t){1&e&&(f.bc(0,"button",52),f.Pc(1,"unpaid"),f.ac())}function te(e,t){1&e&&(f.bc(0,"button",52),f.Pc(1,"paid"),f.ac())}function ae(e,t){if(1&e&&(f.Nc(0,ee,2,0,"button",51),f.Nc(1,te,2,0,"button",51)),2&e){const e=t.row;f.tc("ngIf","0"==(null==e?null:e.completed)),f.Gb(1),f.tc("ngIf","1"==(null==e?null:e.completed))}}function ce(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.payment_method," ")}}function ne(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.amount," ")}}function ie(e,t){if(1&e&&(f.bc(0,"button",53),f.Pc(1),f.oc(2,"date"),f.ac()),2&e){const e=t.row;f.Gb(1),f.Qc(f.pc(2,1,null==e?null:e.made_on))}}const re=function(){return{delay:"800ms",scale:".9"}};let oe=(()=>{class e{constructor(e,t,a,c,n,i,r,o){this.agent=e,this.dialog=t,this.snack=a,this.crudService=c,this.confirmService=n,this.loader=i,this.data=r,this.toastr=o}ngOnInit(){this.selectedagent=this.agent.selectedagent,this.paymentmethods=this.agent.paymentmethods,this.payments=this.agent.payments,this.agentdetails=this.agent.agentdetails,this.pop=this.agent.agentdetails,this.lastpayment=this.pop.payments,this.lastinvoice=this.pop.invoices,this.lastinvoice=this.lastinvoice[this.lastinvoice.length-1],this.lastpayment=this.lastpayment[this.lastpayment.length-1]}openMakePayment(e={},t){this.dialog.open(H,{width:"720px",disableClose:!0,data:{paymentmethods:this.paymentmethods,selectedagent:this.selectedagent}}).afterClosed().subscribe(a=>{a&&(this.loader.open(),t?this.crudService.addPayments(a).subscribe(e=>{this.loader.close(),this.payments=this.payments.concat([e.payment]),this.data.userdetails=e.userdetails,this.snack.open("New Payment Made","OK",{duration:4e3})},e=>{this.loader.close(),this.toastr.error("sorry",e.error)}):this.crudService.updateItem(e._id,a).subscribe(e=>{this.payments=e,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(P),f.Vb(G.b),f.Vb(q.a),f.Vb(x.a),f.Vb(W.a),f.Vb(w.a),f.Vb(v.a),f.Vb(T.b))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-agent-summary"]],decls:77,vars:27,consts:[[1,"handle"],["routerLink","/invoice/newsale","mat-raised-button","","color","primary",1,"mb-05"],[1,"second"],["mat-raised-button","","color","accent",1,"mb-05",3,"click"],[1,"third"],["routerLink","/invoice/home","mat-raised-button","","color","warn",1,"mb-05"],["fxLayout","row wrap"],["fxFlex","100",1,"p-0","mb-1"],[1,"user-card","p-0"],[1,"mat-bg-primary"],[1,"card-title-text"],["href","",1,"toolbar-avatar","md","mr-1"],["alt","",3,"src"],["fxFlex",""],["mat-icon-button","",1,"",3,"matMenuTriggerFor"],[1,""],["userMenu","matMenu"],["mat-menu-item",""],[1,"user-details"],[1,"text-muted"],["fxLayout","row wrap",4,"ngIf"],["fxFlex","100","fxFlex.gt-sm","66.67"],[1,"p-0"],[1,"pl-1","pt-1","m-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","rowHeight"],["name","Total Sale",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","Discount",3,"flexGrow"],["name","Value",3,"flexGrow"],["name","Amount Paid",3,"flexGrow"],["name","Status",3,"flexGrow"],["fxFlex","100","fxFlex.gt-sm","33.33"],[1,"ml-1","mt-1"],["name","Made At",3,"flexGrow"],["name","amount",3,"flexGrow"],["name","Date",3,"flexGrow"],["fxFlex","100","fxFlex.gt-sm","20","fxFlex.sm","50",4,"ngIf"],["fxFlex","100","fxFlex.gt-sm","20","fxFlex.sm","50"],["fxLayout","row wrap","fxLayoutAlign","start center",1,"rounded-circle"],["src","assets/images/cryptocurrencies/LTC.png","alt","",1,"avatar-md","rounded-circle"],[2,"width","20px"],[1,"m-0","text-14","text-muted","line-height-1"],[1,"text-18","font-weight-bold","text-red"],[1,"material-icons","mat-icon-18"],["src","assets/images/cryptocurrencies/BTS.png","alt","",1,"avatar-md","rounded-circle"],["src","assets/images/cryptocurrencies/CNX.png","alt","",1,"avatar-md","rounded-circle"],["src","assets/images/cryptocurrencies/BTC.png","alt","",1,"avatar-md","rounded-circle"],["src","assets/images/cryptocurrencies/ETH.png","alt","",1,"avatar-md","rounded-circle"],[1,"text-18","font-weight-bold","text-green"],["fxLayout","row wrap","fxLayoutAlign","start center"],["alt","",1,"avatar-xs","mr-05",3,"src"],["mat-stroked-button","","color","primary",4,"ngIf"],["mat-stroked-button","","color","primary"],["mat-stroked-button","","color","warn"]],template:function(e,t){if(1&e&&(f.bc(0,"div",0),f.bc(1,"button",1),f.Pc(2," New Sale "),f.bc(3,"mat-icon"),f.Pc(4,"shop"),f.ac(),f.ac(),f.ac(),f.bc(5,"div",2),f.bc(6,"button",3),f.jc("click",(function(e){return t.openMakePayment({},!0)})),f.Pc(7," New Payment "),f.bc(8,"mat-icon"),f.Pc(9,"attach_money"),f.ac(),f.ac(),f.ac(),f.bc(10,"div",4),f.bc(11,"button",5),f.Pc(12," back to Agents "),f.bc(13,"mat-icon"),f.Pc(14,"arrow_back"),f.ac(),f.ac(),f.ac(),f.bc(15,"div",6),f.bc(16,"div",7),f.bc(17,"mat-card",8),f.bc(18,"mat-card-title",9),f.bc(19,"div",10),f.bc(20,"a",11),f.Wb(21,"img",12),f.ac(),f.bc(22,"span"),f.Pc(23),f.ac(),f.Wb(24,"span",13),f.bc(25,"button",14),f.bc(26,"mat-icon",15),f.Pc(27,"more_vert"),f.ac(),f.ac(),f.bc(28,"mat-menu",null,16),f.bc(30,"button",17),f.Pc(31,"Follow"),f.ac(),f.bc(32,"button",17),f.Pc(33,"Message"),f.ac(),f.bc(34,"button",17),f.Pc(35,"Block"),f.ac(),f.bc(36,"button",17),f.Pc(37,"Delete"),f.ac(),f.ac(),f.ac(),f.Wb(38,"mat-divider"),f.ac(),f.bc(39,"mat-card-content"),f.bc(40,"div",18),f.bc(41,"p"),f.bc(42,"mat-icon",19),f.Pc(43,"date_range"),f.ac(),f.Pc(44),f.ac(),f.bc(45,"p"),f.bc(46,"mat-icon",19),f.Pc(47,"location_on"),f.ac(),f.Pc(48),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.Nc(49,Q,33,6,"div",20),f.bc(50,"div",6),f.bc(51,"div",21),f.bc(52,"mat-card",22),f.bc(53,"h6",23),f.Pc(54,"Invoices"),f.ac(),f.bc(55,"ngx-datatable",24),f.bc(56,"ngx-datatable-column",25),f.Nc(57,J,3,2,"ng-template",26),f.ac(),f.bc(58,"ngx-datatable-column",27),f.Nc(59,X,1,1,"ng-template",26),f.ac(),f.bc(60,"ngx-datatable-column",28),f.Nc(61,$,1,1,"ng-template",26),f.ac(),f.bc(62,"ngx-datatable-column",29),f.Nc(63,Z,1,1,"ng-template",26),f.ac(),f.bc(64,"ngx-datatable-column",30),f.Nc(65,ae,2,2,"ng-template",26),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(66,"div",31),f.bc(67,"mat-card",22),f.bc(68,"h6",32),f.Pc(69,"Payments"),f.ac(),f.bc(70,"ngx-datatable",24),f.bc(71,"ngx-datatable-column",33),f.Nc(72,ce,1,1,"ng-template",26),f.ac(),f.bc(73,"ngx-datatable-column",34),f.Nc(74,ne,1,1,"ng-template",26),f.ac(),f.bc(75,"ngx-datatable-column",35),f.Nc(76,ie,3,3,"ng-template",26),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()),2&e){const e=f.Dc(29);f.Gb(23),f.Qc(t.selectedagent.name),f.Gb(2),f.tc("matMenuTriggerFor",e),f.Gb(19),f.Rc("Phone: ",t.selectedagent.phone,""),f.Gb(4),f.Rc("Location: ",t.selectedagent.location,""),f.Gb(1),f.tc("ngIf",t.agentdetails),f.Gb(1),f.tc("@animate",f.yc(25,Y,f.xc(24,re))),f.Gb(5),f.tc("rows",t.agentdetails.invoices)("columnMode","flex")("headerHeight",50)("footerHeight",0)("rowHeight","auto"),f.Gb(1),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(6),f.tc("rows",t.payments)("columnMode","flex")("headerHeight",50)("footerHeight",0)("rowHeight","auto"),f.Gb(1),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1)}},directives:[I.b,n.h,A.a,R.c,R.a,C.a,C.e,j.c,j.d,j.a,U.a,C.b,c.m,o.c,o.b,o.a,R.b],pipes:[c.e],styles:[".handle[_ngcontent-%COMP%]{bottom:30px}.handle[_ngcontent-%COMP%], .second[_ngcontent-%COMP%]{position:fixed;right:30px;z-index:99}.second[_ngcontent-%COMP%]{bottom:80px}.third[_ngcontent-%COMP%]{position:fixed;bottom:120px;right:30px;z-index:99}"],data:{animation:h.a}}),e})();function se(e,t){if(1&e&&(f.bc(0,"mat-option",24),f.Pc(1),f.ac()),2&e){const e=t.$implicit;f.tc("value",e),f.Gb(1),f.Rc(" ",e," ")}}function le(e,t){1&e&&(f.bc(0,"mat-error"),f.Pc(1,"You must select a publisher"),f.ac())}function me(e,t){if(1&e&&(f.bc(0,"div"),f.Nc(1,le,2,0,"mat-error",11),f.ac()),2&e){const e=f.nc();f.Gb(1),f.tc("ngIf",e.f.numberOfTickets.errors.required)}}function de(e,t){if(1&e&&(f.bc(0,"mat-option",36),f.Pc(1),f.ac()),2&e){const e=t.$implicit;f.tc("disabled",0==e.status)("value",e),f.Gb(1),f.Uc(" ",e.name," - ",e.class," - GHC ",e.price," - Edition ",e.edition," ")}}function be(e,t){1&e&&(f.bc(0,"mat-error"),f.Pc(1,"You must select an Item"),f.ac())}function ue(e,t){if(1&e&&(f.bc(0,"div"),f.Nc(1,be,2,0,"mat-error",11),f.ac()),2&e){const e=f.nc().$implicit;f.Gb(1),f.tc("ngIf",e.controls.item.errors.required)}}function ge(e,t){1&e&&(f.bc(0,"small",38),f.Pc(1,"Quantity must have a value"),f.ac())}function he(e,t){if(1&e&&(f.bc(0,"div"),f.Nc(1,ge,2,0,"small",37),f.ac()),2&e){const e=f.nc().$implicit;f.Gb(1),f.tc("ngIf",e.controls.quantity.errors.required)}}function pe(e,t){if(1&e){const e=f.cc();f.bc(0,"div"),f.bc(1,"h5",25),f.Pc(2),f.ac(),f.bc(3,"form",26),f.bc(4,"div",5),f.bc(5,"div",27),f.bc(6,"div",28),f.bc(7,"mat-label"),f.Pc(8,"Select and Item:"),f.ac(),f.bc(9,"mat-select",29),f.Nc(10,de,2,6,"mat-option",30),f.ac(),f.Nc(11,ue,2,1,"div",11),f.ac(),f.ac(),f.bc(12,"div",31),f.bc(13,"div",28),f.bc(14,"mat-form-field",32),f.Wb(15,"input",33),f.ac(),f.Nc(16,he,2,1,"div",11),f.ac(),f.ac(),f.Wb(17,"span",17),f.bc(18,"div",34),f.bc(19,"button",35),f.jc("click",(function(a){f.Gc(e);const c=t.index;return f.nc().removeitem(c)})),f.Pc(20,"Remove"),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()}if(2&e){const e=t.$implicit,a=t.index,c=f.nc();f.Gb(2),f.Rc("Item ",a+1,""),f.Gb(1),f.tc("formGroup",e),f.Gb(7),f.tc("ngForOf",c.pitems),f.Gb(1),f.tc("ngIf",c.submitted&&e.controls.item.errors),f.Gb(5),f.tc("ngIf",c.submitted&&e.controls.quantity.errors)}}function fe(e,t){if(1&e){const e=f.cc();f.bc(0,"button",39),f.jc("click",(function(t){return f.Gc(e),f.nc().calculateSale()})),f.Pc(1,"Make Sale"),f.ac()}}function ye(e,t){if(1&e&&(f.bc(0,"div",40),f.bc(1,"div",41),f.Pc(2,"Total: "),f.bc(3,"b"),f.Pc(4),f.ac(),f.ac(),f.Wb(5,"span",42),f.bc(6,"div",41),f.Pc(7,"Sale After Discount: "),f.bc(8,"b"),f.Pc(9),f.ac(),f.ac(),f.Wb(10,"span",43),f.ac()),2&e){const e=f.nc();f.Gb(4),f.Rc("GHC ",e.totalsale,""),f.Gb(5),f.Rc("GHC ",e.afterdiscount,"")}}let ve=(()=>{class e{constructor(e,t,a,c,n,i,r){this.agent=e,this.crudService=t,this.fb=a,this.loader=c,this.toastr=n,this.data=i,this.router=r,this.submitted=!1}ngOnInit(){this.selectedagent=this.agent.selectedagent,this.dynamicForm=this.fb.group({numberOfTickets:["",i.s.required],agent:this.selectedagent,discount:["",i.s.required],tickets:new i.c([])}),this.pitems=this.items=this.data.items,this.length=Array(this.items.length).fill(1).map((e,t)=>t+1)}get f(){return this.dynamicForm.controls}get t(){return this.f.tickets}onChangeTickets(e){const t=e.value||0;if(this.t.length<t)for(let a=this.t.length;a<t;a++)this.t.push(this.fb.group({item:["",i.s.required],quantity:["",[i.s.required]]}));else for(let a=this.t.length;a>=t;a--)this.t.removeAt(a)}highlight(e){console.log(e)}itemchange(e){e.value.status=0,this.pitems=this.pitems.filter((function(t){return t.id!==e.value.id})),this.pitems=this.pitems.concat([e.value])}removeitem(e){this.t.removeAt(e)}onSubmit(){if(this.submitted=!0,this.dynamicForm.invalid)return;const e=this.dynamicForm.value.tickets,t=this.dynamicForm.value.discount;this.totalsale=0;for(var a=0,c=e.length;a<c;a++)this.totalsale=this.totalsale+e[a].item.price*e[a].quantity;for(this.afterdiscount=this.totalsale*(1-t/100),a=1,c=this.dynamicForm.value.tickets.length;a<c;a++);}onReset(){this.submitted=!1,this.dynamicForm.reset(),this.t.clear()}onClear(){this.submitted=!1,this.t.reset()}calculateSale(){this.loader.open(),this.crudService.calculateSale(this.dynamicForm.value).subscribe(e=>{this.loader.close(),this.data.newsaledata=this.dynamicForm.value,this.router.navigate(["/invoice/preinvoice"]),this.toastr.success("succes",e)},e=>{this.loader.close(),this.toastr.error("error",e.error)})}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(P),f.Vb(x.a),f.Vb(i.d),f.Vb(w.a),f.Vb(T.b),f.Vb(v.a),f.Vb(n.g))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-new-sale"]],decls:35,vars:6,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup","ngSubmit"],[1,"card","m-3"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","30",1,"pr-1"],[1,"pt-1","pb-1"],["formControlName","numberOfTickets","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","30"],["matInput","","placeholder","Discount","formControlName","discount","required",""],[4,"ngFor","ngForOf"],[1,"card-footer","text-center"],["mat-raised-button","","color","primary",1,"mb-05"],["fxFlex","8px"],["mat-raised-button","","color","warn","type","reset",1,"mb-05",3,"click"],["mat-raised-button","","color","warn",1,"mb-05",3,"click"],["fxFlex","50px"],["mat-raised-button","","class","mb-05","color","accent",3,"click",4,"ngIf"],["fxFlex","200px"],["class","profile-title text-center mb-1",4,"ngIf"],[3,"value"],["colour","accent",1,"card-title"],[3,"formGroup"],["fxFlex","100","fxFlex.gt-xs","40",1,"pr-1"],[1,"pb-1"],["formControlName","item","required",""],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-xs","40"],[1,"full-width"],["matInput","","name","quantity","formControlName","quantity","placeholder","Quantity (Min Length: 4, Max Length: 9)","value",""],["fxFlex","100","fxFlex.gt-xs","10"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[3,"disabled","value"],["class","form-error-msg",4,"ngIf"],[1,"form-error-msg"],["mat-raised-button","","color","accent",1,"mb-05",3,"click"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],["fxFlex","100px"],["fxFlex","20px"]],template:function(e,t){1&e&&(f.bc(0,"mat-card",0),f.bc(1,"mat-card-title",1),f.bc(2,"div",2),f.Pc(3,"Selling Form"),f.ac(),f.Wb(4,"mat-divider"),f.ac(),f.bc(5,"mat-card-content"),f.bc(6,"form",3),f.jc("ngSubmit",(function(e){return t.onSubmit()})),f.bc(7,"div",4),f.bc(8,"div",5),f.bc(9,"div",6),f.bc(10,"mat-form-field",7),f.bc(11,"mat-label"),f.Pc(12,"Number of Items:"),f.ac(),f.bc(13,"mat-select",8),f.jc("selectionChange",(function(e){return t.onChangeTickets(e)})),f.Nc(14,se,2,2,"mat-option",9),f.ac(),f.bc(15,"mat-icon",10),f.Pc(16,"outlined_flag"),f.ac(),f.Nc(17,me,2,1,"div",11),f.ac(),f.ac(),f.bc(18,"div",12),f.bc(19,"mat-form-field",7),f.Wb(20,"input",13),f.ac(),f.ac(),f.ac(),f.Nc(21,pe,21,5,"div",14),f.bc(22,"div",15),f.bc(23,"button",16),f.Pc(24,"Calculate Sale"),f.ac(),f.Wb(25,"span",17),f.bc(26,"button",18),f.jc("click",(function(e){return t.onReset()})),f.Pc(27,"Reset"),f.ac(),f.Wb(28,"span",17),f.bc(29,"button",19),f.jc("click",(function(e){return t.onClear()})),f.Pc(30,"Clear"),f.ac(),f.Wb(31,"span",20),f.Nc(32,fe,2,0,"button",21),f.Wb(33,"span",22),f.Nc(34,ye,11,2,"div",23),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()),2&e&&(f.Gb(6),f.tc("formGroup",t.dynamicForm),f.Gb(8),f.tc("ngForOf",t.length),f.Gb(3),f.tc("ngIf",t.submitted&&t.f.numberOfTickets.errors),f.Gb(4),f.tc("ngForOf",t.t.controls),f.Gb(11),f.tc("ngIf",t.afterdiscount),f.Gb(2),f.tc("ngIf",t.afterdiscount))},directives:[C.a,C.e,U.a,C.b,i.t,i.n,i.h,R.c,R.a,S.b,S.e,E.a,i.m,i.g,i.r,c.l,A.a,S.f,c.m,N.b,i.b,I.b,D.p,S.a],styles:[""]}),e})();function xe(e,t){if(1&e&&(f.bc(0,"h1"),f.Pc(1),f.ac()),2&e){const e=f.nc();f.Gb(1),f.Rc("Invoice Number: ",e.invoicenumber,"")}}function Pe(e,t){1&e&&f.Pc(0),2&e&&f.Rc(" ",t.rowIndex+1," ")}function we(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Sc(" ",null==e?null:e.item.name," - ",null==e?null:e.item.class," ")}}function Ge(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.quantity," ")}}function Te(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.item.price," ")}}function Ie(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",(null==e?null:e.item.price)*(null==e?null:e.quantity)," ")}}function Ae(e,t){if(1&e){const e=f.cc();f.bc(0,"button",24),f.jc("click",(function(t){return f.Gc(e),f.nc().createSale()})),f.Pc(1,"Agree On Sale"),f.ac()}}function Ce(e,t){if(1&e){const e=f.cc();f.bc(0,"button",24),f.jc("click",(function(t){return f.Gc(e),f.nc().agentCreateSale()})),f.Pc(1,"Agree On Sale"),f.ac()}}function Re(e,t){if(1&e){const e=f.cc();f.bc(0,"button",25),f.jc("click",(function(t){return f.Gc(e),f.nc().print()})),f.Pc(1,"Print Invoice"),f.ac()}}function Se(e,t){1&e&&(f.bc(0,"button",26),f.Pc(1,"Discard Sale"),f.ac())}function Ne(e,t){1&e&&(f.bc(0,"button",27),f.Pc(1,"Make New Sale"),f.ac())}function ke(e,t){1&e&&(f.bc(0,"button",28),f.Pc(1,"Discard Sale Return to Agents"),f.ac())}function Oe(e,t){1&e&&(f.bc(0,"button",29),f.Pc(1,"Discard Sale Return to Retailers"),f.ac())}function Fe(e,t){1&e&&(f.bc(0,"button",28),f.Pc(1,"Return to Agents"),f.ac())}function Me(e,t){1&e&&(f.bc(0,"button",29),f.Pc(1,"Return to Retailers"),f.ac())}const Le=function(){return{y:"50px",delay:"300ms"}},_e=function(e){return{value:"*",params:e}};let We=(()=>{class e{constructor(e,t,a,c,n,i){this.loader=e,this.crudService=t,this.state=a,this.toastr=c,this.agent=n,this.data=i,this.count=0,this.agreed=!1,this.currentDate=new Date}ngOnInit(){this.items=this.data.newsaledata,this.getAll(),this.role=this.data.role}getAll(){this.sold=this.items.tickets;const e=this.items.discount;this.totalsale=0;for(var t=0,a=this.sold.length;t<a;t++)this.totalsale=this.totalsale+this.sold[t].item.price*this.sold[t].quantity;this.afterdiscount=this.totalsale*(1-e/100)}createSale(){this.loader.open(),this.crudService.createSale(this.items).subscribe(e=>{this.loader.close(),this.invoicenumber=e.invoicenumber,this.agreed=!0,this.toastr.success("succes","Invoice Created")},e=>{this.loader.close(),this.toastr.error("error",e.error)})}agentCreateSale(){this.loader.open(),this.crudService.agentCreateSale(this.items).subscribe(e=>{this.loader.close(),this.invoicenumber=e.invoice.invoicenumber,this.data.userdetails(e.userdetails),this.agreed=!0,this.toastr.success("succes","Invoice Created")},e=>{this.loader.close(),this.toastr.error("error",e.error)})}print(){let e,t;e=document.getElementById("print-section").innerHTML,t=window.open("","_blank","top=0,left=0,height=100%,width=auto"),t.document.open(),t.document.write(`\n      <html>\n        <head>\n          <title>Print tab</title>\n          <style>\n          //........Customized style.......\n          </style>\n        </head>\n    <body onload="window.print();window.close()">${e}</body>\n      </html>`),t.document.close()}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(w.a),f.Vb(x.a),f.Vb(g.a),f.Vb(T.b),f.Vb(P),f.Vb(v.a))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-pre-invoice"]],decls:46,vars:34,consts:[["id","print-section"],[1,"invoicehead"],["src","assets/images/head.jpg","height","200px"],[1,"invoicedetails"],[1,"invoiceuser"],[4,"ngIf"],[1,"amount"],[1,"viewtable"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","limit","rowHeight"],["name","SN",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","Name",3,"flexGrow"],["name","Quantity",3,"flexGrow"],["name","Unit Price",3,"flexGrow"],["name","Total",3,"flexGrow"],[1,"downbuttons"],["mat-raised-button","","class","mb-05","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","class","mb-05","color","primary",3,"click",4,"ngIf"],["fxFlex","8px"],["mat-raised-button","","class","mb-05","color","warn","routerLink","/invoice/newsale",4,"ngIf"],["mat-raised-button","","class","mb-05","color","primary","routerLink","/invoice/agentnewsale",4,"ngIf"],["mat-raised-button","","class","mb-05","color","accent","routerLink","/invoice/home",4,"ngIf"],["mat-raised-button","","class","mb-05","color","accent","routerLink","/invoice/retail",4,"ngIf"],["mat-raised-button","","color","accent",1,"mb-05",3,"click"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],["mat-raised-button","","color","warn","routerLink","/invoice/newsale",1,"mb-05"],["mat-raised-button","","color","primary","routerLink","/invoice/agentnewsale",1,"mb-05"],["mat-raised-button","","color","accent","routerLink","/invoice/home",1,"mb-05"],["mat-raised-button","","color","accent","routerLink","/invoice/retail",1,"mb-05"]],template:function(e,t){1&e&&(f.bc(0,"div",0),f.bc(1,"div",1),f.Wb(2,"img",2),f.ac(),f.bc(3,"div",3),f.bc(4,"div",4),f.Nc(5,xe,2,1,"h1",5),f.bc(6,"h1"),f.Pc(7),f.oc(8,"date"),f.ac(),f.bc(9,"h1",6),f.Pc(10),f.ac(),f.ac(),f.ac(),f.bc(11,"div",7),f.bc(12,"mat-card",8),f.bc(13,"mat-card-content",8),f.bc(14,"ngx-datatable",9),f.bc(15,"ngx-datatable-column",10),f.Nc(16,Pe,1,1,"ng-template",11),f.ac(),f.bc(17,"ngx-datatable-column",12),f.Nc(18,we,1,2,"ng-template",11),f.ac(),f.bc(19,"ngx-datatable-column",13),f.Nc(20,Ge,1,1,"ng-template",11),f.ac(),f.bc(21,"ngx-datatable-column",14),f.Nc(22,Te,1,1,"ng-template",11),f.ac(),f.bc(23,"ngx-datatable-column",15),f.Nc(24,Ie,1,1,"ng-template",11),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(25,"div",3),f.bc(26,"div",4),f.bc(27,"h1"),f.Pc(28),f.ac(),f.bc(29,"h1"),f.Pc(30),f.ac(),f.bc(31,"h1",6),f.Pc(32),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(33,"div",16),f.Nc(34,Ae,2,0,"button",17),f.Nc(35,Ce,2,0,"button",17),f.Nc(36,Re,2,0,"button",18),f.Wb(37,"span",19),f.Nc(38,Se,2,0,"button",20),f.Nc(39,Ne,2,0,"button",21),f.Wb(40,"span",19),f.Nc(41,ke,2,0,"button",22),f.Nc(42,Oe,2,0,"button",23),f.Wb(43,"span",19),f.Nc(44,Fe,2,0,"button",22),f.Nc(45,Me,2,0,"button",23),f.ac()),2&e&&(f.Gb(5),f.tc("ngIf",t.invoicenumber),f.Gb(2),f.Rc("Invoice Date: ",f.qc(8,28,t.currentDate,"dd MMM yyyy"),""),f.Gb(3),f.Rc("Amount Due: GHC ",t.afterdiscount,""),f.Gb(2),f.tc("@animate",f.yc(32,_e,f.xc(31,Le))),f.Gb(2),f.tc("rows",t.sold)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!1)("limit",10)("rowHeight",50),f.Gb(1),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(5),f.Rc("Total: ",t.totalsale,""),f.Gb(2),f.Rc("Discount: ",t.items.discount,"%"),f.Gb(2),f.Rc("Amount Due: GHC",t.afterdiscount,""),f.Gb(2),f.tc("ngIf",!t.agreed&&t.role.publisher),f.Gb(1),f.tc("ngIf",!t.agreed&&t.role.agent),f.Gb(1),f.tc("ngIf",t.agreed),f.Gb(2),f.tc("ngIf",t.role.publisher),f.Gb(1),f.tc("ngIf",t.role.agent),f.Gb(2),f.tc("ngIf",!t.agreed&&t.role.publisher),f.Gb(1),f.tc("ngIf",!t.agreed&&t.role.agent),f.Gb(2),f.tc("ngIf",t.agreed&&t.role.publisher),f.Gb(1),f.tc("ngIf",t.agreed&&t.role.agent))},directives:[c.m,C.a,C.b,o.c,o.b,o.a,R.a,I.b,n.h],pipes:[c.e],styles:[".invoicehead[_ngcontent-%COMP%]{margin-bottom:2px}.invoicedetails[_ngcontent-%COMP%]{flex-direction:row-reverse}.downbuttons[_ngcontent-%COMP%], .invoicedetails[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px}.invoiceuser[_ngcontent-%COMP%]{display:flex;width:30%;flex-direction:column}h1[_ngcontent-%COMP%]{font-size:20px}.viewtable[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}@media print-section{[_ngcontent-%COMP%]:not(.print){display:none!important}}"],data:{animation:h.a}}),e})(),Ee=(()=>{class e{constructor(e,t){this.data=e,this.crudeService=t}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getItems()]).then(()=>{e()},t)})}getItems(){return new Promise((e,t)=>{this.data.items?(this.items=this.data.items,e(this.items)):this.crudeService.getItems().subscribe(t=>{this.items=t.data,this.data.items=t.data,e(this.items)},t)})}}return e.\u0275fac=function(t){return new(t||e)(f.fc(v.a),f.fc(x.a))},e.\u0275prov=f.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),De=(()=>{class e{constructor(e,t,a){this.router=e,this.crudeService=t,this.data=a}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getRetailers(),this.getUserDetails()]).then(()=>{e()},t)})}getRetailers(){return new Promise((e,t)=>{this.data.retailers?(this.retailers=this.data.retailers,e(this.retailers)):this.crudeService.getRetailer().subscribe(t=>{this.retailers=t.data,this.data.retailers=t.data,e(this.retailers)},t)})}getUserDetails(){return new Promise((e,t)=>{this.data.userdetails?(this.userdetails=this.data.userdetails,e(this.userdetails)):this.crudeService.getUserDetails().subscribe(t=>{this.userdetails=t,this.data.userdetails=t,e(this.userdetails)},t)})}}return e.\u0275fac=function(t){return new(t||e)(f.fc(n.g),f.fc(x.a),f.fc(v.a))},e.\u0275prov=f.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ve=(()=>{class e{constructor(e,t,a){this.router=e,this.crudeService=t,this.data=a,this.selectedretailer=this.data.selectedretailer}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getPaymentMethods(),this.getRetailerDetails()]).then(()=>{e()},t)})}getPaymentMethods(){return new Promise((e,t)=>{this.data.paymentmethods?(this.paymentmethods=this.data.paymentmethods,e(this.paymentmethods)):this.crudeService.getPaymentMethod().subscribe(t=>{this.paymentmethods=t.data,this.data.paymentmethods=t.data,e(this.paymentmethods)},t)})}getRetailerDetails(){return new Promise((e,t)=>{this.crudeService.getRetailerDetails(this.selectedretailer).subscribe(t=>{this.retailerdetails=t,e(this.retailerdetails)},t)})}}return e.\u0275fac=function(t){return new(t||e)(f.fc(n.g),f.fc(x.a),f.fc(v.a))},e.\u0275prov=f.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function He(e,t){if(1&e&&(f.bc(0,"mat-option",13),f.Pc(1),f.ac()),2&e){const e=t.$implicit;f.tc("value",e.id),f.Gb(1),f.Rc(" ",e.name," ")}}let qe=(()=>{class e{constructor(e,t,a){this.data=e,this.dialogRef=t,this.fb=a}ngOnInit(){this.paymentmethods=this.data.paymentmethods,this.selectedretail=this.data.selectedretail,this.itemForm=this.fb.group({amount:["",i.s.required],payment_method_id:["",i.s.required],retail_id:this.selectedretail.id})}submit(){this.dialogRef.close(this.itemForm.value)}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(G.a),f.Vb(G.f),f.Vb(i.d))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-make-retail-payment-popup"]],decls:23,vars:4,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","amount","placeholder","Amount",3,"formControl"],["formControlName","payment_method_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(e,t){1&e&&(f.bc(0,"h1",0),f.Pc(1,"Add A New Item"),f.ac(),f.bc(2,"form",1),f.jc("ngSubmit",(function(e){return t.submit()})),f.bc(3,"div",2),f.bc(4,"div",3),f.bc(5,"mat-form-field",4),f.Wb(6,"input",5),f.ac(),f.ac(),f.bc(7,"div",3),f.bc(8,"mat-form-field",4),f.bc(9,"mat-label"),f.Pc(10,"Payment Was Made Through"),f.ac(),f.bc(11,"mat-select",6),f.Nc(12,He,2,2,"mat-option",7),f.ac(),f.bc(13,"mat-icon",8),f.Pc(14,"outlined_flag"),f.ac(),f.bc(15,"mat-error"),f.Pc(16,"payment type is required!"),f.ac(),f.ac(),f.ac(),f.bc(17,"div",9),f.bc(18,"button",10),f.Pc(19,"Save"),f.ac(),f.Wb(20,"span",11),f.bc(21,"button",12),f.jc("click",(function(e){return t.dialogRef.close(!1)})),f.Pc(22,"Cancel"),f.ac(),f.ac(),f.ac(),f.ac()),2&e&&(f.Gb(2),f.tc("formGroup",t.itemForm),f.Gb(4),f.tc("formControl",t.itemForm.controls.amount),f.Gb(6),f.tc("ngForOf",t.paymentmethods),f.Gb(6),f.tc("disabled",t.itemForm.invalid))},directives:[G.g,i.t,i.n,i.h,R.c,R.a,S.b,N.b,i.b,i.m,i.f,S.e,E.a,i.g,i.r,c.l,A.a,S.f,S.a,I.b,D.p],styles:[""]}),e})();function je(e,t){if(1&e&&(f.bc(0,"div",20),f.bc(1,"mat-card",21),f.Wb(2,"img",31),f.Wb(3,"span",23),f.bc(4,"div"),f.bc(5,"p",24),f.Pc(6,"Last Payment"),f.ac(),f.bc(7,"span",32),f.Pc(8),f.Wb(9,"span",26),f.ac(),f.ac(),f.ac(),f.ac()),2&e){const e=f.nc();f.Gb(8),f.Rc("GHC ",e.lastpayment.amount," ")}}function Ue(e,t){if(1&e&&(f.bc(0,"div",20),f.bc(1,"mat-card",21),f.Wb(2,"img",33),f.Wb(3,"span",23),f.bc(4,"div"),f.bc(5,"p",24),f.Pc(6,"Last Invoice"),f.ac(),f.bc(7,"span",25),f.Pc(8),f.Wb(9,"span",26),f.ac(),f.ac(),f.ac(),f.ac()),2&e){const e=f.nc();f.Gb(8),f.Rc("GHC ",e.lastinvoice.after_discount," ")}}function ze(e,t){if(1&e&&(f.bc(0,"div",45),f.Wb(1,"img",46),f.Pc(2),f.ac()),2&e){const e=t.row;f.Gb(1),f.tc("src",e.icon,f.Ic),f.Gb(1),f.Rc(" ",null==e?null:e.total_sale," ")}}function Be(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.discount," ")}}function Ke(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.after_discount," ")}}function Ye(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.amount_paid," ")}}function Qe(e,t){1&e&&(f.bc(0,"button",48),f.Pc(1,"unpaid"),f.ac())}function Je(e,t){1&e&&(f.bc(0,"button",48),f.Pc(1,"paid"),f.ac())}function Xe(e,t){if(1&e&&(f.Nc(0,Qe,2,0,"button",47),f.Nc(1,Je,2,0,"button",47)),2&e){const e=t.row;f.tc("ngIf","0"==(null==e?null:e.completed)),f.Gb(1),f.tc("ngIf","1"==(null==e?null:e.completed))}}function $e(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.mode," ")}}function Ze(e,t){if(1&e&&f.Pc(0),2&e){const e=t.row;f.Rc(" ",null==e?null:e.amount," ")}}function et(e,t){if(1&e&&(f.bc(0,"button",54),f.Pc(1),f.oc(2,"date"),f.ac()),2&e){const e=t.row;f.Gb(1),f.Qc(f.pc(2,1,null==e?null:e.made_on))}}function tt(e,t){if(1&e&&(f.bc(0,"div",49),f.bc(1,"mat-card",35),f.bc(2,"h6",50),f.Pc(3,"Payments"),f.ac(),f.bc(4,"ngx-datatable",37),f.bc(5,"ngx-datatable-column",51),f.Nc(6,$e,1,1,"ng-template",39),f.ac(),f.bc(7,"ngx-datatable-column",52),f.Nc(8,Ze,1,1,"ng-template",39),f.ac(),f.bc(9,"ngx-datatable-column",53),f.Nc(10,et,3,3,"ng-template",39),f.ac(),f.ac(),f.ac(),f.ac()),2&e){const e=f.nc(2);f.Gb(4),f.tc("rows",e.retailerdetails.payments)("columnMode","flex")("headerHeight",50)("footerHeight",0)("rowHeight","auto"),f.Gb(1),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1)}}const at=function(){return{delay:"800ms",scale:".9"}},ct=function(e){return{value:"*",params:e}};function nt(e,t){if(1&e&&(f.bc(0,"div",6),f.bc(1,"div",34),f.bc(2,"mat-card",35),f.bc(3,"h6",36),f.Pc(4,"Invoices"),f.ac(),f.bc(5,"ngx-datatable",37),f.bc(6,"ngx-datatable-column",38),f.Nc(7,ze,3,2,"ng-template",39),f.ac(),f.bc(8,"ngx-datatable-column",40),f.Nc(9,Be,1,1,"ng-template",39),f.ac(),f.bc(10,"ngx-datatable-column",41),f.Nc(11,Ke,1,1,"ng-template",39),f.ac(),f.bc(12,"ngx-datatable-column",42),f.Nc(13,Ye,1,1,"ng-template",39),f.ac(),f.bc(14,"ngx-datatable-column",43),f.Nc(15,Xe,2,2,"ng-template",39),f.ac(),f.ac(),f.ac(),f.ac(),f.Nc(16,tt,11,8,"div",44),f.ac()),2&e){const e=f.nc();f.tc("@animate",f.yc(13,ct,f.xc(12,at))),f.Gb(5),f.tc("rows",e.retailerdetails.invoices)("columnMode","flex")("headerHeight",50)("footerHeight",0)("rowHeight","auto"),f.Gb(1),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("flexGrow",1),f.Gb(2),f.tc("ngIf",e.retailerdetails.payments)}}const it=function(){return{delay:"600ms",scale:".9"}};let rt=(()=>{class e{constructor(e,t,a,c,n,i,r,o,s){this.agent=e,this.dialog=t,this.snack=a,this.crudService=c,this.data=n,this.confirmService=i,this.loader=r,this.toastr=o,this.retail=s}ngOnInit(){this.selectedretailer=this.retail.selectedretailer,this.paymentmethods=this.retail.paymentmethods,this.retailerdetails=this.retail.retailerdetails,this.pop=this.retail.retailerdetails,this.lastpayment=this.pop.payments,this.lastinvoice=this.pop.invoices,this.lastinvoice=this.lastinvoice[this.lastinvoice.length-1],this.lastpayment=this.lastpayment[this.lastpayment.length-1]}openMakePayment(e={},t){this.dialog.open(qe,{width:"720px",disableClose:!0,data:{paymentmethods:this.paymentmethods,selectedretail:this.selectedretailer}}).afterClosed().subscribe(a=>{a&&(this.loader.open(),t?this.crudService.addRetailPayments(a).subscribe(e=>{this.loader.close(),this.retailerdetails.payments=this.retailerdetails.payments.concat([e.payment]),this.data.userdetails=e.userdetails,this.snack.open("New Payment Made","OK",{duration:4e3})},e=>{this.loader.close(),this.toastr.error("sorry",e.error)}):this.crudService.updateItem(e._id,a).subscribe(e=>{this.payments=e,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(De),f.Vb(G.b),f.Vb(q.a),f.Vb(x.a),f.Vb(v.a),f.Vb(W.a),f.Vb(w.a),f.Vb(T.b),f.Vb(Ve))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-retail-summary"]],decls:84,vars:12,consts:[[1,"handle"],["routerLink","/invoice/agentnewsale","mat-raised-button","","color","primary",1,"mb-05"],[1,"second"],["mat-raised-button","","color","accent",1,"mb-05",3,"click"],[1,"third"],["routerLink","/invoice/retail","mat-raised-button","","color","warn",1,"mb-05"],["fxLayout","row wrap"],["fxFlex","100",1,"p-0","mb-1"],[1,"user-card","p-0"],[1,"mat-bg-primary"],[1,"card-title-text"],["href","",1,"toolbar-avatar","md","mr-1"],["alt","",3,"src"],["fxFlex",""],["mat-icon-button","",1,"",3,"matMenuTriggerFor"],[1,""],["userMenu","matMenu"],["mat-menu-item",""],[1,"user-details"],[1,"text-muted"],["fxFlex","100","fxFlex.gt-sm","20","fxFlex.sm","50"],["fxLayout","row wrap","fxLayoutAlign","start center",1,"rounded-circle"],["src","assets/images/cryptocurrencies/BTC.png","alt","",1,"avatar-md","rounded-circle"],[2,"width","20px"],[1,"m-0","text-14","text-muted","line-height-1"],[1,"text-18","font-weight-bold","text-red"],[1,"material-icons","mat-icon-18"],["fxFlex","100","fxFlex.gt-sm","20","fxFlex.sm","50",4,"ngIf"],["src","assets/images/cryptocurrencies/BTS.png","alt","",1,"avatar-md","rounded-circle"],["src","assets/images/cryptocurrencies/CNX.png","alt","",1,"avatar-md","rounded-circle"],["fxLayout","row wrap",4,"ngIf"],["src","assets/images/cryptocurrencies/ETH.png","alt","",1,"avatar-md","rounded-circle"],[1,"text-18","font-weight-bold","text-green"],["src","assets/images/cryptocurrencies/LTC.png","alt","",1,"avatar-md","rounded-circle"],["fxFlex","100","fxFlex.gt-sm","66.67"],[1,"p-0"],[1,"pl-1","pt-1","m-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","rowHeight"],["name","Total Sale",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","Discount",3,"flexGrow"],["name","Value",3,"flexGrow"],["name","Amount Paid",3,"flexGrow"],["name","Status",3,"flexGrow"],["fxFlex","100","fxFlex.gt-sm","33.33",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","start center"],["alt","",1,"avatar-xs","mr-05",3,"src"],["mat-stroked-button","","color","primary",4,"ngIf"],["mat-stroked-button","","color","primary"],["fxFlex","100","fxFlex.gt-sm","33.33"],[1,"ml-1","mt-1"],["name","Made At",3,"flexGrow"],["name","amount",3,"flexGrow"],["name","Date",3,"flexGrow"],["mat-stroked-button","","color","warn"]],template:function(e,t){if(1&e&&(f.bc(0,"div",0),f.bc(1,"button",1),f.Pc(2," New Sale "),f.bc(3,"mat-icon"),f.Pc(4,"shop"),f.ac(),f.ac(),f.ac(),f.bc(5,"div",2),f.bc(6,"button",3),f.jc("click",(function(e){return t.openMakePayment({},!0)})),f.Pc(7," New Payment "),f.bc(8,"mat-icon"),f.Pc(9,"attach_money"),f.ac(),f.ac(),f.ac(),f.bc(10,"div",4),f.bc(11,"button",5),f.Pc(12," back to Retailers "),f.bc(13,"mat-icon"),f.Pc(14,"arrow_back"),f.ac(),f.ac(),f.ac(),f.bc(15,"div",6),f.bc(16,"div",7),f.bc(17,"mat-card",8),f.bc(18,"mat-card-title",9),f.bc(19,"div",10),f.bc(20,"a",11),f.Wb(21,"img",12),f.ac(),f.bc(22,"span"),f.Pc(23),f.ac(),f.Wb(24,"span",13),f.bc(25,"button",14),f.bc(26,"mat-icon",15),f.Pc(27,"more_vert"),f.ac(),f.ac(),f.bc(28,"mat-menu",null,16),f.bc(30,"button",17),f.Pc(31,"Follow"),f.ac(),f.bc(32,"button",17),f.Pc(33,"Message"),f.ac(),f.bc(34,"button",17),f.Pc(35,"Block"),f.ac(),f.bc(36,"button",17),f.Pc(37,"Delete"),f.ac(),f.ac(),f.ac(),f.Wb(38,"mat-divider"),f.ac(),f.bc(39,"mat-card-content"),f.bc(40,"div",18),f.bc(41,"p"),f.bc(42,"mat-icon",19),f.Pc(43,"date_range"),f.ac(),f.Pc(44),f.ac(),f.bc(45,"p"),f.bc(46,"mat-icon",19),f.Pc(47,"location_on"),f.ac(),f.Pc(48),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(49,"div",6),f.bc(50,"div",20),f.bc(51,"mat-card",21),f.Wb(52,"img",22),f.Wb(53,"span",23),f.bc(54,"div"),f.bc(55,"p",24),f.Pc(56,"Current Balance"),f.ac(),f.bc(57,"span",25),f.Pc(58),f.bc(59,"span",26),f.Pc(60,"arrow_drop_down"),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.Nc(61,je,10,1,"div",27),f.Nc(62,Ue,10,1,"div",27),f.bc(63,"div",20),f.bc(64,"mat-card",21),f.Wb(65,"img",28),f.Wb(66,"span",23),f.bc(67,"div"),f.bc(68,"p",24),f.Pc(69,"Unpaid Invoice"),f.ac(),f.bc(70,"span",25),f.Pc(71,"$10 "),f.Wb(72,"span",26),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(73,"div",20),f.bc(74,"mat-card",21),f.Wb(75,"img",29),f.Wb(76,"span",23),f.bc(77,"div"),f.bc(78,"p",24),f.Pc(79,"Unpaid Invoice"),f.ac(),f.bc(80,"span",25),f.Pc(81,"$80 "),f.Wb(82,"span",26),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.Nc(83,nt,17,15,"div",30)),2&e){const e=f.Dc(29);f.Gb(23),f.Qc(t.selectedretailer.name),f.Gb(2),f.tc("matMenuTriggerFor",e),f.Gb(19),f.Rc("Phone: ",t.selectedretailer.phone,""),f.Gb(4),f.Rc("Location: ",t.selectedretailer.location,""),f.Gb(1),f.tc("@animate",f.yc(10,ct,f.xc(9,it))),f.Gb(9),f.Rc("GHC ",t.retailerdetails.ledger.cbalance,""),f.Gb(3),f.tc("ngIf",t.lastpayment),f.Gb(1),f.tc("ngIf",t.lastinvoice),f.Gb(21),f.tc("ngIf",t.retailerdetails.invoices)}},directives:[I.b,n.h,A.a,R.c,R.a,C.a,C.e,j.c,j.d,j.a,U.a,C.b,R.b,c.m,o.c,o.b,o.a],pipes:[c.e],styles:[".handle[_ngcontent-%COMP%]{bottom:30px}.handle[_ngcontent-%COMP%], .second[_ngcontent-%COMP%]{position:fixed;right:30px;z-index:99}.second[_ngcontent-%COMP%]{bottom:80px}.third[_ngcontent-%COMP%]{position:fixed;bottom:120px;right:30px;z-index:99}"],data:{animation:h.a}}),e})();var ot=a("yz3j");let st=(()=>{class e{constructor(){}getDataConf(){return[{prop:"id"},{prop:"name",name:"Name"}]}getAll(){return[{id:0,age:40,name:"Mclean Brady",gender:"male",company:"JAMNATION",email:"mcleanbrady@jamnation.com",phone:"+1 (875) 472-2061",registered:"2014-10-20T04:54:00 -06:00"},{id:1,age:39,name:"Dillon Ruiz",gender:"male",company:"ACRODANCE",email:"dillonruiz@acrodance.com",phone:"+1 (858) 562-2261",registered:"2016-08-07T12:15:31 -06:00"},{id:2,age:39,name:"Robyn Knox",gender:"female",company:"GLUID",email:"robynknox@gluid.com",phone:"+1 (826) 491-3098",registered:"2017-02-12T02:43:39 -06:00"},{id:3,age:32,name:"Santana Wagner",gender:"male",company:"INTRADISK",email:"santanawagner@intradisk.com",phone:"+1 (841) 550-2276",registered:"2016-03-28T11:22:15 -06:00"},{id:4,age:34,name:"Jennie Branch",gender:"female",company:"VERAQ",email:"jenniebranch@veraq.com",phone:"+1 (895) 483-3982",registered:"2015-03-16T01:30:06 -06:00"},{id:5,age:39,name:"Farrell Preston",gender:"male",company:"HONOTRON",email:"farrellpreston@honotron.com",phone:"+1 (993) 534-2843",registered:"2015-08-14T09:07:47 -06:00"},{id:6,age:38,name:"Garner Reyes",gender:"male",company:"VIOCULAR",email:"garnerreyes@viocular.com",phone:"+1 (973) 495-3873",registered:"2016-03-23T03:47:23 -06:00"},{id:7,age:32,name:"Ella Boone",gender:"female",company:"ARCHITAX",email:"ellaboone@architax.com",phone:"+1 (945) 491-2580",registered:"2015-07-01T09:35:10 -06:00"},{id:8,age:30,name:"Kathryn Owens",gender:"female",company:"CYCLONICA",email:"kathrynowens@cyclonica.com",phone:"+1 (978) 598-2767",registered:"2014-03-11T11:38:12 -06:00"},{id:9,age:22,name:"Byers Santana",gender:"male",company:"KAGGLE",email:"byerssantana@kaggle.com",phone:"+1 (984) 546-3400",registered:"2015-08-17T02:48:09 -06:00"},{id:10,age:30,name:"Nina Middleton",gender:"female",company:"ZINCA",email:"ninamiddleton@zinca.com",phone:"+1 (829) 553-2060",registered:"2014-12-20T09:53:27 -06:00"},{id:11,age:38,name:"Nixon Morrow",gender:"male",company:"CUBIX",email:"nixonmorrow@cubix.com",phone:"+1 (825) 501-3712",registered:"2014-09-10T10:23:34 -06:00"},{id:12,age:28,name:"Bonita Pate",gender:"female",company:"MAGNEATO",email:"bonitapate@magneato.com",phone:"+1 (808) 497-3968",registered:"2016-01-20T02:45:43 -06:00"},{id:13,age:30,name:"Amy Hyde",gender:"female",company:"UNDERTAP",email:"amyhyde@undertap.com",phone:"+1 (867) 555-2669",registered:"2015-04-12T08:39:31 -06:00"},{id:14,age:20,name:"Cortez Camacho",gender:"male",company:"IDEGO",email:"cortezcamacho@idego.com",phone:"+1 (986) 546-3364",registered:"2014-08-21T11:00:20 -06:00"},{id:15,age:29,name:"Castaneda Armstrong",gender:"male",company:"INTERFIND",email:"castanedaarmstrong@interfind.com",phone:"+1 (975) 557-2651",registered:"2014-11-15T10:38:24 -06:00"},{id:16,age:37,name:"Liza West",gender:"female",company:"COWTOWN",email:"lizawest@cowtown.com",phone:"+1 (852) 415-2358",registered:"2017-05-06T09:46:03 -06:00"},{id:17,age:37,name:"Roth Baird",gender:"male",company:"RODEMCO",email:"rothbaird@rodemco.com",phone:"+1 (840) 417-3313",registered:"2015-04-18T10:58:50 -06:00"},{id:18,age:26,name:"Alexis Blackburn",gender:"female",company:"PREMIANT",email:"alexisblackburn@premiant.com",phone:"+1 (957) 576-2362",registered:"2014-08-08T12:59:38 -06:00"},{id:19,age:35,name:"Sadie Tillman",gender:"female",company:"DUOFLEX",email:"sadietillman@duoflex.com",phone:"+1 (843) 499-3330",registered:"2016-02-21T09:25:03 -06:00"},{id:20,age:27,name:"Sharron Conley",gender:"female",company:"QUARMONY",email:"sharronconley@quarmony.com",phone:"+1 (951) 459-2465",registered:"2014-10-19T06:04:36 -06:00"},{id:21,age:27,name:"Jordan Mccoy",gender:"male",company:"ACCUSAGE",email:"jordanmccoy@accusage.com",phone:"+1 (825) 568-3296",registered:"2017-01-27T01:53:02 -06:00"},{id:22,age:35,name:"Rene House",gender:"female",company:"INSURETY",email:"renehouse@insurety.com",phone:"+1 (838) 578-3190",registered:"2015-11-07T10:07:58 -06:00"},{id:23,age:38,name:"Bernice Berry",gender:"female",company:"ROCKYARD",email:"berniceberry@rockyard.com",phone:"+1 (885) 466-2145",registered:"2014-04-17T07:43:02 -06:00"},{id:24,age:30,name:"Bowen Beach",gender:"male",company:"TETRATREX",email:"bowenbeach@tetratrex.com",phone:"+1 (843) 493-3197",registered:"2015-07-27T03:38:33 -06:00"},{id:25,age:31,name:"Monica Leblanc",gender:"female",company:"TALENDULA",email:"monicaleblanc@talendula.com",phone:"+1 (911) 524-2349",registered:"2016-04-10T08:33:17 -06:00"},{id:26,age:36,name:"Lina Rivas",gender:"female",company:"BOINK",email:"linarivas@boink.com",phone:"+1 (983) 572-2470",registered:"2014-08-28T09:44:32 -06:00"},{id:27,age:25,name:"Joyce Yang",gender:"female",company:"SPORTAN",email:"joyceyang@sportan.com",phone:"+1 (807) 491-3917",registered:"2015-07-22T12:58:31 -06:00"},{id:28,age:20,name:"Lana Joseph",gender:"female",company:"BOLAX",email:"lanajoseph@bolax.com",phone:"+1 (942) 467-2363",registered:"2016-10-30T06:13:50 -06:00"},{id:29,age:20,name:"Jimenez Guerrero",gender:"male",company:"INSURON",email:"jimenezguerrero@insuron.com",phone:"+1 (991) 585-3706",registered:"2016-09-15T01:35:16 -06:00"},{id:30,age:35,name:"Williams Bentley",gender:"male",company:"ZEAM",email:"williamsbentley@zeam.com",phone:"+1 (837) 490-2610",registered:"2014-01-06T01:04:11 -06:00"},{id:31,age:27,name:"Doreen Garrett",gender:"female",company:"ENERSAVE",email:"doreengarrett@enersave.com",phone:"+1 (920) 522-2847",registered:"2017-01-25T03:24:47 -06:00"},{id:32,age:34,name:"Shaw Cannon",gender:"male",company:"EBIDCO",email:"shawcannon@ebidco.com",phone:"+1 (903) 530-2676",registered:"2014-04-11T04:49:08 -06:00"},{id:33,age:25,name:"Sonya Skinner",gender:"female",company:"EXOSWITCH",email:"sonyaskinner@exoswitch.com",phone:"+1 (923) 428-3014",registered:"2014-02-09T11:59:54 -06:00"},{id:34,age:27,name:"Todd Potter",gender:"male",company:"MUSIX",email:"toddpotter@musix.com",phone:"+1 (817) 491-2268",registered:"2015-04-06T11:10:47 -06:00"},{id:35,age:21,name:"Celina Rose",gender:"female",company:"TWIIST",email:"celinarose@twiist.com",phone:"+1 (863) 599-2063",registered:"2015-09-04T07:59:29 -06:00"},{id:36,age:40,name:"Ingrid Day",gender:"female",company:"ZBOO",email:"ingridday@zboo.com",phone:"+1 (921) 447-2312",registered:"2016-10-01T08:26:07 -06:00"},{id:37,age:24,name:"Lynch Stark",gender:"male",company:"PYRAMIA",email:"lynchstark@pyramia.com",phone:"+1 (995) 431-2354",registered:"2014-01-26T11:38:48 -06:00"},{id:38,age:29,name:"Helga Mendez",gender:"female",company:"COMVEYER",email:"helgamendez@comveyer.com",phone:"+1 (897) 418-3815",registered:"2015-10-03T08:58:45 -06:00"},{id:39,age:30,name:"Corinne Calhoun",gender:"female",company:"ADORNICA",email:"corinnecalhoun@adornica.com",phone:"+1 (841) 564-3617",registered:"2016-05-24T10:42:36 -06:00"},{id:40,age:40,name:"Winifred Conrad",gender:"female",company:"SATIANCE",email:"winifredconrad@satiance.com",phone:"+1 (885) 533-2416",registered:"2017-03-01T06:12:08 -06:00"},{id:41,age:27,name:"Lawanda Stevenson",gender:"female",company:"ZILLACTIC",email:"lawandastevenson@zillactic.com",phone:"+1 (823) 535-3187",registered:"2014-07-07T05:26:22 -06:00"},{id:42,age:30,name:"Kirsten Long",gender:"female",company:"IMAGEFLOW",email:"kirstenlong@imageflow.com",phone:"+1 (809) 592-2264",registered:"2014-05-08T07:41:56 -06:00"},{id:43,age:39,name:"Summer Farley",gender:"female",company:"ENTOGROK",email:"summerfarley@entogrok.com",phone:"+1 (814) 490-3578",registered:"2016-10-28T10:02:34 -06:00"},{id:44,age:31,name:"Mendoza Randall",gender:"male",company:"COREPAN",email:"mendozarandall@corepan.com",phone:"+1 (846) 501-2860",registered:"2015-12-14T12:58:18 -06:00"},{id:45,age:27,name:"Marcy Doyle",gender:"female",company:"VORATAK",email:"marcydoyle@voratak.com",phone:"+1 (848) 411-2728",registered:"2014-02-12T10:46:27 -06:00"},{id:46,age:30,name:"Burch Walker",gender:"male",company:"COMVEYOR",email:"burchwalker@comveyor.com",phone:"+1 (968) 445-2104",registered:"2014-01-07T05:16:30 -06:00"},{id:47,age:31,name:"Solis Lester",gender:"male",company:"MACRONAUT",email:"solislester@macronaut.com",phone:"+1 (857) 422-3242",registered:"2016-10-20T09:40:51 -06:00"},{id:48,age:20,name:"Lorene Mooney",gender:"female",company:"ORGANICA",email:"lorenemooney@organica.com",phone:"+1 (853) 406-2716",registered:"2015-09-17T03:54:41 -06:00"},{id:49,age:34,name:"Rhodes Vega",gender:"male",company:"CHILLIUM",email:"rhodesvega@chillium.com",phone:"+1 (863) 577-3562",registered:"2016-06-15T05:36:10 -06:00"},{id:50,age:28,name:"Pruitt Merrill",gender:"male",company:"KYAGURU",email:"pruittmerrill@kyaguru.com",phone:"+1 (910) 585-3659",registered:"2017-04-02T09:36:00 -06:00"},{id:51,age:33,name:"Bernadine Hart",gender:"female",company:"BITTOR",email:"bernadinehart@bittor.com",phone:"+1 (906) 446-3518",registered:"2015-11-10T07:45:59 -06:00"},{id:52,age:22,name:"Carver Mckenzie",gender:"male",company:"LOCAZONE",email:"carvermckenzie@locazone.com",phone:"+1 (803) 407-3142",registered:"2015-06-24T07:16:02 -06:00"},{id:53,age:27,name:"Dean Cobb",gender:"male",company:"ASSISTIA",email:"deancobb@assistia.com",phone:"+1 (877) 539-3346",registered:"2016-12-02T01:14:47 -06:00"},{id:54,age:32,name:"Camacho Robinson",gender:"male",company:"INSURITY",email:"camachorobinson@insurity.com",phone:"+1 (929) 430-3079",registered:"2016-12-14T08:59:33 -06:00"},{id:55,age:36,name:"Nancy Rodgers",gender:"female",company:"COSMOSIS",email:"nancyrodgers@cosmosis.com",phone:"+1 (873) 489-2643",registered:"2014-08-21T02:19:28 -06:00"},{id:56,age:27,name:"June Henry",gender:"female",company:"PETIGEMS",email:"junehenry@petigems.com",phone:"+1 (808) 536-2445",registered:"2014-03-28T08:36:27 -06:00"},{id:57,age:26,name:"Rochelle Simmons",gender:"female",company:"DANJA",email:"rochellesimmons@danja.com",phone:"+1 (936) 563-3886",registered:"2015-12-07T08:01:18 -06:00"},{id:58,age:32,name:"Alice Thornton",gender:"female",company:"ISOSURE",email:"alicethornton@isosure.com",phone:"+1 (962) 560-2318",registered:"2015-06-07T08:09:50 -06:00"},{id:59,age:39,name:"Clara Downs",gender:"female",company:"ZANILLA",email:"claradowns@zanilla.com",phone:"+1 (977) 595-2657",registered:"2015-06-14T02:33:33 -06:00"}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=f.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var lt=a("qsxP");function mt(e,t){if(1&e){const e=f.cc();f.bc(0,"div"),f.bc(1,"a"),f.bc(2,"ngx-datatable",26),f.jc("activate",(function(t){return f.Gc(e),f.nc().onActivate(t)})),f.ac(),f.ac(),f.ac()}if(2&e){const e=f.nc();f.Gb(2),f.tc("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight",50)("limit",8)("rows",e.rows)("columns",e.columns)}}const dt=function(){return{scale:".9",delay:"200ms"}},bt=function(e){return{value:"*",params:e}},ut=function(){return{delay:"400ms",scale:".9"}};let gt=(()=>{class e{constructor(e,t,a,c,n,i,r,o,s,l,m,d,b){this.dialog=e,this.snack=t,this.crudService=a,this.confirmService=c,this.loader=n,this.state=i,this.token=r,this.toastr=o,this.service=s,this.agent=l,this.data=m,this.router=d,this.retail=b,this.rows=[],this.columns=[],this.temp=[],this.role=this.state.role,this.state.user.subscribe(e=>{this.user=e}),this.userdetails=this.data.userdetails}ngOnInit(){this.getPartners(),this.columns=this.service.getDataConf(),this.rows=this.temp=this.retailers}ngOnDestroy(){}onActivate(e){"click"==e.type&&(this.agent.selectedretailer=this.retail.selectedretailer=this.data.selectedretailer=e.row,this.router.navigate(["/invoice/retailsummary"]))}getPartners(){this.retailers=this.data.retailers}updateFilter(e){const t=e.target.value.toLowerCase();var a=Object.keys(this.temp[0]);if(a.splice(a.length-1),!a.length)return;const c=this.temp.filter((function(e){for(let c=0;c<=a.length;c++){let n=a[c];if(e[n]&&e[n].toString().toLowerCase().indexOf(t)>-1)return!0}}));this.rows=c}addRetailer(e={},t){this.dialog.open(lt.a,{width:"720px",disableClose:!0}).afterClosed().subscribe(a=>{a&&(this.loader.open(),t?this.crudService.addRetailer(a).subscribe(e=>{this.retailers=this.retailers.concat([e]),this.rows=this.temp=this.data.retailers=this.retailers,this.loader.close(),this.snack.open("New Retailer Added!","OK",{duration:4e3})},e=>{this.loader.close(),this.toastr.error(e.error,"error occured"),this.snack.open("An error occured, Retailer not created","OK",{duration:4e3})}):this.crudService.updateItem(e._id,a).subscribe(e=>{this.retailers=e,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(G.b),f.Vb(q.a),f.Vb(x.a),f.Vb(W.a),f.Vb(w.a),f.Vb(g.a),f.Vb(ot.a),f.Vb(T.b),f.Vb(st),f.Vb(De),f.Vb(v.a),f.Vb(n.g),f.Vb(Ve))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-agent-sale-overview"]],decls:98,vars:18,consts:[[1,"handle"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[1,"p-0"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-sm","20","fxFlex.sm","50"],[1,"text-center","pt-1","pb-1","border-right-light"],[1,"text-blue"],[1,"m-0"],[1,"m-0","text-muted"],[1,"text-orange"],[1,"text-center","pt-1","pb-1"],["fxFlex","100","fxFlex.gt-sm","66.67","fxFlex.sm","50"],[1,"margin-333",2,"width","100%"],["matInput","","placeholder","Search for an Retailer","value","",3,"keyup"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-sm","33.3","fxFlex.sm","50"],[1,"m-333"],["multi","false"],["expanded","true"],[1,"border-bottom","pb-1","mb-1"],["fxLyout","row wrap",1,"text-blue","font-weight-bold"],["fxFlex",""],["fxLyout","row wrap",1,"text-muted"],[1,"text-green"],[1,"text-red"],[1,""],[1,"material","bg-white",3,"columnMode","headerHeight","footerHeight","rowHeight","limit","rows","columns","activate"]],template:function(e,t){1&e&&(f.bc(0,"div",0),f.bc(1,"button",1),f.jc("click",(function(e){return t.addRetailer({},!0)})),f.Pc(2," Add A new Retailer "),f.bc(3,"mat-icon"),f.Pc(4," group_add"),f.ac(),f.ac(),f.ac(),f.bc(5,"mat-card",2),f.bc(6,"div",3),f.bc(7,"div",4),f.bc(8,"div",5),f.bc(9,"mat-icon",6),f.Pc(10,"account_balance_wallet"),f.ac(),f.bc(11,"h4",7),f.Pc(12),f.ac(),f.bc(13,"small",8),f.Pc(14,"Total Debt to Publishers"),f.ac(),f.ac(),f.ac(),f.bc(15,"div",4),f.bc(16,"div",5),f.bc(17,"mat-icon",9),f.Pc(18,"attach_money"),f.ac(),f.bc(19,"h4",7),f.Pc(20),f.ac(),f.bc(21,"small",8),f.Pc(22,"Total Sold"),f.ac(),f.ac(),f.ac(),f.bc(23,"div",4),f.bc(24,"div",5),f.bc(25,"mat-icon",6),f.Pc(26,"business_center"),f.ac(),f.bc(27,"h4",7),f.Pc(28),f.ac(),f.bc(29,"small",8),f.Pc(30,"Total Debt of Retailers"),f.ac(),f.ac(),f.ac(),f.bc(31,"div",4),f.bc(32,"div",5),f.bc(33,"mat-icon",6),f.Pc(34,"add"),f.ac(),f.bc(35,"h4",7),f.Pc(36),f.ac(),f.bc(37,"small",8),f.Pc(38,"Total Retail Payments"),f.ac(),f.ac(),f.ac(),f.bc(39,"div",4),f.bc(40,"div",10),f.bc(41,"mat-icon",9),f.Pc(42,"compare_arrows"),f.ac(),f.bc(43,"h4",7),f.Pc(44),f.ac(),f.bc(45,"small",8),f.Pc(46,"Total To Be Paid To Publishers"),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.bc(47,"div",3),f.bc(48,"div",11),f.bc(49,"mat-form-field",12),f.bc(50,"input",13),f.jc("keyup",(function(e){return t.updateFilter(e)})),f.ac(),f.ac(),f.Nc(51,mt,3,7,"div",14),f.ac(),f.bc(52,"div",15),f.bc(53,"div",16),f.bc(54,"mat-accordion",17),f.bc(55,"mat-expansion-panel",18),f.bc(56,"mat-expansion-panel-header"),f.bc(57,"mat-panel-title"),f.Pc(58," Year: 2020/2021 "),f.ac(),f.ac(),f.bc(59,"div",19),f.bc(60,"div",20),f.bc(61,"span"),f.Pc(62,"Total Sale"),f.ac(),f.Wb(63,"span",21),f.bc(64,"span"),f.Pc(65,"8897.45"),f.ac(),f.ac(),f.bc(66,"div",22),f.bc(67,"small"),f.Pc(68,"As At"),f.ac(),f.Wb(69,"span",21),f.bc(70,"small",23),f.Pc(71,"530(+3.73%)"),f.ac(),f.ac(),f.ac(),f.bc(72,"div",19),f.bc(73,"div",20),f.bc(74,"span"),f.Pc(75,"Total Received"),f.ac(),f.Wb(76,"span",21),f.bc(77,"span"),f.Pc(78,"3829.23"),f.ac(),f.ac(),f.bc(79,"div",22),f.bc(80,"small"),f.Pc(81,"As At"),f.ac(),f.Wb(82,"span",21),f.bc(83,"small",24),f.Pc(84,"430(-1.43%)"),f.ac(),f.ac(),f.ac(),f.bc(85,"div",25),f.bc(86,"div",20),f.bc(87,"span"),f.Pc(88,"Total Indebt"),f.ac(),f.Wb(89,"span",21),f.bc(90,"span"),f.Pc(91,"5836.79"),f.ac(),f.ac(),f.bc(92,"div",22),f.bc(93,"small"),f.Pc(94,"As At"),f.ac(),f.Wb(95,"span",21),f.bc(96,"small",23),f.Pc(97,"210(+2.23%)"),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()),2&e&&(f.Gb(5),f.tc("@animate",f.yc(10,bt,f.xc(9,dt))),f.Gb(7),f.Qc(t.userdetails.total_debt),f.Gb(8),f.Qc(t.userdetails.total_sold),f.Gb(8),f.Qc(t.userdetails.total_retail_debt),f.Gb(8),f.Qc(t.userdetails.total_retail_payment),f.Gb(8),f.Qc(t.userdetails.total_to_be_paid_to_publisher),f.Gb(4),f.tc("@animate",f.yc(13,bt,f.xc(12,ut))),f.Gb(3),f.tc("ngIf",t.retailers),f.Gb(1),f.tc("@animate",f.yc(16,bt,f.xc(15,ut))))},directives:[I.b,A.a,C.a,R.c,R.a,S.b,N.b,c.m,k.a,k.c,k.d,k.e,o.c],styles:[".handle[_ngcontent-%COMP%]{bottom:30px}.handle[_ngcontent-%COMP%], .second[_ngcontent-%COMP%]{position:fixed;right:30px;z-index:99}.second[_ngcontent-%COMP%]{bottom:80px}.third[_ngcontent-%COMP%]{position:fixed;bottom:120px;right:30px;z-index:99}"],data:{animation:h.a}}),e})();function ht(e,t){if(1&e&&(f.bc(0,"mat-option",24),f.Pc(1),f.ac()),2&e){const e=t.$implicit;f.tc("value",e),f.Gb(1),f.Rc(" ",e," ")}}function pt(e,t){1&e&&(f.bc(0,"mat-error"),f.Pc(1,"How many items should be on the Invoice"),f.ac())}function ft(e,t){if(1&e&&(f.bc(0,"div"),f.Nc(1,pt,2,0,"mat-error",11),f.ac()),2&e){const e=f.nc();f.Gb(1),f.tc("ngIf",e.f.numberOfTickets.errors.required)}}function yt(e,t){if(1&e&&(f.bc(0,"mat-option",36),f.Pc(1),f.ac()),2&e){const e=t.$implicit;f.tc("disabled",0==e.status)("value",e),f.Gb(1),f.Uc(" ",e.name," - ",e.class," - GHC ",e.price," - Edition ",e.edition," ")}}function vt(e,t){1&e&&(f.bc(0,"mat-error"),f.Pc(1,"You must select an Item"),f.ac())}function xt(e,t){if(1&e&&(f.bc(0,"div"),f.Nc(1,vt,2,0,"mat-error",11),f.ac()),2&e){const e=f.nc().$implicit;f.Gb(1),f.tc("ngIf",e.controls.item.errors.required)}}function Pt(e,t){1&e&&(f.bc(0,"small",38),f.Pc(1,"Quantity must have a value"),f.ac())}function wt(e,t){if(1&e&&(f.bc(0,"div"),f.Nc(1,Pt,2,0,"small",37),f.ac()),2&e){const e=f.nc().$implicit;f.Gb(1),f.tc("ngIf",e.controls.quantity.errors.required)}}function Gt(e,t){if(1&e){const e=f.cc();f.bc(0,"div"),f.bc(1,"h5",25),f.Pc(2),f.ac(),f.bc(3,"form",26),f.bc(4,"div",5),f.bc(5,"div",27),f.bc(6,"div",28),f.bc(7,"mat-label"),f.Pc(8,"Select and Item:"),f.ac(),f.bc(9,"mat-select",29),f.Nc(10,yt,2,6,"mat-option",30),f.ac(),f.Nc(11,xt,2,1,"div",11),f.ac(),f.ac(),f.bc(12,"div",31),f.bc(13,"div",28),f.bc(14,"mat-form-field",32),f.Wb(15,"input",33),f.ac(),f.Nc(16,wt,2,1,"div",11),f.ac(),f.ac(),f.Wb(17,"span",17),f.bc(18,"div",34),f.bc(19,"button",35),f.jc("click",(function(a){f.Gc(e);const c=t.index;return f.nc().removeitem(c)})),f.Pc(20,"Remove"),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()}if(2&e){const e=t.$implicit,a=t.index,c=f.nc();f.Gb(2),f.Rc("Item ",a+1,""),f.Gb(1),f.tc("formGroup",e),f.Gb(7),f.tc("ngForOf",c.pitems),f.Gb(1),f.tc("ngIf",c.submitted&&e.controls.item.errors),f.Gb(5),f.tc("ngIf",c.submitted&&e.controls.quantity.errors)}}function Tt(e,t){1&e&&(f.bc(0,"button",39),f.Pc(1,"Discard Sale Return to Agents"),f.ac())}function It(e,t){1&e&&(f.bc(0,"button",40),f.Pc(1,"Discard Sale Return to Retailers"),f.ac())}function At(e,t){if(1&e){const e=f.cc();f.bc(0,"button",41),f.jc("click",(function(t){return f.Gc(e),f.nc().calculateSale()})),f.Pc(1,"Make Sale"),f.ac()}}function Ct(e,t){if(1&e&&(f.bc(0,"div",42),f.bc(1,"div",43),f.Pc(2,"Total: "),f.bc(3,"b"),f.Pc(4),f.ac(),f.ac(),f.Wb(5,"span",44),f.bc(6,"div",43),f.Pc(7,"Sale After Discount: "),f.bc(8,"b"),f.Pc(9),f.ac(),f.ac(),f.Wb(10,"span",45),f.ac()),2&e){const e=f.nc();f.Gb(4),f.Rc("GHC ",e.totalsale,""),f.Gb(5),f.Rc("GHC ",e.afterdiscount,"")}}let Rt=(()=>{class e{constructor(e,t,a,c,n,i,r){this.agent=e,this.crudService=t,this.fb=a,this.loader=c,this.toastr=n,this.data=i,this.router=r,this.submitted=!1}ngOnInit(){this.selectedretailer=this.agent.selectedretailer,this.role=this.data.role,this.dynamicForm=this.fb.group({numberOfTickets:["",i.s.required],retailer:this.selectedretailer,discount:["",i.s.required],tickets:new i.c([])}),this.pitems=this.items=this.data.stocks,this.length=Array(this.items.length).fill(1).map((e,t)=>t+1)}get f(){return this.dynamicForm.controls}get t(){return this.f.tickets}onChangeTickets(e){const t=e.value||0;if(this.t.length<t)for(let a=this.t.length;a<t;a++)this.t.push(this.fb.group({item:["",i.s.required],quantity:["",[i.s.required]]}));else for(let a=this.t.length;a>=t;a--)this.t.removeAt(a)}highlight(e){console.log(e)}itemchange(e){e.value.status=0,this.pitems=this.pitems.filter((function(t){return t.id!==e.value.id})),this.pitems=this.pitems.concat([e.value])}removeitem(e){this.t.removeAt(e)}onSubmit(){if(this.submitted=!0,this.dynamicForm.invalid)return;const e=this.dynamicForm.value.tickets,t=this.dynamicForm.value.discount;this.totalsale=0;for(var a=0,c=e.length;a<c;a++)this.totalsale=this.totalsale+e[a].item.price*e[a].quantity;for(this.afterdiscount=this.totalsale*(1-t/100),a=1,c=this.dynamicForm.value.tickets.length;a<c;a++);}onReset(){this.submitted=!1,this.dynamicForm.reset(),this.t.clear()}onClear(){this.submitted=!1,this.t.reset()}calculateSale(){this.loader.open(),this.crudService.agentCalculateSale(this.dynamicForm.value).subscribe(e=>{this.loader.close(),this.data.newsaledata=this.dynamicForm.value,this.router.navigate(["/invoice/preinvoice"]),this.toastr.success("succes",e)},e=>{this.loader.close(),this.toastr.error("error",e.error)})}}return e.\u0275fac=function(t){return new(t||e)(f.Vb(Ve),f.Vb(x.a),f.Vb(i.d),f.Vb(w.a),f.Vb(T.b),f.Vb(v.a),f.Vb(n.g))},e.\u0275cmp=f.Pb({type:e,selectors:[["app-agent-new-sale"]],decls:34,vars:8,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup","ngSubmit"],[1,"card","m-3"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","30",1,"pr-1"],[1,"pt-1","pb-1"],["formControlName","numberOfTickets","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","30"],["matInput","","placeholder","Discount","formControlName","discount","required",""],[4,"ngFor","ngForOf"],[1,"card-footer","text-center"],["mat-raised-button","","color","primary",1,"mb-05"],["fxFlex","8px"],["mat-raised-button","","color","warn","type","reset",1,"mb-05",3,"click"],["mat-raised-button","","class","mb-05","color","accent","routerLink","/invoice/home",4,"ngIf"],["mat-raised-button","","class","mb-05","color","accent","routerLink","/invoice/retail",4,"ngIf"],["mat-raised-button","","class","mb-05","color","accent",3,"click",4,"ngIf"],["fxFlex","200px"],["class","profile-title text-center mb-1",4,"ngIf"],[3,"value"],["colour","accent",1,"card-title"],[3,"formGroup"],["fxFlex","100","fxFlex.gt-xs","40",1,"pr-1"],[1,"pb-1"],["formControlName","item","required",""],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-xs","40"],[1,"full-width"],["matInput","","name","quantity","formControlName","quantity","placeholder","Quantity (Min Length: 4, Max Length: 9)","value",""],["fxFlex","100","fxFlex.gt-xs","10"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[3,"disabled","value"],["class","form-error-msg",4,"ngIf"],[1,"form-error-msg"],["mat-raised-button","","color","accent","routerLink","/invoice/home",1,"mb-05"],["mat-raised-button","","color","accent","routerLink","/invoice/retail",1,"mb-05"],["mat-raised-button","","color","accent",1,"mb-05",3,"click"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],["fxFlex","100px"],["fxFlex","20px"]],template:function(e,t){1&e&&(f.bc(0,"mat-card",0),f.bc(1,"mat-card-title",1),f.bc(2,"div",2),f.Pc(3,"Selling Form"),f.ac(),f.Wb(4,"mat-divider"),f.ac(),f.bc(5,"mat-card-content"),f.bc(6,"form",3),f.jc("ngSubmit",(function(e){return t.onSubmit()})),f.bc(7,"div",4),f.bc(8,"div",5),f.bc(9,"div",6),f.bc(10,"mat-form-field",7),f.bc(11,"mat-label"),f.Pc(12,"Number of Items:"),f.ac(),f.bc(13,"mat-select",8),f.jc("selectionChange",(function(e){return t.onChangeTickets(e)})),f.Nc(14,ht,2,2,"mat-option",9),f.ac(),f.bc(15,"mat-icon",10),f.Pc(16,"outlined_flag"),f.ac(),f.Nc(17,ft,2,1,"div",11),f.ac(),f.ac(),f.bc(18,"div",12),f.bc(19,"mat-form-field",7),f.Wb(20,"input",13),f.ac(),f.ac(),f.ac(),f.Nc(21,Gt,21,5,"div",14),f.bc(22,"div",15),f.bc(23,"button",16),f.Pc(24,"Calculate Sale"),f.ac(),f.Wb(25,"span",17),f.bc(26,"button",18),f.jc("click",(function(e){return t.onReset()})),f.Pc(27,"Reset"),f.ac(),f.Wb(28,"span",17),f.Nc(29,Tt,2,0,"button",19),f.Nc(30,It,2,0,"button",20),f.Nc(31,At,2,0,"button",21),f.Wb(32,"span",22),f.Nc(33,Ct,11,2,"div",23),f.ac(),f.ac(),f.ac(),f.ac(),f.ac()),2&e&&(f.Gb(6),f.tc("formGroup",t.dynamicForm),f.Gb(8),f.tc("ngForOf",t.length),f.Gb(3),f.tc("ngIf",t.submitted&&t.f.numberOfTickets.errors),f.Gb(4),f.tc("ngForOf",t.t.controls),f.Gb(8),f.tc("ngIf",t.role.publisher),f.Gb(1),f.tc("ngIf",t.role.agent),f.Gb(1),f.tc("ngIf",t.afterdiscount),f.Gb(2),f.tc("ngIf",t.afterdiscount))},directives:[C.a,C.e,U.a,C.b,i.t,i.n,i.h,R.c,R.a,S.b,S.e,E.a,i.m,i.g,i.r,c.l,A.a,S.f,c.m,N.b,i.b,I.b,D.p,S.a,n.h],styles:[""]}),e})(),St=(()=>{class e{constructor(e,t){this.data=e,this.crudeService=t}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getStocks()]).then(()=>{e()},t)})}getStocks(){return new Promise((e,t)=>{this.data.stocks?(this.stocks=this.data.stocks,e(this.stocks)):this.crudeService.getStocks().subscribe(t=>{this.stocks=t.data,this.data.stocks=t.data,e(this.stocks)},t)})}}return e.\u0275fac=function(t){return new(t||e)(f.fc(v.a),f.fc(x.a))},e.\u0275prov=f.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Nt=[{path:"",children:[{path:"home",component:_,data:{title:"home",breadcrumb:"HOME"},resolve:{subject:(()=>{class e{constructor(e,t,a){this.router=e,this.crudeService=t,this.data=a}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getApprovedPartners(),this.getAgents(),this.getUserDetails()]).then(()=>{e()},t)})}getAgents(){return new Promise((e,t)=>{this.data.agents?(this.agents=this.data.agents,e(this.agents)):this.crudeService.getAgents().subscribe(t=>{this.agents=t.data,this.data.agents=t,e(this.agents)},t)})}getApprovedPartners(){return new Promise((e,t)=>{this.data.approvedpartners?(this.approvedpartners=this.data.approvedpartners,e(this.approvedpartners)):this.crudeService.getApprovedPartners().subscribe(t=>{this.approvedpartners=t.data,this.data.approvedpartners=t.data,e(this.approvedpartners)},t)})}getUserDetails(){return new Promise((e,t)=>{this.data.userdetails?(this.userdetails=this.data.userdetails,e(this.userdetails)):this.crudeService.getUserDetails().subscribe(t=>{this.userdetails=t,this.data.userdetails=t,e(this.userdetails)},t)})}}return e.\u0275fac=function(t){return new(t||e)(f.fc(n.g),f.fc(x.a),f.fc(v.a))},e.\u0275prov=f.Rb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}},{path:"agentsummary",component:oe,data:{title:"agentsummary",breadcrumb:"AGENT SUMMARY"},resolve:{subject:P}},{path:"newsale",component:ve,data:{title:"newsale",breadcrumb:"NEW SALE"},resolve:{subject:Ee}},{path:"retailsummary",component:rt,data:{title:"retailsummary",breadcrumb:"RETAIL SUMMARY"},resolve:{subject:Ve}},{path:"retail",component:gt,data:{title:"retailhome",breadcrumb:"RETAIL HOME"},resolve:{subject:De}},{path:"agentnewsale",component:Rt,data:{title:"agentnewsale",breadcrumb:"AGENT NEW SALE"},resolve:{subject:St}}]},{path:"preinvoice",component:We,data:{title:"preinvoice",breadcrumb:"AGREEMENT INVOICE"}}];var kt=a("MutI");a.d(t,"InvoiceModule",(function(){return Ot}));let Ot=(()=>{class e{}return e.\u0275mod=f.Tb({type:e}),e.\u0275inj=f.Sb({factory:function(t){return new(t||e)},providers:[T.b,P],imports:[[c.c,i.i,r.a,o.d,s.a,l.a,m.a,u.a,N.c,C.d,I.c,kt.d,i.q,r.a,d.b,b.a,n.k.forChild(Nt)]]}),e})()}}]);