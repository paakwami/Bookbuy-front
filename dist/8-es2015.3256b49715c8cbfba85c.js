(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8r/t":function(t,e,c){"use strict";c.r(e);var a=c("ofXK"),i=c("tyNb"),s=c("3Pt+"),n=c("YUcS"),r=c("lDzL"),o=c("LPYB"),l=c("7pIB"),b=c("aYsj"),u=c("diwN"),d=c("fXoL"),m=c("XiUz"),h=c("Wp6s"),f=c("bTqV"),p=c("MutI"),g=c("NFeN");function v(t,e){1&t&&(d.bc(0,"div",17),d.Pc(1,"In charge of publishing house, Manages Publishing house inventories and sells to Agents that sells for publishing house"),d.ac())}function P(t,e){1&t&&(d.bc(0,"div",17),d.Pc(1,"Buys stock from publishing houses and sells to retailers."),d.ac())}let x=(()=>{class t{constructor(t,e){this.router=t,this.profile=e,this.activeView="overview",this.doughnutChartColors=[{backgroundColor:["#fff","rgba(0, 0, 0, .24)"]}],this.total1=500,this.data1=200,this.doughnutChartData1=[this.data1,this.total1-this.data1],this.total2=1e3,this.data2=400,this.doughnutChartData2=[this.data2,this.total2-this.data2],this.doughnutChartType="doughnut",this.doughnutOptions={cutoutPercentage:85,responsive:!0,maintainAspectRatio:!0,legend:{display:!1,position:"bottom"},elements:{arc:{borderWidth:0}},tooltips:{enabled:!1}}}ngOnInit(){this.activeView=this.router.snapshot.params.view,this.user=this.profile.user}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(i.a),d.Vb(u.a))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-profile"]],decls:41,vars:7,consts:[["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-md","300px","fxFlex.gt-sm","50"],[1,"profile-sidebar","mb-1","pb-0"],[1,"propic","text-center"],["src","assets/images/sq-face-220.jpg","alt",""],[1,"profile-title","text-center","mb-1"],[1,"main-title"],[1,"subtitle","mb-05"],["class","text-muted",4,"ngIf"],["fxLayoutAlign","center center",1,"profile-actions","mb-1"],["mat-raised-button","","color","primary"],["fxFlex","8px"],["mat-raised-button","","color","accent"],[1,"default"],[1,"pt-0"],[1,"mr-1"],["fxFlex","100","fxFlex.gt-sm","50","fxFlex.gt-md","calc(100% - 300px)"],[1,"text-muted"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"mat-card",2),d.bc(3,"div",3),d.Wb(4,"img",4),d.ac(),d.bc(5,"div",5),d.bc(6,"div",6),d.Pc(7),d.ac(),d.bc(8,"div",7),d.Pc(9),d.ac(),d.Nc(10,v,2,0,"div",8),d.Nc(11,P,2,0,"div",8),d.ac(),d.bc(12,"div",9),d.bc(13,"button",10),d.Pc(14,"Message"),d.ac(),d.Wb(15,"span",11),d.bc(16,"button",12),d.Pc(17,"Follow"),d.ac(),d.ac(),d.ac(),d.bc(18,"mat-card",13),d.bc(19,"mat-card-title"),d.Pc(20,"Summary"),d.ac(),d.Wb(21,"mat-card-content"),d.ac(),d.bc(22,"mat-card",13),d.bc(23,"mat-card-title"),d.Pc(24,"Contact Information"),d.ac(),d.bc(25,"mat-card-content",14),d.bc(26,"mat-list"),d.bc(27,"mat-list-item"),d.bc(28,"mat-icon",15),d.Pc(29,"email"),d.ac(),d.Pc(30),d.ac(),d.bc(31,"mat-list-item"),d.bc(32,"mat-icon",15),d.Pc(33,"phone"),d.ac(),d.Pc(34),d.ac(),d.bc(35,"mat-list-item"),d.bc(36,"mat-icon",15),d.Pc(37,"add_location"),d.ac(),d.Pc(38),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(39,"div",16),d.Wb(40,"router-outlet"),d.ac(),d.ac()),2&t&&(d.Gb(7),d.Qc(e.user.name),d.Gb(2),d.Qc(e.user.role),d.Gb(1),d.tc("ngIf","publisher"===e.user.role),d.Gb(1),d.tc("ngIf","agent"===e.user.role),d.Gb(19),d.Rc(" ",e.user.email,""),d.Gb(4),d.Rc(" ",e.user.phone,""),d.Gb(4),d.Rc(" ",e.user.location,""))},directives:[m.c,m.a,h.a,a.m,m.b,f.b,h.d,h.b,p.a,p.b,g.a,i.l],encapsulation:2}),t})();var w=c("3kSh"),G=c("3sEA"),y=c("GmJt"),S=c("0IaG"),k=c("kmnG"),F=c("qFsG"),I=c("d3UM"),N=c("FKr1");function j(t,e){if(1&t&&(d.bc(0,"mat-option",18),d.Pc(1),d.ac()),2&t){const t=e.$implicit;d.tc("value",t.id),d.Gb(1),d.Rc(" ",t.name," ")}}function R(t,e){if(1&t&&(d.bc(0,"mat-option",18),d.Pc(1),d.ac()),2&t){const t=e.$implicit;d.tc("value",t.id),d.Gb(1),d.Rc(" ",t.name," ")}}let C=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.subjects=this.data.subjects,this.learnerstages=this.data.learnerstages,this.itemForm=this.fb.group({name:["",s.s.required],subject_id:["",s.s.required],learner_stage_id:["",s.s.required],edition:["",s.s.required],price:["",s.s.required],stock:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-new-inventory-popup"]],decls:42,vars:8,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["formControlName","learner_stage_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["formControlName","subject_id","required",""],["fxFlex","50",1,"pr-1"],["matInput","","name","edition","placeholder","Edition",3,"formControl"],["matInput","","name","price","placeholder","Price",3,"formControl"],["matInput","","name","stock","placeholder","Stock",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Add A New Item"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"mat-form-field",4),d.Wb(6,"input",5),d.ac(),d.ac(),d.bc(7,"div",3),d.bc(8,"mat-form-field",4),d.bc(9,"mat-label"),d.Pc(10,"Class"),d.ac(),d.bc(11,"mat-select",6),d.Nc(12,j,2,2,"mat-option",7),d.ac(),d.bc(13,"mat-icon",8),d.Pc(14,"outlined_flag"),d.ac(),d.bc(15,"mat-error"),d.Pc(16,"Class is required!"),d.ac(),d.ac(),d.ac(),d.bc(17,"div",3),d.bc(18,"mat-form-field",4),d.bc(19,"mat-label"),d.Pc(20,"Subject"),d.ac(),d.bc(21,"mat-select",9),d.Nc(22,R,2,2,"mat-option",7),d.ac(),d.bc(23,"mat-icon",8),d.Pc(24,"outlined_flag"),d.ac(),d.bc(25,"mat-error"),d.Pc(26,"Subject is required!"),d.ac(),d.ac(),d.ac(),d.bc(27,"div",10),d.bc(28,"mat-form-field",4),d.Wb(29,"input",11),d.ac(),d.ac(),d.bc(30,"div",10),d.bc(31,"mat-form-field",4),d.Wb(32,"input",12),d.ac(),d.ac(),d.bc(33,"div",10),d.bc(34,"mat-form-field",4),d.Wb(35,"input",13),d.ac(),d.ac(),d.bc(36,"div",14),d.bc(37,"button",15),d.Pc(38,"Save"),d.ac(),d.Wb(39,"span",16),d.bc(40,"button",17),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(41,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(4),d.tc("formControl",e.itemForm.controls.name),d.Gb(6),d.tc("ngForOf",e.learnerstages),d.Gb(10),d.tc("ngForOf",e.subjects),d.Gb(7),d.tc("formControl",e.itemForm.controls.edition),d.Gb(3),d.tc("formControl",e.itemForm.controls.price),d.Gb(3),d.tc("formControl",e.itemForm.controls.stock),d.Gb(2),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,k.b,F.b,s.b,s.m,s.f,k.e,I.a,s.g,s.r,a.l,g.a,k.f,k.a,f.b,N.p],encapsulation:2}),t})();function A(t,e){if(1&t&&(d.bc(0,"mat-option",13),d.Pc(1),d.ac()),2&t){const t=e.$implicit;d.tc("value",t.id),d.Gb(1),d.Uc(" ",t.name," - ",t.class," - ",t.subject_name," - ",t.edition," Edition ")}}let q=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.items=this.data.items,this.itemForm=this.fb.group({item_id:["",s.s.required],added:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-add-stock-popup"]],decls:23,vars:4,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["formControlName","item_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["matInput","","name","added","placeholder","Quantity",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Add Stock"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"mat-form-field",4),d.bc(6,"mat-label"),d.Pc(7,"Item"),d.ac(),d.bc(8,"mat-select",5),d.Nc(9,A,2,5,"mat-option",6),d.ac(),d.bc(10,"mat-icon",7),d.Pc(11,"outlined_flag"),d.ac(),d.bc(12,"mat-error"),d.Pc(13,"Item is required!"),d.ac(),d.ac(),d.ac(),d.bc(14,"div",3),d.bc(15,"mat-form-field",4),d.Wb(16,"input",8),d.ac(),d.ac(),d.bc(17,"div",9),d.bc(18,"button",10),d.Pc(19,"Save"),d.ac(),d.Wb(20,"span",11),d.bc(21,"button",12),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(22,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(7),d.tc("ngForOf",e.items),d.Gb(7),d.tc("formControl",e.itemForm.controls.added),d.Gb(2),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,k.b,k.e,I.a,s.m,s.g,s.r,a.l,g.a,k.f,k.a,F.b,s.b,s.f,f.b,N.p],encapsulation:2}),t})(),V=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.itemForm=this.fb.group({name:["",s.s.required]})}submit(){console.log(this.itemForm.value),this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-add-class-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Add New Class"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"mat-form-field",4),d.Wb(6,"input",5),d.ac(),d.ac(),d.bc(7,"div",6),d.bc(8,"button",7),d.Pc(9,"Save"),d.ac(),d.Wb(10,"span",8),d.bc(11,"button",9),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(12,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(4),d.tc("formControl",e.itemForm.controls.name),d.Gb(2),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,k.b,F.b,s.b,s.m,s.f,f.b],encapsulation:2}),t})(),O=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.itemForm=this.fb.group({name:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-add-subject-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Add New Subject"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"mat-form-field",4),d.Wb(6,"input",5),d.ac(),d.ac(),d.bc(7,"div",6),d.bc(8,"button",7),d.Pc(9,"Save"),d.ac(),d.Wb(10,"span",8),d.bc(11,"button",9),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(12,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(4),d.tc("formControl",e.itemForm.controls.name),d.Gb(2),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,k.b,F.b,s.b,s.m,s.f,f.b],encapsulation:2}),t})();function H(t,e){if(1&t&&(d.bc(0,"mat-option",12),d.Pc(1),d.ac()),2&t){const t=e.$implicit;d.tc("value",t.id),d.Gb(1),d.Rc(" ",t.name," ")}}let M=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.agents=this.data.agents,this.itemForm=this.fb.group({id:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-request-agent-popup"]],decls:20,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["formControlName","id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Ask An Agent To Sell Your Stock"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"mat-form-field",4),d.bc(6,"mat-label"),d.Pc(7,"Agents"),d.ac(),d.bc(8,"mat-select",5),d.Nc(9,H,2,2,"mat-option",6),d.ac(),d.bc(10,"mat-icon",7),d.Pc(11,"outlined_flag"),d.ac(),d.bc(12,"mat-error"),d.Pc(13,"You must select an Agent"),d.ac(),d.ac(),d.ac(),d.bc(14,"div",8),d.bc(15,"button",9),d.Pc(16,"Apply"),d.ac(),d.Wb(17,"span",10),d.bc(18,"button",11),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(19,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(7),d.tc("ngForOf",e.agents),d.Gb(6),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,k.b,k.e,I.a,s.m,s.g,s.r,a.l,g.a,k.f,k.a,f.b,N.p],encapsulation:2}),t})();var L=c("qP9D");let _=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.user=this.data.user,this.itemForm=this.fb.group({id:[this.user.id]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-respond-request-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Respond to Request"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"div",4),d.Pc(6),d.ac(),d.ac(),d.bc(7,"div",5),d.bc(8,"button",6),d.Pc(9,"Accept"),d.ac(),d.Wb(10,"span",7),d.bc(11,"button",8),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(12,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(4),d.Qc(e.user.name),d.Gb(2),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,f.b],encapsulation:2}),t})();var W=c("nm5K");function K(t,e){if(1&t&&(d.bc(0,"mat-option",12),d.Pc(1),d.ac()),2&t){const t=e.$implicit;d.tc("value",t.id),d.Gb(1),d.Rc(" ",t.name," ")}}let T=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.publishers=this.data.publishers,this.user=this.data.user,this.itemForm=this.fb.group({id:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-request-publisher-popup"]],decls:20,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["formControlName","id","required",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"secondary-text"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Request to Sell Stock for Publisher"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"mat-form-field",4),d.bc(6,"mat-label"),d.Pc(7,"Publishers"),d.ac(),d.bc(8,"mat-select",5),d.Nc(9,K,2,2,"mat-option",6),d.ac(),d.bc(10,"mat-icon",7),d.Pc(11,"outlined_flag"),d.ac(),d.bc(12,"mat-error"),d.Pc(13,"You must select a publisher"),d.ac(),d.ac(),d.ac(),d.bc(14,"div",8),d.bc(15,"button",9),d.Pc(16,"Apply"),d.ac(),d.Wb(17,"span",10),d.bc(18,"button",11),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(19,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(7),d.tc("ngForOf",e.publishers),d.Gb(6),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,k.b,k.e,I.a,s.m,s.g,s.r,a.l,g.a,k.f,k.a,f.b,N.p],encapsulation:2}),t})();var D=c("FHx2");let U=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.user=this.data.user,this.itemForm=this.fb.group({publisher_id:[this.user.id]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-respond-publisher"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],[1,"profile-title","text-center","mb-1"],[1,"main-title"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Respond to Request"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"div",4),d.Pc(6),d.ac(),d.ac(),d.bc(7,"div",5),d.bc(8,"button",6),d.Pc(9,"Accept"),d.ac(),d.Wb(10,"span",7),d.bc(11,"button",8),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(12,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(4),d.Qc(e.user.name),d.Gb(2),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,f.b],encapsulation:2}),t})(),Q=(()=>{class t{constructor(t,e,c){this.data=t,this.dialogRef=e,this.fb=c}ngOnInit(){this.itemForm=this.fb.group({name:["",s.s.required]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.a),d.Vb(S.f),d.Vb(s.d))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-addpayment-method-popup"]],decls:13,vars:3,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","100",1,"pr-1"],[1,"full-width"],["matInput","","name","name","placeholder","Name",3,"formControl"],["fxFlex","100",1,"mt-1"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(d.bc(0,"h1",0),d.Pc(1,"Add New Payment Method"),d.ac(),d.bc(2,"form",1),d.jc("ngSubmit",(function(t){return e.submit()})),d.bc(3,"div",2),d.bc(4,"div",3),d.bc(5,"mat-form-field",4),d.Wb(6,"input",5),d.ac(),d.ac(),d.bc(7,"div",6),d.bc(8,"button",7),d.Pc(9,"Save"),d.ac(),d.Wb(10,"span",8),d.bc(11,"button",9),d.jc("click",(function(t){return e.dialogRef.close(!1)})),d.Pc(12,"Cancel"),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Gb(2),d.tc("formGroup",e.itemForm),d.Gb(4),d.tc("formControl",e.itemForm.controls.name),d.Gb(2),d.tc("disabled",e.itemForm.invalid))},directives:[S.g,s.t,s.n,s.h,m.c,m.a,k.b,F.b,s.b,s.m,s.f,f.b],styles:[""]}),t})();var E=c("qsxP"),Y=c("dNgK"),$=c("5eHb"),z=c("A5z7");function B(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.name," ")}}function J(t,e){if(1&t&&(d.bc(0,"mat-chip",9),d.Pc(1),d.ac()),2&t){const t=e.row;d.tc("color","primary")("selected",t.isActive),d.Gb(1),d.Qc(t.isActive?"active":"inactive")}}function X(t,e){1&t&&(d.bc(0,"button",10),d.bc(1,"mat-icon"),d.Pc(2,"edit"),d.ac(),d.ac(),d.bc(3,"button",11),d.bc(4,"mat-icon"),d.Pc(5,"delete"),d.ac(),d.ac())}const Z=function(){return{y:"50px",delay:"300ms"}},tt=function(t){return{value:"*",params:t}};function et(t,e){if(1&t&&(d.bc(0,"div"),d.bc(1,"mat-card",3),d.bc(2,"mat-card-content",3),d.bc(3,"ngx-datatable",4),d.bc(4,"ngx-datatable-column",5),d.Nc(5,B,1,1,"ng-template",6),d.ac(),d.bc(6,"ngx-datatable-column",7),d.Nc(7,J,2,3,"ng-template",6),d.ac(),d.bc(8,"ngx-datatable-column",8),d.Nc(9,X,6,0,"ng-template",6),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&t){const t=d.nc(2);d.Gb(1),d.tc("@animate",d.yc(12,tt,d.xc(11,Z))),d.Gb(2),d.tc("rows",t.learnerstages)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),d.Gb(1),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1)}}function ct(t,e){if(1&t){const t=d.cc();d.bc(0,"div"),d.bc(1,"div",1),d.bc(2,"button",2),d.jc("click",(function(e){return d.Gc(t),d.nc().openAddClass({},!0)})),d.Pc(3,"Add New Class"),d.ac(),d.ac(),d.Nc(4,et,10,14,"div",0),d.ac()}if(2&t){const t=d.nc();d.Gb(4),d.tc("ngIf",t.role.admin)}}function at(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.name," ")}}function it(t,e){if(1&t&&(d.bc(0,"mat-chip",9),d.Pc(1),d.ac()),2&t){const t=e.row;d.tc("color","primary")("selected",t.isActive),d.Gb(1),d.Qc(t.isActive?"active":"inactive")}}function st(t,e){1&t&&(d.bc(0,"button",10),d.bc(1,"mat-icon"),d.Pc(2,"edit"),d.ac(),d.ac(),d.bc(3,"button",11),d.bc(4,"mat-icon"),d.Pc(5,"delete"),d.ac(),d.ac())}function nt(t,e){if(1&t){const t=d.cc();d.bc(0,"div"),d.bc(1,"div",1),d.bc(2,"button",2),d.jc("click",(function(e){return d.Gc(t),d.nc().openAddSubject({},!0)})),d.Pc(3,"Add New Subject"),d.ac(),d.ac(),d.bc(4,"mat-card",3),d.bc(5,"mat-card-content",3),d.bc(6,"ngx-datatable",4),d.bc(7,"ngx-datatable-column",5),d.Nc(8,at,1,1,"ng-template",6),d.ac(),d.bc(9,"ngx-datatable-column",7),d.Nc(10,it,2,3,"ng-template",6),d.ac(),d.bc(11,"ngx-datatable-column",8),d.Nc(12,st,6,0,"ng-template",6),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.nc();d.Gb(4),d.tc("@animate",d.yc(12,tt,d.xc(11,Z))),d.Gb(2),d.tc("rows",t.subjects)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),d.Gb(1),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1)}}function rt(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.name," ")}}function ot(t,e){if(1&t&&(d.bc(0,"mat-chip",9),d.Pc(1),d.ac()),2&t){const t=e.row;d.tc("color","primary")("selected",t.isActive),d.Gb(1),d.Qc(t.isActive?"active":"inactive")}}function lt(t,e){1&t&&(d.bc(0,"button",10),d.bc(1,"mat-icon"),d.Pc(2,"edit"),d.ac(),d.ac(),d.bc(3,"button",11),d.bc(4,"mat-icon"),d.Pc(5,"delete"),d.ac(),d.ac())}function bt(t,e){if(1&t){const t=d.cc();d.bc(0,"div"),d.bc(1,"div",1),d.bc(2,"button",2),d.jc("click",(function(e){return d.Gc(t),d.nc().openAddPaymentMethod({},!0)})),d.Pc(3,"Add New Payment Method"),d.ac(),d.ac(),d.bc(4,"mat-card",3),d.bc(5,"mat-card-content",3),d.bc(6,"ngx-datatable",4),d.bc(7,"ngx-datatable-column",5),d.Nc(8,rt,1,1,"ng-template",6),d.ac(),d.bc(9,"ngx-datatable-column",7),d.Nc(10,ot,2,3,"ng-template",6),d.ac(),d.bc(11,"ngx-datatable-column",8),d.Nc(12,lt,6,0,"ng-template",6),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.nc();d.Gb(4),d.tc("@animate",d.yc(12,tt,d.xc(11,Z))),d.Gb(2),d.tc("rows",t.paymentmethods)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),d.Gb(1),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1)}}function ut(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.name," ")}}function dt(t,e){if(1&t){const t=d.cc();d.bc(0,"button",13),d.jc("click",(function(c){d.Gc(t);const a=e.row;return d.nc(2).respondPublisher(a)})),d.bc(1,"mat-icon"),d.Pc(2,"group_add"),d.ac(),d.ac(),d.bc(3,"button",14),d.jc("click",(function(c){d.Gc(t);const a=e.row;return d.nc(2).deleteItem(a)})),d.bc(4,"mat-icon"),d.Pc(5,"delete"),d.ac(),d.ac()}}function mt(t,e){if(1&t&&(d.bc(0,"div"),d.bc(1,"div",1),d.bc(2,"button",12),d.Pc(3,"Pending Publishers"),d.ac(),d.ac(),d.bc(4,"mat-card",3),d.bc(5,"mat-card-content",3),d.bc(6,"ngx-datatable",4),d.bc(7,"ngx-datatable-column",5),d.Nc(8,ut,1,1,"ng-template",6),d.ac(),d.bc(9,"ngx-datatable-column",8),d.Nc(10,dt,6,0,"ng-template",6),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&t){const t=d.nc();d.Gb(4),d.tc("@animate",d.yc(11,tt,d.xc(10,Z))),d.Gb(2),d.tc("rows",t.pendingpublishers)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),d.Gb(1),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1)}}function ht(t,e){if(1&t){const t=d.cc();d.bc(0,"div"),d.bc(1,"div",1),d.bc(2,"button",2),d.jc("click",(function(e){return d.Gc(t),d.nc(2).requestAgent({},!0)})),d.Pc(3,"Ask an Agent to Sell Stock"),d.ac(),d.Wb(4,"span",15),d.bc(5,"button",16),d.Pc(6,"Make Transaction"),d.ac(),d.ac(),d.ac()}}function ft(t,e){if(1&t){const t=d.cc();d.bc(0,"div"),d.bc(1,"div",1),d.bc(2,"button",2),d.jc("click",(function(e){return d.Gc(t),d.nc(2).requestPublisher({},!0)})),d.Pc(3,"Request to Sell for Publisher"),d.ac(),d.ac(),d.ac()}}function pt(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.name," ")}}function gt(t,e){1&t&&(d.bc(0,"button",18),d.bc(1,"mat-icon"),d.Pc(2,"verified_user"),d.ac(),d.ac())}function vt(t,e){1&t&&(d.bc(0,"button",18),d.bc(1,"mat-icon"),d.Pc(2,"arrow_forward"),d.ac(),d.ac())}function Pt(t,e){1&t&&(d.bc(0,"button",18),d.bc(1,"mat-icon"),d.Pc(2,"arrow_back"),d.ac(),d.ac())}function xt(t,e){if(1&t&&(d.Nc(0,gt,3,0,"button",17),d.Nc(1,vt,3,0,"button",17),d.Nc(2,Pt,3,0,"button",17)),2&t){const t=e.row,c=d.nc(2);d.tc("ngIf","approved"===(null==t?null:t.status)),d.Gb(1),d.tc("ngIf",(null==t?null:t.by)==c.user.id&&"pending"===(null==t?null:t.status)),d.Gb(1),d.tc("ngIf",(null==t?null:t.by)!=c.user.id&&"pending"===(null==t?null:t.status))}}function wt(t,e){if(1&t){const t=d.cc();d.bc(0,"button",13),d.jc("click",(function(e){d.Gc(t);const c=d.nc().row;return d.nc(2).respondRequest(c)})),d.bc(1,"mat-icon"),d.Pc(2,"group_add"),d.ac(),d.ac()}}function Gt(t,e){if(1&t){const t=d.cc();d.Nc(0,wt,3,0,"button",19),d.bc(1,"button",14),d.jc("click",(function(c){d.Gc(t);const a=e.row;return d.nc(2).deleteItem(a)})),d.bc(2,"mat-icon"),d.Pc(3,"delete"),d.ac(),d.ac()}if(2&t){const t=e.row,c=d.nc(2);d.tc("ngIf","pending"===(null==t?null:t.status)&&(null==t?null:t.by)!=c.user.id)}}function yt(t,e){if(1&t&&(d.bc(0,"div"),d.Nc(1,ht,7,0,"div",0),d.Nc(2,ft,4,0,"div",0),d.bc(3,"mat-card",3),d.bc(4,"mat-card-content",3),d.bc(5,"ngx-datatable",4),d.bc(6,"ngx-datatable-column",5),d.Nc(7,pt,1,1,"ng-template",6),d.ac(),d.bc(8,"ngx-datatable-column",7),d.Nc(9,xt,3,3,"ng-template",6),d.ac(),d.bc(10,"ngx-datatable-column",8),d.Nc(11,Gt,4,1,"ng-template",6),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&t){const t=d.nc();d.Gb(1),d.tc("ngIf",t.role.publisher),d.Gb(1),d.tc("ngIf",t.role.agent),d.Gb(1),d.tc("@animate",d.yc(14,tt,d.xc(13,Z))),d.Gb(2),d.tc("rows",t.partners)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),d.Gb(1),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1)}}function St(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.name," ")}}function kt(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.class," ")}}function Ft(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.subject_name," ")}}function It(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.price," ")}}function Nt(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.remaining_stock," ")}}function jt(t,e){if(1&t){const t=d.cc();d.bc(0,"button",25),d.jc("click",(function(c){d.Gc(t);const a=e.row;return d.nc(2).openPopUp(a)})),d.bc(1,"mat-icon"),d.Pc(2,"edit"),d.ac(),d.ac(),d.bc(3,"button",14),d.jc("click",(function(c){d.Gc(t);const a=e.row;return d.nc(2).deleteItem(a)})),d.bc(4,"mat-icon"),d.Pc(5,"delete"),d.ac(),d.ac()}}function Rt(t,e){if(1&t){const t=d.cc();d.bc(0,"div"),d.bc(1,"div",1),d.bc(2,"button",2),d.jc("click",(function(e){return d.Gc(t),d.nc().openAddInventory({},!0)})),d.Pc(3,"Add New Item"),d.ac(),d.Wb(4,"span",15),d.bc(5,"button",20),d.jc("click",(function(e){return d.Gc(t),d.nc().openAddStock({},!0)})),d.Pc(6,"Add Stock"),d.ac(),d.ac(),d.bc(7,"mat-card",3),d.bc(8,"mat-card-content",3),d.bc(9,"ngx-datatable",4),d.bc(10,"ngx-datatable-column",5),d.Nc(11,St,1,1,"ng-template",6),d.ac(),d.bc(12,"ngx-datatable-column",21),d.Nc(13,kt,1,1,"ng-template",6),d.ac(),d.bc(14,"ngx-datatable-column",22),d.Nc(15,Ft,1,1,"ng-template",6),d.ac(),d.bc(16,"ngx-datatable-column",23),d.Nc(17,It,1,1,"ng-template",6),d.ac(),d.bc(18,"ngx-datatable-column",24),d.Nc(19,Nt,1,1,"ng-template",6),d.ac(),d.bc(20,"ngx-datatable-column",8),d.Nc(21,jt,6,0,"ng-template",6),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.nc();d.Gb(7),d.tc("@animate",d.yc(15,tt,d.xc(14,Z))),d.Gb(2),d.tc("rows",t.items)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),d.Gb(1),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1)}}function Ct(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Tc(" ",null==t?null:t.name," - ",null==t?null:t.class," - Edition - ",null==t?null:t.edition," ")}}function At(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.price," ")}}function qt(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.remaining_stock," ")}}function Vt(t,e){if(1&t&&(d.bc(0,"mat-card",3),d.bc(1,"mat-card-content",3),d.bc(2,"ngx-datatable",4),d.bc(3,"ngx-datatable-column",5),d.Nc(4,Ct,1,3,"ng-template",6),d.ac(),d.bc(5,"ngx-datatable-column",28),d.Nc(6,At,1,1,"ng-template",6),d.ac(),d.bc(7,"ngx-datatable-column",24),d.Nc(8,qt,1,1,"ng-template",6),d.ac(),d.ac(),d.ac(),d.ac()),2&t){const t=d.nc(2);d.tc("@animate",d.yc(12,tt,d.xc(11,Z))),d.Gb(2),d.tc("rows",t.stocks)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),d.Gb(1),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1)}}function Ot(t,e){if(1&t&&(d.bc(0,"div"),d.bc(1,"div",1),d.bc(2,"button",26),d.Pc(3,"Available Stock"),d.ac(),d.ac(),d.Nc(4,Vt,9,14,"mat-card",27),d.ac()),2&t){const t=d.nc();d.Gb(4),d.tc("ngIf",t.role.agent)}}function Ht(t,e){if(1&t){const t=d.cc();d.bc(0,"button",2),d.jc("click",(function(e){return d.Gc(t),d.nc(2).addRetailer({},!0)})),d.Pc(1,"Add A new Retailer"),d.ac()}}function Mt(t,e){1&t&&(d.bc(0,"button",31),d.Pc(1,"Make Transaction"),d.ac())}function Lt(t,e){if(1&t&&d.Pc(0),2&t){const t=e.row;d.Rc(" ",null==t?null:t.name," ")}}function _t(t,e){}function Wt(t,e){if(1&t&&(d.bc(0,"mat-card",3),d.bc(1,"mat-card-content",3),d.bc(2,"ngx-datatable",4),d.bc(3,"ngx-datatable-column",5),d.Nc(4,Lt,1,1,"ng-template",6),d.ac(),d.bc(5,"ngx-datatable-column",32),d.Nc(6,_t,0,0,"ng-template",6),d.ac(),d.ac(),d.ac(),d.ac()),2&t){const t=d.nc(2);d.tc("@animate",d.yc(11,tt,d.xc(10,Z))),d.Gb(2),d.tc("rows",t.retailers)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),d.Gb(1),d.tc("flexGrow",1),d.Gb(2),d.tc("flexGrow",1)}}function Kt(t,e){if(1&t&&(d.bc(0,"div"),d.bc(1,"div",1),d.Nc(2,Ht,2,0,"button",29),d.Wb(3,"span",15),d.Nc(4,Mt,2,0,"button",30),d.ac(),d.Nc(5,Wt,7,13,"mat-card",27),d.ac()),2&t){const t=d.nc();d.Gb(2),d.tc("ngIf",t.role.agent),d.Gb(2),d.tc("ngIf",t.role.agent),d.Gb(1),d.tc("ngIf",t.role.agent)}}const Tt=[{path:"",component:x,children:[{path:"overview",component:(()=>{class t{constructor(t,e,c,a,i,s,n,r){this.dialog=t,this.snack=e,this.crudService=c,this.confirmService=a,this.loader=i,this.toastr=s,this.state=n,this.data=r,this.role=this.state.role,this.state.user.subscribe(t=>{this.user=t})}ngOnInit(){this.getLearnerstage(),this.getSubject(),this.getItems(),this.getPublishers(),this.getPartners(),this.getAgents(),this.getPendingPublishers(),this.getPaymentMethods(),this.getRetailers(),this.getStocks()}ngOnDestroy(){}getStocks(){this.stocks=this.data.stocks}getRetailers(){this.retailers=this.data.retailers}getPartners(){this.partners=this.data.partners}getPaymentMethods(){this.paymentmethods=this.data.paymentmethods}getPendingPublishers(){this.pendingpublishers=this.data.pendingPublishers}getSubject(){this.subjects=this.data.subjects}getLearnerstage(){this.learnerstages=this.data.learnerstages}getItems(){this.items=this.data.items}getPublishers(){this.publishers=this.data.publishers}getAgents(){this.agents=this.data.agents}openAddClass(t={},e){this.dialog.open(V,{width:"720px",disableClose:!0}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addClass(c).subscribe(t=>{this.learnerstages=this.learnerstages.concat([t]),this.loader.close(),this.snack.open("New Class Added!","OK",{duration:4e3})}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}openAddPaymentMethod(t={},e){this.dialog.open(Q,{width:"720px",disableClose:!0}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addPaymentMethod(c).subscribe(t=>{this.paymentmethods=this.paymentmethods.concat([t]),this.data.paymentmethods=this.paymentmethods,this.loader.close(),this.snack.open("New Payment Method Added!","OK",{duration:4e3})}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}addRetailer(t={},e){this.dialog.open(E.a,{width:"720px",disableClose:!0}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addRetailer(c).subscribe(t=>{this.retailers=this.retailers.concat([t]),this.data.retailers=this.retailers,this.loader.close(),this.snack.open("New Retailer Added!","OK",{duration:4e3})}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}openAddSubject(t={},e){this.dialog.open(O,{width:"720px",disableClose:!0}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addSubject(c).subscribe(t=>{this.subjects=this.subjects.concat([t]),this.loader.close(),this.snack.open("New Subject Added!","OK",{duration:4e3})}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}openAddInventory(t={},e){this.dialog.open(C,{width:"720px",disableClose:!0,data:{subjects:this.subjects,learnerstages:this.learnerstages}}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addItem(c).subscribe(t=>{this.items=this.items.concat([t]),this.loader.close(),this.snack.open("New Item Added","OK",{duration:4e3})},t=>{this.loader.close(),this.toastr.error("sorry",t.error)}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}openAddStock(t={},e){this.dialog.open(q,{width:"720px",disableClose:!0,data:{items:this.items}}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.addStock(c).subscribe(t=>{this.items=this.items.filter((function(e){return e.id!==t.id})),this.items=this.items.concat([t]),this.loader.close(),this.snack.open("Stock Added","OK",{duration:4e3})},t=>{this.loader.close(),this.toastr.error("Sorry",t.error)}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}requestAgent(t={},e){this.dialog.open(M,{width:"720px",disableClose:!0,data:{agents:this.agents}}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.userRequest(c).subscribe(t=>{this.loader.close(),this.partners=this.partners.concat([t.partner]),this.data.partners=this.partners,this.toastr.success("Success",t.message)},t=>{this.loader.close(),this.toastr.error("Sorry",t.error)}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}requestPublisher(t={},e){this.dialog.open(T,{width:"720px",disableClose:!0,data:{publishers:this.publishers}}).afterClosed().subscribe(c=>{c&&(this.loader.open(),e?this.crudService.userRequest(c).subscribe(t=>{this.loader.close(),this.partners=this.partners.concat([t.partner]),this.data.partners=this.partners,this.toastr.success("Success",t.message)},t=>{this.loader.close(),this.toastr.error("Sorry",t.error)}):this.crudService.updateItem(t._id,c).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member Updated!","OK",{duration:4e3})}))})}respondRequest(t){console.log(t),this.dialog.open(_,{width:"720px",disableClose:!0,data:{user:t}}).afterClosed().subscribe(e=>{e&&(this.loader.open(),this.crudService.respondRequest(e).subscribe(t=>{this.loader.close(),this.partners=this.partners.filter((function(e){return e.id!==t.id})),this.partners=this.partners.concat([t]),this.data.partners=this.partners},e=>{this.loader.close(),console.log(t)}))})}deleteItem(t){this.confirmService.confirm({message:`Delete ${t.name}?`}).subscribe(e=>{e&&(this.loader.open(),this.crudService.removeItem(t).subscribe(t=>{this.items=t,this.loader.close(),this.snack.open("Member deleted!","OK",{duration:4e3})}))})}respondPublisher(t){this.dialog.open(U,{width:"480px",disableClose:!0,data:{user:t}}).afterClosed().subscribe(t=>{t&&(this.loader.open(),this.crudService.respondPendingPublisher(t).subscribe(t=>{this.loader.close(),this.pendingpublishers=this.pendingpublishers.filter((function(e){return e.id!==t.id})),this.data.pendingPublishers=this.pendingpublishers,this.toastr.success("success","Publisher has been Approved")},t=>{this.loader.close()}))})}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(S.b),d.Vb(Y.a),d.Vb(W.a),d.Vb(w.a),d.Vb(G.a),d.Vb($.b),d.Vb(L.a),d.Vb(D.a))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-publisher"]],decls:8,vars:8,consts:[[4,"ngIf"],[1,"m-333"],["mat-raised-button","","color","primary",1,"mb-05",3,"click"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","limit","rowHeight"],["name","Name",3,"flexGrow"],["ngx-datatable-cell-template",""],["name","Status",3,"flexGrow"],["name","Actions",3,"flexGrow"],["mat-sm-chip","",3,"color","selected"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1"],["mat-icon-button","","mat-sm-button","","color","warn"],["mat-raised-button","","color","warn",1,"mb-05"],["mat-icon-button","","mat-sm-button","","color","accent",1,"mr-1",3,"click"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],["fxFlex","8px"],["mat-raised-button","","color","warn","routerLink","/invoice/home",1,"mb-05"],["mat-icon-button","","mat-sm-button","","color","success","class","mr-1",4,"ngIf"],["mat-icon-button","","mat-sm-button","","color","success",1,"mr-1"],["mat-icon-button","","mat-sm-button","","color","accent","class","mr-1",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",1,"mb-05",3,"click"],["name","Class",3,"flexGrow"],["name","Subject",3,"flexGrow"],["name","Price",3,"flexGrow"],["name","Stock",3,"flexGrow"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-1",3,"click"],["mat-raised-button","","color","primary",1,"mb-05"],["class","p-0",4,"ngIf"],["name","price",3,"flexGrow"],["mat-raised-button","","class","mb-05","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","class","mb-05","color","warn","routerLink","/invoice/retail",4,"ngIf"],["mat-raised-button","","color","warn","routerLink","/invoice/retail",1,"mb-05"],["name","status",3,"flexGrow"]],template:function(t,e){1&t&&(d.Nc(0,ct,5,1,"div",0),d.Nc(1,nt,13,14,"div",0),d.Nc(2,bt,13,14,"div",0),d.Nc(3,mt,11,13,"div",0),d.Nc(4,yt,12,16,"div",0),d.Nc(5,Rt,22,17,"div",0),d.Nc(6,Ot,5,1,"div",0),d.Nc(7,Kt,6,3,"div",0)),2&t&&(d.tc("ngIf",e.role.admin),d.Gb(1),d.tc("ngIf",e.role.admin),d.Gb(1),d.tc("ngIf",e.role.admin),d.Gb(1),d.tc("ngIf",e.role.admin),d.Gb(1),d.tc("ngIf",e.role.publisher||e.role.agent),d.Gb(1),d.tc("ngIf",e.role.publisher),d.Gb(1),d.tc("ngIf",e.role.agent),d.Gb(1),d.tc("ngIf",e.role.agent))},directives:[a.m,f.b,h.a,h.b,r.c,r.b,r.a,z.a,g.a,m.a,i.h],styles:[""],data:{animation:y.a}}),t})(),data:{title:"Overview",breadcrumb:"OVERVIEW"},resolve:{publisher:(()=>{class t{constructor(t,e,c,a){this.router=t,this.crudeService=e,this.data=c,this.state=a}resolve(t,e){return new Promise((t,e)=>{this.state.role.admin||this.state.role.publisher||!this.state.role.agent||Promise.all([this.getPublishers(),this.getPartners(),this.getAgents(),this.getRetailers(),this.getStocks()]).then(()=>{t()},e),this.state.role.admin&&this.state.role.publisher&&!this.state.role.agent&&Promise.all([this.getLearnerstages(),this.getSubjects(),this.getItems(),this.getPublishers(),this.getPartners(),this.getAgents(),this.getpendingPublishers(),this.getpaymentmethods()]).then(()=>{t()},e),!this.state.role.admin||this.state.role.publisher||this.state.role.agent||Promise.all([this.getLearnerstages(),this.getSubjects(),this.getpendingPublishers(),this.getpaymentmethods()]).then(()=>{t()},e),this.state.role.admin||!this.state.role.publisher||this.state.role.agent||Promise.all([this.getItems(),this.getPublishers(),this.getPartners(),this.getAgents(),this.getLearnerstages(),this.getSubjects()]).then(()=>{t()},e)})}getStocks(){return new Promise((t,e)=>{this.data.stocks?(this.stocks=this.data.stocks,t(this.stocks)):this.crudeService.getStocks().subscribe(e=>{this.stocks=e.data,this.data.stocks=e.data,t(this.stocks)},e)})}getRetailers(){return new Promise((t,e)=>{this.data.retailers?(this.retailers=this.data.retailers,t(this.retailers)):this.crudeService.getRetailer().subscribe(e=>{this.retailers=e.data,this.data.retailers=e.data,t(this.retailers)},e)})}getLearnerstages(){return new Promise((t,e)=>{this.data.learnerstages?(this.learnerstages=this.data.learnerstages,t(this.learnerstages)):this.crudeService.getLearnerStages().subscribe(e=>{this.learnerstages=e.data,this.data.learnerstages=e.data,t(this.learnerstages)},e)})}getpendingPublishers(){return new Promise((t,e)=>{this.data.pendingPublishers?(this.pendingPublishers=this.data.pendingPublishers,t(this.pendingPublishers)):this.crudeService.getPendingPublishers().subscribe(e=>{this.pendingPublishers=e,this.data.pendingPublishers=e,t(this.pendingPublishers)},e)})}getpaymentmethods(){return new Promise((t,e)=>{this.data.paymentmethods?(this.paymentmethods=this.data.paymentmethods,t(this.paymentmethods)):this.crudeService.getPaymentMethod().subscribe(e=>{this.paymentmethods=e.data,this.data.paymentmethods=e.data,t(this.paymentmethods)},e)})}getSubjects(){return new Promise((t,e)=>{this.data.subjects?(this.subjects=this.data.learnerstages,t(this.subjects)):this.crudeService.getSubjects().subscribe(e=>{this.subjects=e.data,this.data.subjects=e.data,t(this.subjects)},e)})}getItems(){return new Promise((t,e)=>{this.data.items?(this.items=this.data.items,t(this.items)):this.crudeService.getItems().subscribe(e=>{this.items=e.data,this.data.items=e.data,t(this.items)},e)})}getPublishers(){return new Promise((t,e)=>{this.data.publishers?(this.publishers=this.data.publishers,t(this.publishers)):this.crudeService.getPublishers().subscribe(e=>{this.publishers=e,this.data.publishers=e,t(this.publishers)},e)})}getPartners(){return new Promise((t,e)=>{this.data.partners?(this.partners=this.data.partners,t(this.partners)):this.crudeService.getPartners().subscribe(e=>{this.partners=e.data,this.data.partners=e.data,t(this.partners)},e)})}getAgents(){return new Promise((t,e)=>{this.data.agents?(this.agents=this.data.agents,t(this.agents)):this.crudeService.getAgents().subscribe(e=>{this.agents=e.data,this.data.agents=e,t(this.agents)},e)})}}return t.\u0275fac=function(e){return new(e||t)(d.fc(i.g),d.fc(W.a),d.fc(D.a),d.fc(L.a))},t.\u0275prov=d.Rb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]}];var Dt=c("0Lhs"),Ut=c("PCNd"),Qt=c("zMWy");c.d(e,"ProfileModule",(function(){return Et}));let Et=(()=>{class t{}return t.\u0275mod=d.Tb({type:t}),t.\u0275inj=d.Sb({factory:function(e){return new(e||t)},providers:[],imports:[[a.c,s.i,s.q,n.a,r.d,o.a,l.a,b.a,Qt.a,F.c,h.c,f.c,p.c,n.a,Dt.b,Ut.a,i.k.forChild(Tt)]]}),t})()}}]);